{"version":3,"sources":["../../../src/swarm/prompt-utils.ts"],"sourcesContent":["import * as fs from 'fs/promises';\r\nimport * as path from 'path';\r\nimport { logger } from '../core/logger.js';\r\n\r\nexport interface PromptConfig {\r\n  sourceDirectories: string[];\r\n  destinationDirectory: string;\r\n  defaultOptions: {\r\n    backup: boolean;\r\n    verify: boolean;\r\n    parallel: boolean;\r\n    maxWorkers: number;\r\n    conflictResolution: 'skip' | 'overwrite' | 'backup' | 'merge';\r\n    includePatterns: string[];\r\n    excludePatterns: string[];\r\n  };\r\n  profiles: Record<string, Partial<PromptConfig['defaultOptions']>>;\r\n}\r\n\r\nexport const DEFAULT_CONFIG: PromptConfig = {\r\n  sourceDirectories: ['.roo', '.claude/commands', 'src/templates', 'templates'],\r\n  destinationDirectory: './project-prompts',\r\n  defaultOptions: {\r\n    backup: true,\r\n    verify: true,\r\n    parallel: true,\r\n    maxWorkers: 4,\r\n    conflictResolution: 'backup',\r\n    includePatterns: ['*.md', '*.txt', '*.prompt', '*.prompts', '*.json'],\r\n    excludePatterns: ['**/node_modules/**', '**/.git/**', '**/dist/**', '**/build/**'],\r\n  },\r\n  profiles: {\r\n    sparc: {\r\n      includePatterns: ['*.md', 'rules.md', 'sparc-*.md'],\r\n      excludePatterns: ['**/README.md', '**/CHANGELOG.md'],\r\n    },\r\n    templates: {\r\n      includePatterns: ['*.template', '*.tmpl', '*.hbs', '*.mustache'],\r\n      conflictResolution: 'merge',\r\n    },\r\n    safe: {\r\n      backup: true,\r\n      verify: true,\r\n      conflictResolution: 'skip',\r\n      parallel: false,\r\n    },\r\n    fast: {\r\n      backup: false,\r\n      verify: false,\r\n      parallel: true,\r\n      maxWorkers: 8,\r\n      conflictResolution: 'overwrite',\r\n    },\r\n  },\r\n};\r\n\r\nexport class PromptConfigManager {\r\n  private configPath: string;\r\n  private config: PromptConfig;\r\n\r\n  constructor(configPath?: string) {\r\n    this.configPath = configPath || path.join(process.cwd(), '.prompt-config.json');\r\n    this.config = { ...DEFAULT_CONFIG };\r\n  }\r\n\r\n  async loadConfig(): Promise<PromptConfig> {\r\n    try {\r\n      const configData = await fs.readFile(this.configPath, 'utf-8');\r\n      const userConfig = JSON.parse(configData) as Partial<PromptConfig>;\r\n\r\n      // Merge with defaults\r\n      this.config = this.mergeConfig(DEFAULT_CONFIG, userConfig);\r\n      logger.info(`Loaded config from ${this.configPath}`);\r\n    } catch (error) {\r\n      logger.info('Using default configuration');\r\n    }\r\n\r\n    return this.config;\r\n  }\r\n\r\n  async saveConfig(config?: Partial<PromptConfig>): Promise<void> {\r\n    if (config) {\r\n      this.config = this.mergeConfig(this.config, config);\r\n    }\r\n\r\n    await fs.writeFile(this.configPath, JSON.stringify(this.config, null, 2));\r\n    logger.info(`Saved config to ${this.configPath}`);\r\n  }\r\n\r\n  getConfig(): PromptConfig {\r\n    return this.config;\r\n  }\r\n\r\n  getProfile(profileName: string): PromptConfig['defaultOptions'] {\r\n    const profile = this.config.profiles[profileName];\r\n    if (!profile) {\r\n      throw new Error(`Profile '${profileName}' not found`);\r\n    }\r\n\r\n    return { ...this.config.defaultOptions, ...profile };\r\n  }\r\n\r\n  listProfiles(): string[] {\r\n    return Object.keys(this.config.profiles);\r\n  }\r\n\r\n  private mergeConfig(base: PromptConfig, override: Partial<PromptConfig>): PromptConfig {\r\n    return {\r\n      ...base,\r\n      ...override,\r\n      defaultOptions: {\r\n        ...base.defaultOptions,\r\n        ...override.defaultOptions,\r\n      },\r\n      profiles: {\r\n        ...base.profiles,\r\n        ...override.profiles,\r\n      },\r\n    };\r\n  }\r\n}\r\n\r\nexport class PromptPathResolver {\r\n  private basePath: string;\r\n\r\n  constructor(basePath: string = process.cwd()) {\r\n    this.basePath = basePath;\r\n  }\r\n\r\n  resolvePaths(\r\n    sourceDirectories: string[],\r\n    destinationDirectory: string,\r\n  ): {\r\n    sources: string[];\r\n    destination: string;\r\n  } {\r\n    const sources = sourceDirectories\r\n      .map((dir) => path.resolve(this.basePath, dir))\r\n      .filter((dir) => this.directoryExists(dir));\r\n\r\n    const destination = path.resolve(this.basePath, destinationDirectory);\r\n\r\n    return { sources, destination };\r\n  }\r\n\r\n  private directoryExists(dirPath: string): boolean {\r\n    try {\r\n      const stats = require('fs').statSync(dirPath);\r\n      return stats.isDirectory();\r\n    } catch {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Discover prompt directories automatically\r\n  async discoverPromptDirectories(): Promise<string[]> {\r\n    const candidates = [\r\n      '.roo',\r\n      '.claude',\r\n      'prompts',\r\n      'templates',\r\n      'src/prompts',\r\n      'src/templates',\r\n      'docs/prompts',\r\n      'scripts/prompts',\r\n    ];\r\n\r\n    const discovered: string[] = [];\r\n\r\n    for (const candidate of candidates) {\r\n      const fullPath = path.resolve(this.basePath, candidate);\r\n      if (await this.containsPromptFiles(fullPath)) {\r\n        discovered.push(fullPath);\r\n      }\r\n    }\r\n\r\n    return discovered;\r\n  }\r\n\r\n  private async containsPromptFiles(dirPath: string): Promise<boolean> {\r\n    try {\r\n      const entries = await fs.readdir(dirPath, { withFileTypes: true });\r\n\r\n      for (const entry of entries) {\r\n        if (entry.isFile()) {\r\n          const fileName = entry.name.toLowerCase();\r\n          if (\r\n            fileName.endsWith('.md') ||\r\n            fileName.endsWith('.txt') ||\r\n            fileName.endsWith('.prompt') ||\r\n            fileName.includes('prompt') ||\r\n            fileName.includes('template')\r\n          ) {\r\n            return true;\r\n          }\r\n        } else if (entry.isDirectory()) {\r\n          const subPath = path.join(dirPath, entry.name);\r\n          if (await this.containsPromptFiles(subPath)) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n\r\n      return false;\r\n    } catch {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\nexport class PromptValidator {\r\n  static async validatePromptFile(filePath: string): Promise<{\r\n    valid: boolean;\r\n    issues: string[];\r\n    metadata?: any;\r\n  }> {\r\n    const issues: string[] = [];\r\n    let metadata: any = {};\r\n\r\n    try {\r\n      const content = await fs.readFile(filePath, 'utf-8');\r\n\r\n      // Check for empty files\r\n      if (content.trim().length === 0) {\r\n        issues.push('File is empty');\r\n      }\r\n\r\n      // Check for common prompt markers\r\n      const hasPromptMarkers = [\r\n        '# ',\r\n        '## ',\r\n        '### ', // Markdown headers\r\n        'You are',\r\n        'Your task',\r\n        'Please', // Common prompt starters\r\n        '```',\r\n        '`', // Code blocks\r\n        '{{',\r\n        '}}', // Template variables\r\n      ].some((marker) => content.includes(marker));\r\n\r\n      if (!hasPromptMarkers) {\r\n        issues.push('File may not contain valid prompt content');\r\n      }\r\n\r\n      // Extract metadata from front matter\r\n      const frontMatterMatch = content.match(/^---\\n([\\s\\S]*?\\n)---/);\r\n      if (frontMatterMatch) {\r\n        try {\r\n          metadata = this.parseFrontMatter(frontMatterMatch[1]);\r\n        } catch (error) {\r\n          issues.push('Invalid front matter format');\r\n        }\r\n      }\r\n\r\n      // Check file size (warn if too large)\r\n      const stats = await fs.stat(filePath);\r\n      if (stats.size > 100 * 1024) {\r\n        // 100KB\r\n        issues.push('File is unusually large for a prompt');\r\n      }\r\n\r\n      return {\r\n        valid: issues.length === 0,\r\n        issues,\r\n        metadata,\r\n      };\r\n    } catch (error) {\r\n      return {\r\n        valid: false,\r\n        issues: [`Failed to read file: ${error instanceof Error ? error.message : String(error)}`],\r\n      };\r\n    }\r\n  }\r\n\r\n  private static parseFrontMatter(frontMatter: string): any {\r\n    // Simple YAML-like parser for basic key-value pairs\r\n    const metadata: any = {};\r\n    const lines = frontMatter.split('\\n');\r\n\r\n    for (const line of lines) {\r\n      const match = line.match(/^(\\w+):\\s*(.+)$/);\r\n      if (match) {\r\n        const [, key, value] = match;\r\n        metadata[key] = value.trim();\r\n      }\r\n    }\r\n\r\n    return metadata;\r\n  }\r\n}\r\n\r\nexport function createProgressBar(total: number): {\r\n  update: (current: number) => void;\r\n  complete: () => void;\r\n} {\r\n  const barLength = 40;\r\n\r\n  return {\r\n    update: (current: number) => {\r\n      const percentage = Math.round((current / total) * 100);\r\n      const filledLength = Math.round((current / total) * barLength);\r\n      const bar = '█'.repeat(filledLength) + '░'.repeat(barLength - filledLength);\r\n\r\n      process.stdout.write(`\\r[${bar}] ${percentage}% (${current}/${total})`);\r\n    },\r\n\r\n    complete: () => {\r\n      process.stdout.write('\\n');\r\n    },\r\n  };\r\n}\r\n\r\n// Utility function to format file sizes\r\nexport function formatFileSize(bytes: number): string {\r\n  const units = ['B', 'KB', 'MB', 'GB'];\r\n  let size = bytes;\r\n  let unitIndex = 0;\r\n\r\n  while (size >= 1024 && unitIndex < units.length - 1) {\r\n    size /= 1024;\r\n    unitIndex++;\r\n  }\r\n\r\n  return `${size.toFixed(1)} ${units[unitIndex]}`;\r\n}\r\n\r\n// Utility function to format duration\r\nexport function formatDuration(ms: number): string {\r\n  if (ms < 1000) return `${ms}ms`;\r\n  if (ms < 60000) return `${(ms / 1000).toFixed(1)}s`;\r\n  return `${Math.floor(ms / 60000)}m ${Math.floor((ms % 60000) / 1000)}s`;\r\n}\r\n"],"names":["fs","path","logger","DEFAULT_CONFIG","sourceDirectories","destinationDirectory","defaultOptions","backup","verify","parallel","maxWorkers","conflictResolution","includePatterns","excludePatterns","profiles","sparc","templates","safe","fast","PromptConfigManager","configPath","config","join","process","cwd","loadConfig","configData","readFile","userConfig","JSON","parse","mergeConfig","info","error","saveConfig","writeFile","stringify","getConfig","getProfile","profileName","profile","Error","listProfiles","Object","keys","base","override","PromptPathResolver","basePath","resolvePaths","sources","map","dir","resolve","filter","directoryExists","destination","dirPath","stats","require","statSync","isDirectory","discoverPromptDirectories","candidates","discovered","candidate","fullPath","containsPromptFiles","push","entries","readdir","withFileTypes","entry","isFile","fileName","name","toLowerCase","endsWith","includes","subPath","PromptValidator","validatePromptFile","filePath","issues","metadata","content","trim","length","hasPromptMarkers","some","marker","frontMatterMatch","match","parseFrontMatter","stat","size","valid","message","String","frontMatter","lines","split","line","key","value","createProgressBar","total","barLength","update","current","percentage","Math","round","filledLength","bar","repeat","stdout","write","complete","formatFileSize","bytes","units","unitIndex","toFixed","formatDuration","ms","floor"],"mappings":"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"}