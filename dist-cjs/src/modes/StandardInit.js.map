{"version":3,"sources":["../../../src/modes/StandardInit.ts"],"sourcesContent":["/**\r\n * StandardInit - Standard initialization mode\r\n * Basic initialization with minimal configuration\r\n */\r\n\r\nimport { IInitMode, InitConfig, InitResult } from '../types/interfaces.js';\r\n\r\nexport class StandardInit implements IInitMode {\r\n  getDescription(): string {\r\n    return 'Standard initialization mode with basic agent coordination and mesh topology';\r\n  }\r\n\r\n  getRequiredComponents(): string[] {\r\n    return ['ConfigManager', 'DatabaseManager', 'TopologyManager', 'AgentRegistry'];\r\n  }\r\n\r\n  validate(): boolean {\r\n    return true; // Standard mode is always valid\r\n  }\r\n\r\n  async initialize(config: InitConfig): Promise<InitResult> {\r\n    const components: string[] = [];\r\n\r\n    try {\r\n      // Set up basic configuration\r\n      if (config.configManager) {\r\n        components.push('ConfigManager');\r\n      }\r\n\r\n      // Initialize database\r\n      if (config.databaseManager) {\r\n        await config.databaseManager.initialize();\r\n        components.push('DatabaseManager');\r\n      }\r\n\r\n      // Configure mesh topology (default)\r\n      if (config.topologyManager) {\r\n        await config.topologyManager.configure('mesh', []);\r\n        components.push('TopologyManager');\r\n      }\r\n\r\n      // Initialize agent registry\r\n      if (config.agentRegistry) {\r\n        await config.agentRegistry.initialize();\r\n        components.push('AgentRegistry');\r\n      }\r\n\r\n      // Spawn default agents\r\n      if (config.agentRegistry) {\r\n        await config.agentRegistry.spawn('coordinator', { capabilities: ['coordination', 'task-management'] });\r\n        await config.agentRegistry.spawn('researcher', { capabilities: ['research', 'analysis'] });\r\n        await config.agentRegistry.spawn('coder', { capabilities: ['programming', 'debugging'] });\r\n        components.push('DefaultAgents');\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        mode: 'standard',\r\n        components,\r\n        topology: 'mesh',\r\n        message: 'Standard initialization completed successfully'\r\n      };\r\n\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        mode: 'standard',\r\n        components,\r\n        error: error instanceof Error ? error.message : String(error),\r\n        message: 'Standard initialization failed'\r\n      };\r\n    }\r\n  }\r\n}"],"names":["StandardInit","getDescription","getRequiredComponents","validate","initialize","config","components","configManager","push","databaseManager","topologyManager","configure","agentRegistry","spawn","capabilities","success","mode","topology","message","error","Error","String"],"mappings":"AAOA,OAAO,MAAMA;IACXC,iBAAyB;QACvB,OAAO;IACT;IAEAC,wBAAkC;QAChC,OAAO;YAAC;YAAiB;YAAmB;YAAmB;SAAgB;IACjF;IAEAC,WAAoB;QAClB,OAAO;IACT;IAEA,MAAMC,WAAWC,MAAkB,EAAuB;QACxD,MAAMC,aAAuB,EAAE;QAE/B,IAAI;YAEF,IAAID,OAAOE,aAAa,EAAE;gBACxBD,WAAWE,IAAI,CAAC;YAClB;YAGA,IAAIH,OAAOI,eAAe,EAAE;gBAC1B,MAAMJ,OAAOI,eAAe,CAACL,UAAU;gBACvCE,WAAWE,IAAI,CAAC;YAClB;YAGA,IAAIH,OAAOK,eAAe,EAAE;gBAC1B,MAAML,OAAOK,eAAe,CAACC,SAAS,CAAC,QAAQ,EAAE;gBACjDL,WAAWE,IAAI,CAAC;YAClB;YAGA,IAAIH,OAAOO,aAAa,EAAE;gBACxB,MAAMP,OAAOO,aAAa,CAACR,UAAU;gBACrCE,WAAWE,IAAI,CAAC;YAClB;YAGA,IAAIH,OAAOO,aAAa,EAAE;gBACxB,MAAMP,OAAOO,aAAa,CAACC,KAAK,CAAC,eAAe;oBAAEC,cAAc;wBAAC;wBAAgB;qBAAkB;gBAAC;gBACpG,MAAMT,OAAOO,aAAa,CAACC,KAAK,CAAC,cAAc;oBAAEC,cAAc;wBAAC;wBAAY;qBAAW;gBAAC;gBACxF,MAAMT,OAAOO,aAAa,CAACC,KAAK,CAAC,SAAS;oBAAEC,cAAc;wBAAC;wBAAe;qBAAY;gBAAC;gBACvFR,WAAWE,IAAI,CAAC;YAClB;YAEA,OAAO;gBACLO,SAAS;gBACTC,MAAM;gBACNV;gBACAW,UAAU;gBACVC,SAAS;YACX;QAEF,EAAE,OAAOC,OAAO;YACd,OAAO;gBACLJ,SAAS;gBACTC,MAAM;gBACNV;gBACAa,OAAOA,iBAAiBC,QAAQD,MAAMD,OAAO,GAAGG,OAAOF;gBACvDD,SAAS;YACX;QACF;IACF;AACF"}