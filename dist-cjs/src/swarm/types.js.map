{"version":3,"sources":["../../../src/swarm/types.ts"],"sourcesContent":["/**\r\n * Comprehensive types and interfaces for the swarm system\r\n */\r\n\r\nimport { EventEmitter } from 'node:events';\r\n\r\n// ===== CORE SWARM TYPES =====\r\n\r\nexport interface SwarmId {\r\n  id: string;\r\n  timestamp: number;\r\n  namespace: string;\r\n}\r\n\r\nexport interface AgentId {\r\n  id: string;\r\n  swarmId: string;\r\n  type: AgentType;\r\n  instance: number;\r\n}\r\n\r\nexport interface TaskId {\r\n  id: string;\r\n  swarmId: string;\r\n  sequence: number;\r\n  priority: number;\r\n}\r\n\r\n// ===== AGENT TYPES =====\r\n\r\nexport type AgentType =\r\n  | 'coordinator' // Orchestrates and manages other agents\r\n  | 'researcher' // Performs research and data gathering\r\n  | 'coder' // Writes and maintains code\r\n  | 'analyst' // Analyzes data and generates insights\r\n  | 'architect' // Designs system architecture and solutions\r\n  | 'tester' // Tests and validates functionality\r\n  | 'reviewer' // Reviews and validates work\r\n  | 'optimizer' // Optimizes performance and efficiency\r\n  | 'documenter' // Creates and maintains documentation\r\n  | 'monitor' // Monitors system health and performance\r\n  | 'specialist' // Domain-specific specialized agent\r\n  // Maestro-specific agent types\r\n  | 'design-architect' // UI/UX and component design\r\n  | 'system-architect' // System-level architecture design\r\n  | 'task-planner' // Project management and task breakdown\r\n  | 'developer' // Full-stack development and implementation\r\n  | 'requirements-engineer' // Requirements analysis and documentation\r\n  | 'steering-author'; // Governance and steering documentation\r\n\r\nexport type AgentStatus =\r\n  | 'initializing' // Agent is starting up\r\n  | 'idle' // Available for tasks\r\n  | 'busy' // Currently executing task\r\n  | 'paused' // Temporarily unavailable\r\n  | 'error' // In error state\r\n  | 'offline' // Not available\r\n  | 'terminating' // Shutting down\r\n  | 'terminated'; // Shut down\r\n\r\nexport interface AgentCapabilities {\r\n  // Core capabilities\r\n  codeGeneration: boolean;\r\n  codeReview: boolean;\r\n  testing: boolean;\r\n  documentation: boolean;\r\n  research: boolean;\r\n  analysis: boolean;\r\n\r\n  // Communication capabilities\r\n  webSearch: boolean;\r\n  apiIntegration: boolean;\r\n  fileSystem: boolean;\r\n  terminalAccess: boolean;\r\n\r\n  // Specialized capabilities\r\n  languages: string[]; // Programming languages\r\n  frameworks: string[]; // Frameworks and libraries\r\n  domains: string[]; // Domain expertise\r\n  tools: string[]; // Available tools\r\n\r\n  // Resource limits\r\n  maxConcurrentTasks: number;\r\n  maxMemoryUsage: number;\r\n  maxExecutionTime: number;\r\n\r\n  // Performance characteristics\r\n  reliability: number; // 0-1 reliability score\r\n  speed: number; // Relative speed rating\r\n  quality: number; // Quality rating\r\n}\r\n\r\nexport interface AgentMetrics {\r\n  // Performance metrics\r\n  tasksCompleted: number;\r\n  tasksFailed: number;\r\n  averageExecutionTime: number;\r\n  successRate: number;\r\n\r\n  // Resource usage\r\n  cpuUsage: number;\r\n  memoryUsage: number;\r\n  diskUsage: number;\r\n  networkUsage: number;\r\n\r\n  // Quality metrics\r\n  codeQuality: number;\r\n  testCoverage: number;\r\n  bugRate: number;\r\n  userSatisfaction: number;\r\n\r\n  // Time tracking\r\n  totalUptime: number;\r\n  lastActivity: Date;\r\n  responseTime: number;\r\n}\r\n\r\nexport interface AgentState {\r\n  id: AgentId;\r\n  name: string;\r\n  type: AgentType;\r\n  status: AgentStatus;\r\n  capabilities: AgentCapabilities;\r\n  metrics: AgentMetrics;\r\n\r\n  // Current state\r\n  currentTask?: TaskId;\r\n  workload: number; // 0-1 current workload\r\n  health: number; // 0-1 health score\r\n\r\n  // Configuration\r\n  config: AgentConfig;\r\n  environment: AgentEnvironment;\r\n\r\n  // Communication\r\n  endpoints: string[];\r\n  lastHeartbeat: Date;\r\n\r\n  // History\r\n  taskHistory: TaskId[];\r\n  errorHistory: AgentError[];\r\n\r\n  // Relationships\r\n  parentAgent?: AgentId;\r\n  childAgents: AgentId[];\r\n  collaborators: AgentId[];\r\n}\r\n\r\nexport interface AgentConfig {\r\n  // Behavior settings\r\n  autonomyLevel: number; // 0-1 how autonomous the agent is\r\n  learningEnabled: boolean;\r\n  adaptationEnabled: boolean;\r\n\r\n  // Resource limits\r\n  maxTasksPerHour: number;\r\n  maxConcurrentTasks: number;\r\n  timeoutThreshold: number;\r\n\r\n  // Communication settings\r\n  reportingInterval: number;\r\n  heartbeatInterval: number;\r\n\r\n  // Security settings\r\n  permissions: string[];\r\n  trustedAgents: AgentId[];\r\n\r\n  // Specialization\r\n  expertise: Record<string, number>;\r\n  preferences: Record<string, any>;\r\n}\r\n\r\nexport interface AgentEnvironment {\r\n  // Runtime environment\r\n  runtime: 'deno' | 'node' | 'claude' | 'browser';\r\n  version: string;\r\n\r\n  // Available resources\r\n  workingDirectory: string;\r\n  tempDirectory: string;\r\n  logDirectory: string;\r\n\r\n  // Network configuration\r\n  apiEndpoints: Record<string, string>;\r\n  credentials: Record<string, string>;\r\n\r\n  // Tool access\r\n  availableTools: string[];\r\n  toolConfigs: Record<string, any>;\r\n}\r\n\r\nexport interface AgentError {\r\n  timestamp: Date;\r\n  type: string;\r\n  message: string;\r\n  stack?: string;\r\n  context: Record<string, any>;\r\n  severity: 'low' | 'medium' | 'high' | 'critical';\r\n  resolved: boolean;\r\n}\r\n\r\n// ===== TASK TYPES =====\r\n\r\nexport type TaskType =\r\n  | 'research' // Information gathering and research\r\n  | 'analysis' // Data analysis and insights\r\n  | 'coding' // Code generation and modification\r\n  | 'testing' // Test creation and execution\r\n  | 'review' // Code and content review\r\n  | 'documentation' // Documentation creation\r\n  | 'deployment' // Deployment and operations\r\n  | 'monitoring' // System monitoring\r\n  | 'coordination' // Cross-agent coordination\r\n  | 'communication' // External communication\r\n  | 'maintenance' // System maintenance\r\n  | 'optimization' // Performance optimization\r\n  | 'validation' // Validation and verification\r\n  | 'integration' // System integration\r\n  | 'custom' // Custom task type\r\n  // Analyst-specific task types\r\n  | 'data-analysis'\r\n  | 'performance-analysis'\r\n  | 'statistical-analysis'\r\n  | 'visualization'\r\n  | 'predictive-modeling'\r\n  | 'anomaly-detection'\r\n  | 'trend-analysis'\r\n  | 'business-intelligence'\r\n  | 'quality-analysis'\r\n  | 'system-design'\r\n  | 'architecture-review'\r\n  | 'api-design'\r\n  | 'cloud-architecture'\r\n  | 'microservices-design'\r\n  | 'security-architecture'\r\n  | 'scalability-design'\r\n  | 'database-architecture'\r\n  | 'code-generation'\r\n  | 'code-review'\r\n  | 'refactoring'\r\n  | 'debugging'\r\n  | 'api-development'\r\n  | 'database-design'\r\n  | 'performance-optimization'\r\n  | 'task-orchestration'\r\n  | 'progress-tracking'\r\n  | 'resource-allocation'\r\n  | 'workflow-management'\r\n  | 'team-coordination'\r\n  | 'status-reporting'\r\n  | 'fact-check'\r\n  | 'literature-review'\r\n  | 'market-analysis'\r\n  | 'unit-testing'\r\n  | 'integration-testing'\r\n  | 'e2e-testing'\r\n  | 'performance-testing'\r\n  | 'security-testing'\r\n  | 'api-testing'\r\n  | 'test-automation'\r\n  | 'test-analysis';\r\n\r\nexport type TaskStatus =\r\n  | 'created' // Task has been created\r\n  | 'queued' // Waiting for assignment\r\n  | 'assigned' // Assigned to an agent\r\n  | 'running' // Currently being executed\r\n  | 'paused' // Temporarily paused\r\n  | 'completed' // Successfully completed\r\n  | 'failed' // Failed with error\r\n  | 'cancelled' // Cancelled by user/system\r\n  | 'timeout' // Timed out\r\n  | 'retrying' // Being retried\r\n  | 'blocked'; // Blocked by dependencies\r\n\r\nexport type TaskPriority =\r\n  | 'critical' // Must be done immediately\r\n  | 'high' // Important, do soon\r\n  | 'normal' // Standard priority\r\n  | 'low' // Can be delayed\r\n  | 'background'; // Run when resources available\r\n\r\nexport interface TaskRequirements {\r\n  // Agent requirements\r\n  agentType?: AgentType;\r\n  capabilities: string[];\r\n  minReliability?: number;\r\n\r\n  // Resource requirements\r\n  estimatedDuration?: number;\r\n  maxDuration?: number;\r\n  memoryRequired?: number;\r\n  cpuRequired?: number;\r\n\r\n  // Environment requirements\r\n  tools: string[];\r\n  permissions: string[];\r\n  environment?: Record<string, any>;\r\n\r\n  // Quality requirements\r\n  reviewRequired?: boolean;\r\n  testingRequired?: boolean;\r\n  documentationRequired?: boolean;\r\n}\r\n\r\nexport interface TaskConstraints {\r\n  // Time constraints\r\n  deadline?: Date;\r\n  startAfter?: Date;\r\n  maxRetries?: number;\r\n  maxTokens?: number;\r\n  timeoutAfter?: number;\r\n\r\n  // Resource constraints\r\n  maxCost?: number;\r\n  exclusiveAccess?: string[];\r\n\r\n  // Dependency constraints\r\n  dependencies: TaskId[];\r\n  dependents: TaskId[];\r\n  conflicts: TaskId[];\r\n\r\n  // Agent constraints\r\n  preferredAgents?: AgentId[];\r\n  excludedAgents?: AgentId[];\r\n  requiresHuman?: boolean;\r\n}\r\n\r\nexport interface TaskResult {\r\n  // Result data\r\n  output: any;\r\n  artifacts: Record<string, any>;\r\n  metadata: Record<string, any>;\r\n\r\n  // Quality metrics\r\n  quality: number;\r\n  completeness: number;\r\n  accuracy: number;\r\n\r\n  // Performance metrics\r\n  executionTime: number;\r\n  resourcesUsed: Record<string, number>;\r\n\r\n  // Validation\r\n  validated: boolean;\r\n  validationResults?: any;\r\n\r\n  // Follow-up\r\n  recommendations?: string[];\r\n  nextSteps?: string[];\r\n}\r\n\r\nexport interface TaskDefinition {\r\n  id: TaskId;\r\n  type: TaskType;\r\n  name: string;\r\n  description: string;\r\n\r\n  // Task specification\r\n  requirements: TaskRequirements;\r\n  constraints: TaskConstraints;\r\n  priority: TaskPriority;\r\n\r\n  // Input/Output\r\n  input: any;\r\n  expectedOutput?: any;\r\n\r\n  // Execution details\r\n  instructions: string;\r\n  context: Record<string, any>;\r\n  parameters?: Record<string, any>;\r\n  examples?: any[];\r\n\r\n  // Tracking\r\n  status: TaskStatus;\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n\r\n  // Assignment\r\n  assignedTo?: AgentId;\r\n  assignedAt?: Date;\r\n\r\n  // Execution\r\n  startedAt?: Date;\r\n  completedAt?: Date;\r\n  result?: TaskResult;\r\n  error?: TaskError;\r\n\r\n  // History\r\n  attempts: TaskAttempt[];\r\n  statusHistory: TaskStatusChange[];\r\n}\r\n\r\nexport interface TaskAttempt {\r\n  attemptNumber: number;\r\n  agent: AgentId;\r\n  startedAt: Date;\r\n  completedAt?: Date;\r\n  status: TaskStatus;\r\n  result?: TaskResult;\r\n  error?: TaskError;\r\n  resourcesUsed: Record<string, number>;\r\n}\r\n\r\nexport interface TaskStatusChange {\r\n  timestamp: Date;\r\n  from: TaskStatus;\r\n  to: TaskStatus;\r\n  reason: string;\r\n  triggeredBy: AgentId | 'system' | 'user';\r\n}\r\n\r\nexport interface TaskError {\r\n  type: string;\r\n  message: string;\r\n  code?: string;\r\n  stack?: string;\r\n  context: Record<string, any>;\r\n  recoverable: boolean;\r\n  retryable: boolean;\r\n}\r\n\r\n// ===== SWARM TYPES =====\r\n\r\nexport type SwarmMode =\r\n  | 'centralized' // Single coordinator manages all\r\n  | 'distributed' // Multiple coordinators\r\n  | 'hierarchical' // Tree structure of coordinators\r\n  | 'mesh' // Peer-to-peer coordination\r\n  | 'hybrid'; // Mixed coordination strategies\r\n\r\nexport type SwarmStrategy =\r\n  | 'auto' // Automatically determine approach\r\n  | 'research' // Research-focused strategy\r\n  | 'development' // Development-focused strategy\r\n  | 'analysis' // Analysis-focused strategy\r\n  | 'testing' // Testing-focused strategy\r\n  | 'optimization' // Performance optimization\r\n  | 'maintenance' // System maintenance\r\n  | 'custom'; // Custom strategy\r\n\r\nexport interface SwarmObjective {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n\r\n  // Strategy\r\n  strategy: SwarmStrategy;\r\n  mode: SwarmMode;\r\n\r\n  // Requirements\r\n  requirements: SwarmRequirements;\r\n  constraints: SwarmConstraints;\r\n\r\n  // Decomposition\r\n  tasks: TaskDefinition[];\r\n  dependencies: TaskDependency[];\r\n\r\n  // Execution\r\n  status: SwarmStatus;\r\n  progress: SwarmProgress;\r\n\r\n  // Timeline\r\n  createdAt: Date;\r\n  startedAt?: Date;\r\n  completedAt?: Date;\r\n  deadline?: Date;\r\n\r\n  // Results\r\n  results?: SwarmResults;\r\n  metrics: SwarmMetrics;\r\n}\r\n\r\nexport interface SwarmRequirements {\r\n  // Agent requirements\r\n  minAgents: number;\r\n  maxAgents: number;\r\n  agentTypes: AgentType[];\r\n\r\n  // Resource requirements\r\n  estimatedDuration: number;\r\n  maxDuration: number;\r\n  resourceBudget?: Record<string, number>;\r\n\r\n  // Quality requirements\r\n  qualityThreshold: number;\r\n  reviewCoverage: number;\r\n  testCoverage: number;\r\n\r\n  // Performance requirements\r\n  throughputTarget?: number;\r\n  latencyTarget?: number;\r\n  reliabilityTarget: number;\r\n}\r\n\r\nexport interface SwarmConstraints {\r\n  // Time constraints\r\n  deadline?: Date;\r\n  milestones: SwarmMilestone[];\r\n\r\n  // Resource constraints\r\n  maxCost?: number;\r\n  resourceLimits: Record<string, number>;\r\n\r\n  // Quality constraints\r\n  minQuality: number;\r\n  requiredApprovals: string[];\r\n\r\n  // Operational constraints\r\n  allowedFailures: number;\r\n  recoveryTime: number;\r\n  maintenanceWindows?: TimeWindow[];\r\n}\r\n\r\nexport interface SwarmMilestone {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  deadline: Date;\r\n  requirements: string[];\r\n  dependencies: string[];\r\n  completed: boolean;\r\n  completedAt?: Date;\r\n}\r\n\r\nexport interface TimeWindow {\r\n  start: Date;\r\n  end: Date;\r\n  type: 'maintenance' | 'blackout' | 'preferred';\r\n  description: string;\r\n}\r\n\r\nexport type SwarmStatus =\r\n  | 'planning' // Decomposing objectives into tasks\r\n  | 'initializing' // Setting up agents and resources\r\n  | 'executing' // Running tasks\r\n  | 'paused' // Temporarily paused\r\n  | 'completed' // Successfully completed\r\n  | 'failed' // Failed to complete\r\n  | 'cancelled' // Cancelled by user\r\n  | 'recovering' // Recovering from failure\r\n  | 'optimizing'; // Optimizing performance\r\n\r\nexport interface SwarmProgress {\r\n  // Task progress\r\n  totalTasks: number;\r\n  completedTasks: number;\r\n  failedTasks: number;\r\n  runningTasks: number;\r\n\r\n  // Time progress\r\n  estimatedCompletion: Date;\r\n  timeRemaining: number;\r\n  percentComplete: number;\r\n\r\n  // Quality progress\r\n  averageQuality: number;\r\n  passedReviews: number;\r\n  passedTests: number;\r\n\r\n  // Resource usage\r\n  resourceUtilization: Record<string, number>;\r\n  costSpent: number;\r\n\r\n  // Agent utilization\r\n  activeAgents: number;\r\n  idleAgents: number;\r\n  busyAgents: number;\r\n}\r\n\r\nexport interface SwarmResults {\r\n  // Primary outputs\r\n  outputs: Record<string, any>;\r\n  artifacts: Record<string, any>;\r\n  reports: Record<string, any>;\r\n\r\n  // Quality metrics\r\n  overallQuality: number;\r\n  qualityByTask: Record<string, number>;\r\n\r\n  // Performance metrics\r\n  totalExecutionTime: number;\r\n  resourcesUsed: Record<string, number>;\r\n  efficiency: number;\r\n\r\n  // Success metrics\r\n  objectivesMet: string[];\r\n  objectivesFailed: string[];\r\n\r\n  // Recommendations\r\n  improvements: string[];\r\n  nextActions: string[];\r\n}\r\n\r\nexport interface SwarmMetrics {\r\n  // Performance metrics\r\n  throughput: number;\r\n  latency: number;\r\n  efficiency: number;\r\n  reliability: number;\r\n\r\n  // Quality metrics\r\n  averageQuality: number;\r\n  defectRate: number;\r\n  reworkRate: number;\r\n\r\n  // Resource metrics\r\n  resourceUtilization: Record<string, number>;\r\n  costEfficiency: number;\r\n\r\n  // Agent metrics\r\n  agentUtilization: number;\r\n  agentSatisfaction: number;\r\n  collaborationEffectiveness: number;\r\n\r\n  // Timeline metrics\r\n  scheduleVariance: number;\r\n  deadlineAdherence: number;\r\n}\r\n\r\n// ===== COORDINATION TYPES =====\r\n\r\nexport interface TaskDependency {\r\n  task: TaskId;\r\n  dependsOn: TaskId;\r\n  type: DependencyType;\r\n  constraint?: string;\r\n}\r\n\r\nexport type DependencyType =\r\n  | 'finish-start' // Must finish before next starts\r\n  | 'start-start' // Must start before next starts\r\n  | 'finish-finish' // Must finish before next finishes\r\n  | 'start-finish' // Must start before next finishes\r\n  | 'resource' // Shares a resource\r\n  | 'data' // Data dependency\r\n  | 'approval'; // Requires approval\r\n\r\nexport interface CoordinationStrategy {\r\n  name: string;\r\n  description: string;\r\n\r\n  // Agent selection\r\n  agentSelection: AgentSelectionStrategy;\r\n\r\n  // Task scheduling\r\n  taskScheduling: TaskSchedulingStrategy;\r\n\r\n  // Load balancing\r\n  loadBalancing: LoadBalancingStrategy;\r\n\r\n  // Fault tolerance\r\n  faultTolerance: FaultToleranceStrategy;\r\n\r\n  // Communication\r\n  communication: CommunicationStrategy;\r\n}\r\n\r\nexport type AgentSelectionStrategy =\r\n  | 'capability-based' // Select based on capabilities\r\n  | 'load-based' // Select based on current load\r\n  | 'performance-based' // Select based on performance history\r\n  | 'random' // Random selection\r\n  | 'round-robin' // Round-robin selection\r\n  | 'affinity-based' // Prefer agents with domain affinity\r\n  | 'cost-based' // Select based on cost\r\n  | 'hybrid'; // Combination of strategies\r\n\r\nexport type TaskSchedulingStrategy =\r\n  | 'fifo' // First in, first out\r\n  | 'priority' // Priority-based scheduling\r\n  | 'deadline' // Earliest deadline first\r\n  | 'shortest-job' // Shortest job first\r\n  | 'critical-path' // Critical path method\r\n  | 'resource-aware' // Consider resource availability\r\n  | 'adaptive'; // Adaptive scheduling\r\n\r\nexport type LoadBalancingStrategy =\r\n  | 'work-stealing' // Agents steal work from busy agents\r\n  | 'work-sharing' // Work is proactively shared\r\n  | 'centralized' // Central dispatcher\r\n  | 'distributed' // Distributed load balancing\r\n  | 'predictive' // Predict and prevent overload\r\n  | 'reactive'; // React to overload conditions\r\n\r\nexport type FaultToleranceStrategy =\r\n  | 'retry' // Retry failed tasks\r\n  | 'redundancy' // Redundant execution\r\n  | 'checkpoint' // Checkpoint and recovery\r\n  | 'circuit-breaker' // Circuit breaker pattern\r\n  | 'bulkhead' // Isolate failures\r\n  | 'timeout' // Timeout protection\r\n  | 'graceful-degradation'; // Degrade gracefully\r\n\r\nexport type CommunicationStrategy =\r\n  | 'direct' // Direct agent-to-agent\r\n  | 'broadcast' // Broadcast to all\r\n  | 'publish-subscribe' // Pub/sub messaging\r\n  | 'request-response' // Request/response\r\n  | 'event-driven' // Event-driven communication\r\n  | 'gossip' // Gossip protocol\r\n  | 'hierarchical'; // Hierarchical communication\r\n\r\n// ===== MEMORY TYPES =====\r\n\r\nexport interface SwarmMemory {\r\n  // Memory organization\r\n  namespace: string;\r\n  partitions: MemoryPartition[];\r\n\r\n  // Access control\r\n  permissions: MemoryPermissions;\r\n\r\n  // Persistence\r\n  persistent: boolean;\r\n  backupEnabled: boolean;\r\n\r\n  // Synchronization\r\n  distributed: boolean;\r\n  consistency: ConsistencyLevel;\r\n\r\n  // Performance\r\n  cacheEnabled: boolean;\r\n  compressionEnabled: boolean;\r\n}\r\n\r\nexport interface MemoryPartition {\r\n  id: string;\r\n  name: string;\r\n  type: MemoryType;\r\n\r\n  // Data\r\n  entries: MemoryEntry[];\r\n\r\n  // Configuration\r\n  maxSize: number;\r\n  ttl?: number;\r\n\r\n  // Access patterns\r\n  readOnly: boolean;\r\n  shared: boolean;\r\n\r\n  // Performance\r\n  indexed: boolean;\r\n  compressed: boolean;\r\n}\r\n\r\nexport type MemoryType =\r\n  | 'knowledge' // Knowledge base\r\n  | 'state' // Agent state\r\n  | 'cache' // Temporary cache\r\n  | 'logs' // Log entries\r\n  | 'results' // Task results\r\n  | 'communication' // Communication history\r\n  | 'configuration' // Configuration data\r\n  | 'metrics'; // Performance metrics\r\n\r\nexport interface MemoryEntry {\r\n  id: string;\r\n  key: string;\r\n  value: any;\r\n\r\n  // Metadata\r\n  type: string;\r\n  tags: string[];\r\n\r\n  // Ownership\r\n  owner: AgentId;\r\n  accessLevel: AccessLevel;\r\n\r\n  // Lifecycle\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n  expiresAt?: Date;\r\n\r\n  // Versioning\r\n  version: number;\r\n  previousVersions?: MemoryEntry[];\r\n\r\n  // Relationships\r\n  references: string[];\r\n  dependencies: string[];\r\n}\r\n\r\nexport type AccessLevel =\r\n  | 'private' // Only owner can access\r\n  | 'team' // Team members can access\r\n  | 'swarm' // All swarm agents can access\r\n  | 'public' // Publicly accessible\r\n  | 'system'; // System-level access\r\n\r\nexport interface MemoryPermissions {\r\n  read: AccessLevel;\r\n  write: AccessLevel;\r\n  delete: AccessLevel;\r\n  share: AccessLevel;\r\n}\r\n\r\nexport type ConsistencyLevel =\r\n  | 'strong' // Strong consistency\r\n  | 'eventual' // Eventual consistency\r\n  | 'weak' // Weak consistency\r\n  | 'session'; // Session consistency\r\n\r\n// ===== MONITORING TYPES =====\r\n\r\nexport interface MonitoringConfig {\r\n  // Collection settings\r\n  metricsEnabled: boolean;\r\n  loggingEnabled: boolean;\r\n  tracingEnabled: boolean;\r\n\r\n  // Collection intervals\r\n  metricsInterval: number;\r\n  heartbeatInterval: number;\r\n  healthCheckInterval: number;\r\n\r\n  // Retention settings\r\n  retentionPeriod: number;\r\n  maxLogSize: number;\r\n  maxMetricPoints: number;\r\n\r\n  // Alerting\r\n  alertingEnabled: boolean;\r\n  alertThresholds: Record<string, number>;\r\n\r\n  // Export settings\r\n  exportEnabled: boolean;\r\n  exportFormat: string;\r\n  exportDestination: string;\r\n}\r\n\r\nexport interface SystemMetrics {\r\n  timestamp: Date;\r\n\r\n  // System metrics\r\n  cpuUsage: number;\r\n  memoryUsage: number;\r\n  diskUsage: number;\r\n  networkUsage: number;\r\n\r\n  // Swarm metrics\r\n  activeSwarms: number;\r\n  totalAgents: number;\r\n  activeAgents: number;\r\n  totalTasks: number;\r\n  runningTasks: number;\r\n\r\n  // Performance metrics\r\n  throughput: number;\r\n  latency: number;\r\n  errorRate: number;\r\n  successRate: number;\r\n\r\n  // Resource metrics\r\n  resourceUtilization: Record<string, number>;\r\n  queueLengths: Record<string, number>;\r\n}\r\n\r\nexport interface Alert {\r\n  id: string;\r\n  timestamp: Date;\r\n  level: AlertLevel;\r\n  type: AlertType;\r\n  message: string;\r\n\r\n  // Context\r\n  source: string;\r\n  context: Record<string, any>;\r\n\r\n  // Handling\r\n  acknowledged: boolean;\r\n  resolved: boolean;\r\n  assignedTo?: string;\r\n\r\n  // Escalation\r\n  escalationLevel: number;\r\n  escalatedAt?: Date;\r\n}\r\n\r\nexport type AlertLevel =\r\n  | 'info' // Informational\r\n  | 'warning' // Warning condition\r\n  | 'error' // Error condition\r\n  | 'critical'; // Critical condition\r\n\r\nexport type AlertType =\r\n  | 'system' // System-level alert\r\n  | 'performance' // Performance issue\r\n  | 'resource' // Resource issue\r\n  | 'security' // Security issue\r\n  | 'agent' // Agent-specific issue\r\n  | 'task' // Task-specific issue\r\n  | 'swarm' // Swarm-level issue\r\n  | 'custom'; // Custom alert type\r\n\r\n// ===== EVENT TYPES =====\r\n\r\nexport interface SwarmEvent {\r\n  id: string;\r\n  timestamp: Date;\r\n  type: EventType;\r\n  source: string;\r\n\r\n  // Event data\r\n  data: Record<string, any>;\r\n\r\n  // Routing\r\n  targets?: string[];\r\n  broadcast: boolean;\r\n\r\n  // Processing\r\n  processed: boolean;\r\n  processedAt?: Date;\r\n\r\n  // Correlation\r\n  correlationId?: string;\r\n  causationId?: string;\r\n}\r\n\r\nexport type EventType =\r\n  // Swarm events\r\n  | 'swarm.created'\r\n  | 'swarm.started'\r\n  | 'swarm.paused'\r\n  | 'swarm.resumed'\r\n  | 'swarm.completed'\r\n  | 'swarm.failed'\r\n  | 'swarm.cancelled'\r\n\r\n  // Agent events\r\n  | 'agent.created'\r\n  | 'agent.started'\r\n  | 'agent.stopped'\r\n  | 'agent.error'\r\n  | 'agent.heartbeat'\r\n\r\n  // Task events\r\n  | 'task.created'\r\n  | 'task.assigned'\r\n  | 'task.started'\r\n  | 'task.paused'\r\n  | 'task.resumed'\r\n  | 'task.completed'\r\n  | 'task.failed'\r\n  | 'task.cancelled'\r\n  | 'task.retried'\r\n\r\n  // Coordination events\r\n  | 'coordination.load_balanced'\r\n  | 'coordination.work_stolen'\r\n  | 'coordination.agent_selected'\r\n  | 'coordination.dependency_resolved'\r\n\r\n  // System events\r\n  | 'system.startup'\r\n  | 'system.shutdown'\r\n  | 'system.resource_limit'\r\n  | 'system.performance_degradation'\r\n\r\n  // Custom events\r\n  | 'custom.user_defined';\r\n\r\n// ===== INTERFACE EXTENSIONS =====\r\n\r\nexport interface SwarmEventEmitter extends EventEmitter {\r\n  // Event emission\r\n  emitSwarmEvent(event: SwarmEvent): boolean;\r\n  emitSwarmEvents(events: SwarmEvent[]): boolean;\r\n\r\n  // Event handling\r\n  onSwarmEvent(type: EventType, handler: (event: SwarmEvent) => void): this;\r\n  offSwarmEvent(type: EventType, handler: (event: SwarmEvent) => void): this;\r\n\r\n  // Event filtering\r\n  filterEvents(predicate: (event: SwarmEvent) => boolean): SwarmEvent[];\r\n\r\n  // Event correlation\r\n  correlateEvents(correlationId: string): SwarmEvent[];\r\n}\r\n\r\n// ===== UTILITY TYPES =====\r\n\r\nexport interface SwarmConfig {\r\n  // Basic configuration\r\n  name: string;\r\n  description: string;\r\n  version: string;\r\n\r\n  // Operational settings\r\n  mode: SwarmMode;\r\n  strategy: SwarmStrategy;\r\n  coordinationStrategy: CoordinationStrategy;\r\n\r\n  // Resource limits\r\n  maxAgents: number;\r\n  maxTasks: number;\r\n  maxDuration: number;\r\n  taskTimeoutMinutes?: number;\r\n  resourceLimits: Record<string, number>;\r\n\r\n  // Quality settings\r\n  qualityThreshold: number;\r\n  reviewRequired: boolean;\r\n  testingRequired: boolean;\r\n\r\n  // Monitoring settings\r\n  monitoring: MonitoringConfig;\r\n\r\n  // Memory settings\r\n  memory: SwarmMemory;\r\n\r\n  // Security settings\r\n  security: SecurityConfig;\r\n\r\n  // Performance settings\r\n  performance: PerformanceConfig;\r\n}\r\n\r\nexport interface SecurityConfig {\r\n  authenticationRequired: boolean;\r\n  authorizationRequired: boolean;\r\n  encryptionEnabled: boolean;\r\n\r\n  // Access control\r\n  defaultPermissions: string[];\r\n  adminRoles: string[];\r\n\r\n  // Audit\r\n  auditEnabled: boolean;\r\n  auditLevel: string;\r\n\r\n  // Validation\r\n  inputValidation: boolean;\r\n  outputSanitization: boolean;\r\n}\r\n\r\nexport interface PerformanceConfig {\r\n  // Concurrency\r\n  maxConcurrency: number;\r\n  defaultTimeout: number;\r\n\r\n  // Caching\r\n  cacheEnabled: boolean;\r\n  cacheSize: number;\r\n  cacheTtl: number;\r\n\r\n  // Optimization\r\n  optimizationEnabled: boolean;\r\n  adaptiveScheduling: boolean;\r\n  predictiveLoading: boolean;\r\n\r\n  // Resource management\r\n  resourcePooling: boolean;\r\n  connectionPooling: boolean;\r\n  memoryPooling: boolean;\r\n}\r\n\r\nexport interface ValidationResult {\r\n  valid: boolean;\r\n  errors: ValidationError[];\r\n  warnings: ValidationWarning[];\r\n\r\n  // Context\r\n  validatedAt: Date;\r\n  validator: string;\r\n  context: Record<string, any>;\r\n}\r\n\r\nexport interface ValidationError {\r\n  field: string;\r\n  message: string;\r\n  code: string;\r\n  severity: 'error' | 'critical';\r\n}\r\n\r\nexport interface ValidationWarning {\r\n  field: string;\r\n  message: string;\r\n  code: string;\r\n  recommendation: string;\r\n}\r\n\r\n// ===== TYPE GUARDS =====\r\n\r\nexport function isAgentId(obj: any): obj is AgentId {\r\n  return obj && typeof obj.id === 'string' && typeof obj.swarmId === 'string';\r\n}\r\n\r\nexport function isTaskId(obj: any): obj is TaskId {\r\n  return obj && typeof obj.id === 'string' && typeof obj.swarmId === 'string';\r\n}\r\n\r\nexport function isSwarmEvent(obj: any): obj is SwarmEvent {\r\n  return obj && typeof obj.id === 'string' && typeof obj.type === 'string';\r\n}\r\n\r\nexport function isTaskDefinition(obj: any): obj is TaskDefinition {\r\n  return obj && isTaskId(obj.id) && typeof obj.type === 'string';\r\n}\r\n\r\nexport function isAgentState(obj: any): obj is AgentState {\r\n  return obj && isAgentId(obj.id) && typeof obj.status === 'string';\r\n}\r\n\r\n// ===== CONSTANTS =====\r\n\r\nexport const SWARM_CONSTANTS = {\r\n  // Timeouts\r\n  DEFAULT_TASK_TIMEOUT: 5 * 60 * 1000, // 5 minutes\r\n  DEFAULT_AGENT_TIMEOUT: 30 * 1000, // 30 seconds\r\n  DEFAULT_HEARTBEAT_INTERVAL: 10 * 1000, // 10 seconds\r\n\r\n  // Limits\r\n  MAX_AGENTS_PER_SWARM: 100,\r\n  MAX_TASKS_PER_AGENT: 10,\r\n  MAX_RETRIES: 3,\r\n\r\n  // Quality thresholds\r\n  MIN_QUALITY_THRESHOLD: 0.7,\r\n  DEFAULT_QUALITY_THRESHOLD: 0.8,\r\n  HIGH_QUALITY_THRESHOLD: 0.9,\r\n\r\n  // Performance targets\r\n  DEFAULT_THROUGHPUT_TARGET: 10, // tasks per minute\r\n  DEFAULT_LATENCY_TARGET: 1000, // milliseconds\r\n  DEFAULT_RELIABILITY_TARGET: 0.95, // 95%\r\n\r\n  // Resource limits\r\n  DEFAULT_MEMORY_LIMIT: 512 * 1024 * 1024, // 512MB\r\n  DEFAULT_CPU_LIMIT: 1.0, // 1 CPU core\r\n  DEFAULT_DISK_LIMIT: 1024 * 1024 * 1024, // 1GB\r\n} as const;\r\n\r\n// ===== EXPORTS =====\r\n\r\nexport default {\r\n  // Type exports are handled by TypeScript\r\n  SWARM_CONSTANTS,\r\n\r\n  // Utility functions\r\n  isAgentId,\r\n  isTaskId,\r\n  isSwarmEvent,\r\n  isTaskDefinition,\r\n  isAgentState,\r\n};\r\n"],"names":["isAgentId","obj","id","swarmId","isTaskId","isSwarmEvent","type","isTaskDefinition","isAgentState","status","SWARM_CONSTANTS","DEFAULT_TASK_TIMEOUT","DEFAULT_AGENT_TIMEOUT","DEFAULT_HEARTBEAT_INTERVAL","MAX_AGENTS_PER_SWARM","MAX_TASKS_PER_AGENT","MAX_RETRIES","MIN_QUALITY_THRESHOLD","DEFAULT_QUALITY_THRESHOLD","HIGH_QUALITY_THRESHOLD","DEFAULT_THROUGHPUT_TARGET","DEFAULT_LATENCY_TARGET","DEFAULT_RELIABILITY_TARGET","DEFAULT_MEMORY_LIMIT","DEFAULT_CPU_LIMIT","DEFAULT_DISK_LIMIT"],"mappings":"AA6jCA,OAAO,SAASA,UAAUC,GAAQ;IAChC,OAAOA,OAAO,OAAOA,IAAIC,EAAE,KAAK,YAAY,OAAOD,IAAIE,OAAO,KAAK;AACrE;AAEA,OAAO,SAASC,SAASH,GAAQ;IAC/B,OAAOA,OAAO,OAAOA,IAAIC,EAAE,KAAK,YAAY,OAAOD,IAAIE,OAAO,KAAK;AACrE;AAEA,OAAO,SAASE,aAAaJ,GAAQ;IACnC,OAAOA,OAAO,OAAOA,IAAIC,EAAE,KAAK,YAAY,OAAOD,IAAIK,IAAI,KAAK;AAClE;AAEA,OAAO,SAASC,iBAAiBN,GAAQ;IACvC,OAAOA,OAAOG,SAASH,IAAIC,EAAE,KAAK,OAAOD,IAAIK,IAAI,KAAK;AACxD;AAEA,OAAO,SAASE,aAAaP,GAAQ;IACnC,OAAOA,OAAOD,UAAUC,IAAIC,EAAE,KAAK,OAAOD,IAAIQ,MAAM,KAAK;AAC3D;AAIA,OAAO,MAAMC,kBAAkB;IAE7BC,sBAAsB,IAAI,KAAK;IAC/BC,uBAAuB,KAAK;IAC5BC,4BAA4B,KAAK;IAGjCC,sBAAsB;IACtBC,qBAAqB;IACrBC,aAAa;IAGbC,uBAAuB;IACvBC,2BAA2B;IAC3BC,wBAAwB;IAGxBC,2BAA2B;IAC3BC,wBAAwB;IACxBC,4BAA4B;IAG5BC,sBAAsB,MAAM,OAAO;IACnCC,mBAAmB;IACnBC,oBAAoB,OAAO,OAAO;AACpC,EAAW;AAIX,eAAe;IAEbf;IAGAV;IACAI;IACAC;IACAE;IACAC;AACF,EAAE"}