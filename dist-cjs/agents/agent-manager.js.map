{
  "version": 3,
  "sources": ["../../src/agents/agent-manager.ts"],
  "sourcesContent": ["/**\n * Comprehensive agent management system\n */\n\nimport { EventEmitter } from 'node:events';\nimport { spawn, ChildProcess } from 'node:child_process';\nimport type { ILogger } from '../core/logger.js';\nimport type { IEventBus } from '../core/event-bus.js';\nimport type {\n  AgentId,\n  AgentType,\n  AgentStatus,\n  AgentState,\n  AgentCapabilities,\n  AgentConfig,\n  AgentEnvironment,\n  AgentMetrics,\n  AgentError,\n} from '../swarm/types.js';\nimport type { DistributedMemorySystem } from '../memory/distributed-memory.js';\nimport { generateId } from '../utils/helpers.js';\n\nexport interface AgentManagerConfig {\n  maxAgents: number;\n  defaultTimeout: number;\n  heartbeatInterval: number;\n  healthCheckInterval: number;\n  autoRestart: boolean;\n  resourceLimits: {\n    memory: number;\n    cpu: number;\n    disk: number;\n  };\n  agentDefaults: {\n    autonomyLevel: number;\n    learningEnabled: boolean;\n    adaptationEnabled: boolean;\n  };\n  environmentDefaults: {\n    runtime: 'deno' | 'node' | 'claude' | 'browser';\n    workingDirectory: string;\n    tempDirectory: string;\n    logDirectory: string;\n  };\n}\n\nexport interface AgentTemplate {\n  name: string;\n  type: AgentType;\n  capabilities: AgentCapabilities;\n  config: Partial<AgentConfig>;\n  environment: Partial<AgentEnvironment>;\n  startupScript?: string;\n  dependencies?: string[];\n}\n\nexport interface AgentCluster {\n  id: string;\n  name: string;\n  agents: AgentId[];\n  coordinator: AgentId;\n  strategy: 'round-robin' | 'load-based' | 'capability-based';\n  maxSize: number;\n  autoScale: boolean;\n}\n\nexport interface AgentPool {\n  id: string;\n  name: string;\n  type: AgentType;\n  minSize: number;\n  maxSize: number;\n  currentSize: number;\n  availableAgents: AgentId[];\n  busyAgents: AgentId[];\n  template: AgentTemplate;\n  autoScale: boolean;\n  scaleUpThreshold: number;\n  scaleDownThreshold: number;\n}\n\nexport interface ScalingPolicy {\n  name: string;\n  enabled: boolean;\n  rules: ScalingRule[];\n  cooldownPeriod: number;\n  maxScaleOperations: number;\n}\n\nexport interface ScalingRule {\n  metric: string;\n  threshold: number;\n  comparison: 'gt' | 'lt' | 'eq' | 'gte' | 'lte';\n  action: 'scale-up' | 'scale-down';\n  amount: number;\n  conditions?: string[];\n}\n\nexport interface AgentHealth {\n  agentId: string;\n  overall: number; // 0-1 health score\n  components: {\n    responsiveness: number;\n    performance: number;\n    reliability: number;\n    resourceUsage: number;\n  };\n  issues: HealthIssue[];\n  lastCheck: Date;\n  trend: 'improving' | 'stable' | 'degrading';\n}\n\nexport interface HealthIssue {\n  type: 'performance' | 'reliability' | 'resource' | 'communication';\n  severity: 'low' | 'medium' | 'high' | 'critical';\n  message: string;\n  timestamp: Date;\n  resolved: boolean;\n  recommendedAction?: string;\n}\n\n/**\n * Comprehensive agent lifecycle and resource management\n */\nexport class AgentManager extends EventEmitter {\n  private logger: ILogger;\n  private eventBus: IEventBus;\n  private memory: DistributedMemorySystem;\n  private config: AgentManagerConfig;\n\n  // Agent tracking\n  private agents = new Map<string, AgentState>();\n  private processes = new Map<string, ChildProcess>();\n  private templates = new Map<string, AgentTemplate>();\n  private clusters = new Map<string, AgentCluster>();\n  private pools = new Map<string, AgentPool>();\n\n  // Health monitoring\n  private healthChecks = new Map<string, AgentHealth>();\n  private healthInterval?: NodeJS.Timeout;\n  private heartbeatInterval?: NodeJS.Timeout;\n\n  // Scaling and policies\n  private scalingPolicies = new Map<string, ScalingPolicy>();\n  private scalingOperations = new Map<string, { timestamp: Date; type: string }>();\n\n  // Resource tracking\n  private resourceUsage = new Map<string, { cpu: number; memory: number; disk: number }>();\n  private performanceHistory = new Map<string, Array<{ timestamp: Date; metrics: AgentMetrics }>>();\n\n  constructor(\n    config: Partial<AgentManagerConfig>,\n    logger: ILogger,\n    eventBus: IEventBus,\n    memory: DistributedMemorySystem,\n  ) {\n    super();\n    this.logger = logger;\n    this.eventBus = eventBus;\n    this.memory = memory;\n\n    this.config = {\n      maxAgents: 50,\n      defaultTimeout: 30000,\n      heartbeatInterval: 10000,\n      healthCheckInterval: 30000,\n      autoRestart: true,\n      resourceLimits: {\n        memory: 512 * 1024 * 1024, // 512MB\n        cpu: 1.0,\n        disk: 1024 * 1024 * 1024, // 1GB\n      },\n      agentDefaults: {\n        autonomyLevel: 0.7,\n        learningEnabled: true,\n        adaptationEnabled: true,\n      },\n      environmentDefaults: {\n        runtime: 'deno',\n        workingDirectory: './agents',\n        tempDirectory: './tmp',\n        logDirectory: './logs',\n      },\n      ...config,\n    };\n\n    this.setupEventHandlers();\n    this.initializeDefaultTemplates();\n  }\n\n  private setupEventHandlers(): void {\n    this.eventBus.on('agent:heartbeat', (data: unknown) => {\n      const heartbeatData = data as { agentId: string; timestamp: Date; metrics?: AgentMetrics };\n      this.handleHeartbeat(heartbeatData);\n    });\n\n    this.eventBus.on('agent:error', (data: unknown) => {\n      const errorData = data as { agentId: string; error: AgentError };\n      this.handleAgentError(errorData);\n    });\n\n    this.eventBus.on('task:assigned', (data: unknown) => {\n      const taskData = data as { agentId: string };\n      this.updateAgentWorkload(taskData.agentId, 1);\n    });\n\n    this.eventBus.on('task:completed', (data: unknown) => {\n      const completedData = data as { agentId: string; metrics?: AgentMetrics };\n      this.updateAgentWorkload(completedData.agentId, -1);\n      if (completedData.metrics) {\n        this.updateAgentMetrics(completedData.agentId, completedData.metrics);\n      }\n    });\n\n    this.eventBus.on('resource:usage', (data: unknown) => {\n      const resourceData = data as {\n        agentId: string;\n        usage: { cpu: number; memory: number; disk: number };\n      };\n      this.updateResourceUsage(resourceData.agentId, resourceData.usage);\n    });\n  }\n\n  private initializeDefaultTemplates(): void {\n    // Research agent template\n    this.templates.set('researcher', {\n      name: 'Research Agent',\n      type: 'researcher',\n      capabilities: {\n        codeGeneration: false,\n        codeReview: false,\n        testing: false,\n        documentation: true,\n        research: true,\n        analysis: true,\n        webSearch: true,\n        apiIntegration: true,\n        fileSystem: true,\n        terminalAccess: false,\n        languages: [],\n        frameworks: [],\n        domains: ['research', 'analysis', 'information-gathering'],\n        tools: ['web-search', 'document-analysis', 'data-extraction'],\n        maxConcurrentTasks: 5,\n        maxMemoryUsage: 256 * 1024 * 1024,\n        maxExecutionTime: 600000,\n        reliability: 0.9,\n        speed: 0.8,\n        quality: 0.9,\n      },\n      config: {\n        autonomyLevel: 0.8,\n        learningEnabled: true,\n        adaptationEnabled: true,\n        maxTasksPerHour: 20,\n        maxConcurrentTasks: 5,\n        timeoutThreshold: 600000,\n        reportingInterval: 30000,\n        heartbeatInterval: 10000,\n        permissions: ['web-access', 'file-read'],\n        trustedAgents: [],\n        expertise: { research: 0.9, analysis: 0.8, documentation: 0.7 },\n        preferences: { verbose: true, detailed: true },\n      },\n      environment: {\n        runtime: 'deno',\n        version: '1.40.0',\n        workingDirectory: './agents/researcher',\n        tempDirectory: './tmp/researcher',\n        logDirectory: './logs/researcher',\n        apiEndpoints: {},\n        credentials: {},\n        availableTools: ['web-search', 'document-reader', 'data-extractor'],\n        toolConfigs: {},\n      },\n      startupScript: './scripts/start-researcher.ts',\n    });\n\n    // Developer agent template\n    this.templates.set('coder', {\n      name: 'Developer Agent',\n      type: 'coder',\n      capabilities: {\n        codeGeneration: true,\n        codeReview: true,\n        testing: true,\n        documentation: true,\n        research: false,\n        analysis: true,\n        webSearch: false,\n        apiIntegration: true,\n        fileSystem: true,\n        terminalAccess: true,\n        languages: ['typescript', 'javascript', 'python', 'rust'],\n        frameworks: ['deno', 'node', 'react', 'svelte'],\n        domains: ['web-development', 'backend', 'api-design'],\n        tools: ['git', 'editor', 'debugger', 'linter', 'formatter'],\n        maxConcurrentTasks: 3,\n        maxMemoryUsage: 512 * 1024 * 1024,\n        maxExecutionTime: 1200000,\n        reliability: 0.95,\n        speed: 0.7,\n        quality: 0.95,\n      },\n      config: {\n        autonomyLevel: 0.6,\n        learningEnabled: true,\n        adaptationEnabled: true,\n        maxTasksPerHour: 10,\n        maxConcurrentTasks: 3,\n        timeoutThreshold: 1200000,\n        reportingInterval: 60000,\n        heartbeatInterval: 15000,\n        permissions: ['file-read', 'file-write', 'terminal-access', 'git-access'],\n        trustedAgents: [],\n        expertise: { coding: 0.95, testing: 0.8, debugging: 0.9 },\n        preferences: { codeStyle: 'functional', testFramework: 'deno-test' },\n      },\n      environment: {\n        runtime: 'deno',\n        version: '1.40.0',\n        workingDirectory: './agents/developer',\n        tempDirectory: './tmp/developer',\n        logDirectory: './logs/developer',\n        apiEndpoints: {},\n        credentials: {},\n        availableTools: ['git', 'deno', 'editor', 'debugger'],\n        toolConfigs: {},\n      },\n      startupScript: './scripts/start-developer.ts',\n    });\n\n    // Add more templates...\n    this.initializeSpecializedTemplates();\n  }\n\n  private initializeSpecializedTemplates(): void {\n    // Analyzer template\n    this.templates.set('analyst', {\n      name: 'Analyzer Agent',\n      type: 'analyst',\n      capabilities: {\n        codeGeneration: false,\n        codeReview: true,\n        testing: false,\n        documentation: true,\n        research: false,\n        analysis: true,\n        webSearch: false,\n        apiIntegration: true,\n        fileSystem: true,\n        terminalAccess: false,\n        languages: ['python', 'r', 'sql'],\n        frameworks: ['pandas', 'numpy', 'matplotlib'],\n        domains: ['data-analysis', 'statistics', 'visualization'],\n        tools: ['data-processor', 'chart-generator', 'statistical-analyzer'],\n        maxConcurrentTasks: 4,\n        maxMemoryUsage: 1024 * 1024 * 1024,\n        maxExecutionTime: 900000,\n        reliability: 0.9,\n        speed: 0.75,\n        quality: 0.9,\n      },\n      config: {\n        autonomyLevel: 0.7,\n        learningEnabled: true,\n        adaptationEnabled: true,\n        maxTasksPerHour: 15,\n        maxConcurrentTasks: 4,\n        timeoutThreshold: 900000,\n        reportingInterval: 45000,\n        heartbeatInterval: 12000,\n        permissions: ['file-read', 'data-access'],\n        trustedAgents: [],\n        expertise: { analysis: 0.95, visualization: 0.8, statistics: 0.85 },\n        preferences: { outputFormat: 'detailed', includeCharts: true },\n      },\n      environment: {\n        runtime: 'deno',\n        version: '1.40.0',\n        workingDirectory: './agents/analyzer',\n        tempDirectory: './tmp/analyzer',\n        logDirectory: './logs/analyzer',\n        apiEndpoints: {},\n        credentials: {},\n        availableTools: ['data-processor', 'chart-gen', 'stats-calc'],\n        toolConfigs: {},\n      },\n      startupScript: './scripts/start-analyzer.ts',\n    });\n\n    // Requirements Engineer Agent Template\n    this.templates.set('requirements-engineer', {\n      name: 'Requirements Engineer Agent',\n      type: 'requirements-engineer',\n      capabilities: {\n        codeGeneration: false,\n        codeReview: false,\n        testing: false,\n        documentation: true,\n        research: true,\n        analysis: true,\n        webSearch: true,\n        apiIntegration: false,\n        fileSystem: true,\n        terminalAccess: false,\n        languages: [],\n        frameworks: [],\n        domains: ['requirements-engineering', 'user-stories', 'ears-notation'],\n        tools: ['document-writer', 'nlp-processor', 'web-search'],\n        maxConcurrentTasks: 2,\n        maxMemoryUsage: 256 * 1024 * 1024,\n        maxExecutionTime: 300000,\n        reliability: 0.95,\n        speed: 0.8,\n        quality: 0.95,\n      },\n      config: {\n        autonomyLevel: 0.8,\n        learningEnabled: true,\n        adaptationEnabled: true,\n        maxTasksPerHour: 10,\n        maxConcurrentTasks: 2,\n        timeoutThreshold: 300000,\n        reportingInterval: 30000,\n        heartbeatInterval: 10000,\n        permissions: ['file-read', 'file-write'],\n        trustedAgents: [],\n        expertise: { requirements: 0.95, documentation: 0.9, analysis: 0.8 },\n        preferences: { format: 'markdown', style: 'formal' },\n      },\n      environment: {\n        runtime: 'deno',\n        version: '1.40.0',\n        workingDirectory: './agents/requirements-engineer',\n        tempDirectory: './tmp/requirements-engineer',\n        logDirectory: './logs/requirements-engineer',\n        apiEndpoints: {},\n        credentials: {},\n        availableTools: ['document-writer', 'nlp-processor'],\n        toolConfigs: {},\n      },\n      startupScript: './scripts/start-requirements-engineer.ts',\n    });\n\n    // Design Architect Agent Template\n    this.templates.set('design-architect', {\n      name: 'Design Architect Agent',\n      type: 'design-architect',\n      capabilities: {\n        codeGeneration: false,\n        codeReview: true,\n        testing: false,\n        documentation: true,\n        research: true,\n        analysis: true,\n        webSearch: false,\n        apiIntegration: true,\n        fileSystem: true,\n        terminalAccess: false,\n        languages: ['typescript', 'javascript', 'python'],\n        frameworks: [],\n        domains: ['software-architecture', 'system-design', 'data-modeling'],\n        tools: ['diagram-generator', 'code-analyzer', 'api-designer'],\n        maxConcurrentTasks: 1,\n        maxMemoryUsage: 512 * 1024 * 1024,\n        maxExecutionTime: 600000,\n        reliability: 0.9,\n        speed: 0.7,\n        quality: 0.95,\n      },\n      config: {\n        autonomyLevel: 0.7,\n        learningEnabled: true,\n        adaptationEnabled: true,\n        maxTasksPerHour: 5,\n        maxConcurrentTasks: 1,\n        timeoutThreshold: 600000,\n        reportingInterval: 60000,\n        heartbeatInterval: 15000,\n        permissions: ['file-read', 'file-write'],\n        trustedAgents: [],\n        expertise: { architecture: 0.95, design: 0.9, modeling: 0.85 },\n        preferences: { diagramFormat: 'mermaid', detailLevel: 'high' },\n      },\n      environment: {\n        runtime: 'deno',\n        version: '1.40.0',\n        workingDirectory: './agents/design-architect',\n        tempDirectory: './tmp/design-architect',\n        logDirectory: './logs/design-architect',\n        apiEndpoints: {},\n        credentials: {},\n        availableTools: ['diagram-gen', 'code-analyzer'],\n        toolConfigs: {},\n      },\n      startupScript: './scripts/start-design-architect.ts',\n    });\n\n    // Task Planner Agent Template\n    this.templates.set('task-planner', {\n      name: 'Task Planner Agent',\n      type: 'task-planner',\n      capabilities: {\n        codeGeneration: false,\n        codeReview: false,\n        testing: false,\n        documentation: true,\n        research: false,\n        analysis: true,\n        webSearch: false,\n        apiIntegration: false,\n        fileSystem: true,\n        terminalAccess: false,\n        languages: [],\n        frameworks: [],\n        domains: ['project-management', 'task-breakdown', 'agile-planning'],\n        tools: ['task-scheduler', 'dependency-analyzer'],\n        maxConcurrentTasks: 3,\n        maxMemoryUsage: 256 * 1024 * 1024,\n        maxExecutionTime: 300000,\n        reliability: 0.95,\n        speed: 0.85,\n        quality: 0.9,\n      },\n      config: {\n        autonomyLevel: 0.8,\n        learningEnabled: true,\n        adaptationEnabled: true,\n        maxTasksPerHour: 20,\n        maxConcurrentTasks: 3,\n        timeoutThreshold: 300000,\n        reportingInterval: 30000,\n        heartbeatInterval: 10000,\n        permissions: ['file-read', 'file-write'],\n        trustedAgents: [],\n        expertise: { planning: 0.95, 'task-management': 0.9, optimization: 0.8 },\n        preferences: { outputFormat: 'markdown-checkbox', granularity: 'fine' },\n      },\n      environment: {\n        runtime: 'deno',\n        version: '1.40.0',\n        workingDirectory: './agents/task-planner',\n        tempDirectory: './tmp/task-planner',\n        logDirectory: './logs/task-planner',\n        apiEndpoints: {},\n        credentials: {},\n        availableTools: ['task-scheduler', 'dependency-analyzer'],\n        toolConfigs: {},\n      },\n      startupScript: './scripts/start-task-planner.ts',\n    });\n\n    // Developer Agent Template (already exists, but ensure it's aligned)\n    this.templates.set('developer', {\n      name: 'Developer Agent',\n      type: 'developer',\n      capabilities: {\n        codeGeneration: true,\n        codeReview: true,\n        testing: true,\n        documentation: true,\n        research: false,\n        analysis: true,\n        webSearch: false,\n        apiIntegration: true,\n        fileSystem: true,\n        terminalAccess: true,\n        languages: ['typescript', 'javascript', 'python', 'rust'],\n        frameworks: ['deno', 'node', 'react', 'svelte'],\n        domains: ['web-development', 'backend', 'api-design'],\n        tools: ['git', 'editor', 'debugger', 'linter', 'formatter'],\n        maxConcurrentTasks: 3,\n        maxMemoryUsage: 512 * 1024 * 1024,\n        maxExecutionTime: 1200000,\n        reliability: 0.95,\n        speed: 0.7,\n        quality: 0.95,\n      },\n      config: {\n        autonomyLevel: 0.6,\n        learningEnabled: true,\n        adaptationEnabled: true,\n        maxTasksPerHour: 10,\n        maxConcurrentTasks: 3,\n        timeoutThreshold: 1200000,\n        reportingInterval: 60000,\n        heartbeatInterval: 15000,\n        permissions: ['file-read', 'file-write', 'terminal-access', 'git-access'],\n        trustedAgents: [],\n        expertise: { coding: 0.95, testing: 0.8, debugging: 0.9 },\n        preferences: { codeStyle: 'functional', testFramework: 'deno-test' },\n      },\n      environment: {\n        runtime: 'deno',\n        version: '1.40.0',\n        workingDirectory: './agents/developer',\n        tempDirectory: './tmp/developer',\n        logDirectory: './logs/developer',\n        apiEndpoints: {},\n        credentials: {},\n        availableTools: ['git', 'deno', 'editor', 'debugger'],\n        toolConfigs: {},\n      },\n      startupScript: './scripts/start-developer.ts',\n    });\n\n    // System Architect Agent Template  \n    this.templates.set('system-architect', {\n      name: 'System Architect Agent',\n      type: 'system-architect',\n      capabilities: {\n        codeGeneration: false,\n        codeReview: true,\n        testing: false,\n        documentation: true,\n        research: true,\n        analysis: true,\n        webSearch: false,\n        apiIntegration: true,\n        fileSystem: true,\n        terminalAccess: false,\n        languages: ['typescript', 'javascript', 'python'],\n        frameworks: ['microservices', 'distributed-systems'],\n        domains: ['system-architecture', 'scalability', 'performance', 'distributed-systems'],\n        tools: ['architecture-analyzer', 'system-modeler', 'performance-analyzer'],\n        maxConcurrentTasks: 1,\n        maxMemoryUsage: 512 * 1024 * 1024,\n        maxExecutionTime: 900000,\n        reliability: 0.95,\n        speed: 0.7,\n        quality: 0.95,\n      },\n      config: {\n        autonomyLevel: 0.8,\n        learningEnabled: true,\n        adaptationEnabled: true,\n        maxTasksPerHour: 5,\n        maxConcurrentTasks: 1,\n        timeoutThreshold: 900000,\n        reportingInterval: 60000,\n        heartbeatInterval: 15000,\n        permissions: ['file-read', 'file-write'],\n        trustedAgents: [],\n        expertise: { 'system-architecture': 0.95, scalability: 0.9, performance: 0.85 },\n        preferences: { scope: 'system-wide', focusArea: 'architecture' },\n      },\n      environment: {\n        runtime: 'deno',\n        version: '1.40.0',\n        workingDirectory: './agents/system-architect',\n        tempDirectory: './tmp/system-architect',\n        logDirectory: './logs/system-architect',\n        apiEndpoints: {},\n        credentials: {},\n        availableTools: ['architecture-analyzer', 'system-modeler'],\n        toolConfigs: {},\n      },\n      startupScript: './scripts/start-system-architect.ts',\n    });\n\n    // Tester Agent Template\n    this.templates.set('tester', {\n      name: 'Testing Agent',\n      type: 'tester',\n      capabilities: {\n        codeGeneration: false,\n        codeReview: true,\n        testing: true,\n        documentation: true,\n        research: false,\n        analysis: true,\n        webSearch: false,\n        apiIntegration: true,\n        fileSystem: true,\n        terminalAccess: true,\n        languages: ['typescript', 'javascript', 'python'],\n        frameworks: ['deno-test', 'jest', 'vitest', 'cypress'],\n        domains: ['testing', 'quality-assurance', 'test-automation'],\n        tools: ['test-runner', 'coverage-analyzer', 'test-generator'],\n        maxConcurrentTasks: 3,\n        maxMemoryUsage: 256 * 1024 * 1024,\n        maxExecutionTime: 600000,\n        reliability: 0.9,\n        speed: 0.8,\n        quality: 0.9,\n      },\n      config: {\n        autonomyLevel: 0.7,\n        learningEnabled: true,\n        adaptationEnabled: true,\n        maxTasksPerHour: 15,\n        maxConcurrentTasks: 3,\n        timeoutThreshold: 600000,\n        reportingInterval: 45000,\n        heartbeatInterval: 12000,\n        permissions: ['file-read', 'file-write', 'terminal-access'],\n        trustedAgents: [],\n        expertise: { testing: 0.9, 'quality-assurance': 0.85, automation: 0.8 },\n        preferences: { testFramework: 'deno-test', coverage: 'comprehensive' },\n      },\n      environment: {\n        runtime: 'deno',\n        version: '1.40.0',\n        workingDirectory: './agents/tester',\n        tempDirectory: './tmp/tester',\n        logDirectory: './logs/tester',\n        apiEndpoints: {},\n        credentials: {},\n        availableTools: ['test-runner', 'coverage-tool', 'test-gen'],\n        toolConfigs: {},\n      },\n      startupScript: './scripts/start-tester.ts',\n    });\n\n    // Code Reviewer Agent Template\n    this.templates.set('reviewer', {\n      name: 'Code Review Agent',\n      type: 'reviewer',\n      capabilities: {\n        codeGeneration: false,\n        codeReview: true,\n        testing: false,\n        documentation: true,\n        research: false,\n        analysis: true,\n        webSearch: false,\n        apiIntegration: false,\n        fileSystem: true,\n        terminalAccess: false,\n        languages: ['typescript', 'javascript', 'python', 'rust'],\n        frameworks: ['static-analysis', 'code-quality'],\n        domains: ['code-review', 'quality-assurance', 'best-practices'],\n        tools: ['static-analyzer', 'code-quality-checker', 'security-scanner'],\n        maxConcurrentTasks: 2,\n        maxMemoryUsage: 256 * 1024 * 1024,\n        maxExecutionTime: 450000,\n        reliability: 0.95,\n        speed: 0.8,\n        quality: 0.95,\n      },\n      config: {\n        autonomyLevel: 0.8,\n        learningEnabled: true,\n        adaptationEnabled: true,\n        maxTasksPerHour: 12,\n        maxConcurrentTasks: 2,\n        timeoutThreshold: 450000,\n        reportingInterval: 30000,\n        heartbeatInterval: 10000,\n        permissions: ['file-read'],\n        trustedAgents: [],\n        expertise: { 'code-review': 0.95, 'quality-assurance': 0.9, security: 0.8 },\n        preferences: { style: 'thorough', focus: 'quality-and-security' },\n      },\n      environment: {\n        runtime: 'deno',\n        version: '1.40.0',\n        workingDirectory: './agents/reviewer',\n        tempDirectory: './tmp/reviewer',\n        logDirectory: './logs/reviewer',\n        apiEndpoints: {},\n        credentials: {},\n        availableTools: ['static-analyzer', 'quality-checker'],\n        toolConfigs: {},\n      },\n      startupScript: './scripts/start-reviewer.ts',\n    });\n\n    // Steering Author Agent Template\n    this.templates.set('steering-author', {\n      name: 'Steering Author Agent',\n      type: 'steering-author',\n      capabilities: {\n        codeGeneration: false,\n        codeReview: true,\n        testing: false,\n        documentation: true,\n        research: true,\n        analysis: true,\n        webSearch: false,\n        apiIntegration: false,\n        fileSystem: true,\n        terminalAccess: false,\n        languages: [],\n        frameworks: [],\n        domains: ['documentation', 'knowledge-management', 'governance'],\n        tools: ['document-writer', 'content-analyzer'],\n        maxConcurrentTasks: 1,\n        maxMemoryUsage: 256 * 1024 * 1024,\n        maxExecutionTime: 300000,\n        reliability: 0.95,\n        speed: 0.7,\n        quality: 0.98,\n      },\n      config: {\n        autonomyLevel: 0.7,\n        learningEnabled: true,\n        adaptationEnabled: true,\n        maxTasksPerHour: 5,\n        maxConcurrentTasks: 1,\n        timeoutThreshold: 300000,\n        reportingInterval: 30000,\n        heartbeatInterval: 10000,\n        permissions: ['file-read', 'file-write'],\n        trustedAgents: [],\n        expertise: { documentation: 0.98, governance: 0.9, 'content-creation': 0.85 },\n        preferences: { style: 'concise', tone: 'formal' },\n      },\n      environment: {\n        runtime: 'deno',\n        version: '1.40.0',\n        workingDirectory: './agents/steering-author',\n        tempDirectory: './tmp/steering-author',\n        logDirectory: './logs/steering-author',\n        apiEndpoints: {},\n        credentials: {},\n        availableTools: ['document-writer', 'content-analyzer'],\n        toolConfigs: {},\n      },\n      startupScript: './scripts/start-steering-author.ts',\n    });\n  }\n\n  async initialize(): Promise<void> {\n    this.logger.info('Initializing agent manager', {\n      maxAgents: this.config.maxAgents,\n      templates: this.templates.size,\n    });\n\n    // Start health monitoring\n    this.startHealthMonitoring();\n\n    // Start heartbeat monitoring\n    this.startHeartbeatMonitoring();\n\n    // Initialize default scaling policies\n    this.initializeScalingPolicies();\n\n    this.emit('agent-manager:initialized');\n  }\n\n  async shutdown(): Promise<void> {\n    this.logger.info('Shutting down agent manager');\n\n    // Stop monitoring\n    if (this.healthInterval) clearInterval(this.healthInterval);\n    if (this.heartbeatInterval) clearInterval(this.heartbeatInterval);\n\n    // Gracefully shutdown all agents\n    const shutdownPromises = Array.from(this.agents.keys()).map((agentId) =>\n      this.stopAgent(agentId, 'shutdown'),\n    );\n\n    await Promise.all(shutdownPromises);\n\n    this.emit('agent-manager:shutdown');\n  }\n\n  // === AGENT LIFECYCLE ===\n\n  async createAgent(\n    templateName: string,\n    overrides: {\n      name?: string;\n      config?: Partial<AgentConfig>;\n      environment?: Partial<AgentEnvironment>;\n    } = {},\n  ): Promise<string> {\n    if (this.agents.size >= this.config.maxAgents) {\n      throw new Error('Maximum agent limit reached');\n    }\n\n    const template = this.templates.get(templateName);\n    if (!template) {\n      throw new Error(`Template ${templateName} not found`);\n    }\n\n    const agentId = generateId('agent');\n    const swarmId = 'default'; // Could be parameterized\n\n    const agent: AgentState = {\n      id: { id: agentId, swarmId, type: template.type, instance: 1 },\n      name: overrides.name || `${template.name}-${agentId.slice(-8)}`,\n      type: template.type,\n      status: 'initializing',\n      capabilities: { ...template.capabilities },\n      metrics: this.createDefaultMetrics(),\n      workload: 0,\n      health: 1.0,\n      config: {\n        autonomyLevel: template.config.autonomyLevel ?? this.config.agentDefaults.autonomyLevel,\n        learningEnabled:\n          template.config.learningEnabled ?? this.config.agentDefaults.learningEnabled,\n        adaptationEnabled:\n          template.config.adaptationEnabled ?? this.config.agentDefaults.adaptationEnabled,\n        maxTasksPerHour: template.config.maxTasksPerHour ?? 10,\n        maxConcurrentTasks: template.config.maxConcurrentTasks ?? 3,\n        timeoutThreshold: template.config.timeoutThreshold ?? 300000,\n        reportingInterval: template.config.reportingInterval ?? 30000,\n        heartbeatInterval: template.config.heartbeatInterval ?? 10000,\n        permissions: template.config.permissions ?? [],\n        trustedAgents: template.config.trustedAgents ?? [],\n        expertise: template.config.expertise ?? {},\n        preferences: template.config.preferences ?? {},\n        ...overrides.config,\n      },\n      environment: {\n        runtime: template.environment.runtime ?? this.config.environmentDefaults.runtime,\n        version: template.environment.version ?? '1.40.0',\n        workingDirectory:\n          template.environment.workingDirectory ?? this.config.environmentDefaults.workingDirectory,\n        tempDirectory:\n          template.environment.tempDirectory ?? this.config.environmentDefaults.tempDirectory,\n        logDirectory:\n          template.environment.logDirectory ?? this.config.environmentDefaults.logDirectory,\n        apiEndpoints: template.environment.apiEndpoints ?? {},\n        credentials: template.environment.credentials ?? {},\n        availableTools: template.environment.availableTools ?? [],\n        toolConfigs: template.environment.toolConfigs ?? {},\n        ...overrides.environment,\n      },\n      endpoints: [],\n      lastHeartbeat: new Date(),\n      taskHistory: [],\n      errorHistory: [],\n      childAgents: [],\n      collaborators: [],\n    };\n\n    this.agents.set(agentId, agent);\n    this.healthChecks.set(agentId, this.createDefaultHealth(agentId));\n\n    this.logger.info('Created agent', {\n      agentId,\n      name: agent.name,\n      type: agent.type,\n      template: templateName,\n    });\n\n    this.emit('agent:created', { agent });\n\n    // Store in memory for persistence\n    await this.memory.store(`agent:${agentId}`, agent, {\n      type: 'agent-state',\n      tags: [agent.type, 'active'],\n      partition: 'state',\n    });\n\n    return agentId;\n  }\n\n  async startAgent(agentId: string): Promise<void> {\n    const agent = this.agents.get(agentId);\n    if (!agent) {\n      throw new Error(`Agent ${agentId} not found`);\n    }\n\n    if (agent.status !== 'initializing' && agent.status !== 'offline') {\n      throw new Error(`Agent ${agentId} cannot be started from status ${agent.status}`);\n    }\n\n    try {\n      agent.status = 'initializing';\n      this.updateAgentStatus(agentId, 'initializing');\n\n      // Spawn agent process\n      const process = await this.spawnAgentProcess(agent);\n      this.processes.set(agentId, process);\n\n      // Wait for agent to signal ready\n      await this.waitForAgentReady(agentId, this.config.defaultTimeout);\n\n      agent.status = 'idle';\n      this.updateAgentStatus(agentId, 'idle');\n\n      this.logger.info('Started agent', { agentId, name: agent.name });\n      this.emit('agent:started', { agent });\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : String(error);\n      agent.status = 'error';\n      this.addAgentError(agentId, {\n        timestamp: new Date(),\n        type: 'startup_failed',\n        message: errorMessage,\n        context: { agentId },\n        severity: 'critical',\n        resolved: false,\n      });\n\n      this.logger.error('Failed to start agent', { agentId, error });\n      throw error;\n    }\n  }\n\n  async stopAgent(agentId: string, reason: string = 'user_request'): Promise<void> {\n    const agent = this.agents.get(agentId);\n    if (!agent) {\n      throw new Error(`Agent ${agentId} not found`);\n    }\n\n    if (agent.status === 'offline' || agent.status === 'terminated') {\n      return; // Already stopped\n    }\n\n    try {\n      agent.status = 'terminating';\n      this.updateAgentStatus(agentId, 'terminating');\n\n      // Send graceful shutdown signal\n      const process = this.processes.get(agentId);\n      if (process && !process.killed) {\n        process.kill('SIGTERM');\n\n        // Force kill after timeout\n        setTimeout(() => {\n          if (process && !process.killed) {\n            process.kill('SIGKILL');\n          }\n        }, this.config.defaultTimeout);\n      }\n\n      // Wait for process to exit\n      await this.waitForProcessExit(agentId, this.config.defaultTimeout);\n\n      agent.status = 'terminated';\n      this.updateAgentStatus(agentId, 'terminated');\n\n      // Cleanup\n      this.processes.delete(agentId);\n\n      this.logger.info('Stopped agent', { agentId, reason });\n      this.emit('agent:stopped', { agent, reason });\n    } catch (error) {\n      this.logger.error('Failed to stop agent gracefully', { agentId, error });\n      // Force cleanup\n      this.processes.delete(agentId);\n      agent.status = 'terminated';\n    }\n  }\n\n  async restartAgent(agentId: string, reason: string = 'restart_requested'): Promise<void> {\n    this.logger.info('Restarting agent', { agentId, reason });\n\n    await this.stopAgent(agentId, `restart:${reason}`);\n    await this.startAgent(agentId);\n\n    this.emit('agent:restarted', { agentId, reason });\n  }\n\n  async removeAgent(agentId: string): Promise<void> {\n    const agent = this.agents.get(agentId);\n    if (!agent) {\n      throw new Error(`Agent ${agentId} not found`);\n    }\n\n    // Stop agent if running\n    if (agent.status !== 'terminated' && agent.status !== 'offline') {\n      await this.stopAgent(agentId, 'removal');\n    }\n\n    // Remove from all data structures\n    this.agents.delete(agentId);\n    this.healthChecks.delete(agentId);\n    this.resourceUsage.delete(agentId);\n    this.performanceHistory.delete(agentId);\n\n    // Remove from pools and clusters\n    this.removeAgentFromPoolsAndClusters(agentId);\n\n    // Remove from memory\n    await this.memory.deleteEntry(`agent:${agentId}`);\n\n    this.logger.info('Removed agent', { agentId });\n    this.emit('agent:removed', { agentId });\n  }\n\n  // === AGENT POOLS ===\n\n  async createAgentPool(\n    name: string,\n    templateName: string,\n    config: {\n      minSize: number;\n      maxSize: number;\n      autoScale?: boolean;\n      scaleUpThreshold?: number;\n      scaleDownThreshold?: number;\n    },\n  ): Promise<string> {\n    const template = this.templates.get(templateName);\n    if (!template) {\n      throw new Error(`Template ${templateName} not found`);\n    }\n\n    const poolId = generateId('pool');\n    const pool: AgentPool = {\n      id: poolId,\n      name,\n      type: template.type,\n      minSize: config.minSize,\n      maxSize: config.maxSize,\n      currentSize: 0,\n      availableAgents: [],\n      busyAgents: [],\n      template,\n      autoScale: config.autoScale || false,\n      scaleUpThreshold: config.scaleUpThreshold || 0.8,\n      scaleDownThreshold: config.scaleDownThreshold || 0.3,\n    };\n\n    this.pools.set(poolId, pool);\n\n    // Create minimum agents\n    for (let i = 0; i < config.minSize; i++) {\n      const agentId = await this.createAgent(templateName, {\n        name: `${name}-${i + 1}`,\n      });\n      await this.startAgent(agentId);\n      pool.availableAgents.push({\n        id: agentId,\n        swarmId: 'default',\n        type: template.type,\n        instance: i + 1,\n      });\n      pool.currentSize++;\n    }\n\n    this.logger.info('Created agent pool', { poolId, name, minSize: config.minSize });\n    this.emit('pool:created', { pool });\n\n    return poolId;\n  }\n\n  async scalePool(poolId: string, targetSize: number): Promise<void> {\n    const pool = this.pools.get(poolId);\n    if (!pool) {\n      throw new Error(`Pool ${poolId} not found`);\n    }\n\n    if (targetSize < pool.minSize || targetSize > pool.maxSize) {\n      throw new Error(\n        `Target size ${targetSize} outside pool limits [${pool.minSize}, ${pool.maxSize}]`,\n      );\n    }\n\n    const currentSize = pool.currentSize;\n    const delta = targetSize - currentSize;\n\n    if (delta > 0) {\n      // Scale up\n      for (let i = 0; i < delta; i++) {\n        const agentId = await this.createAgent(pool.template.name, {\n          name: `${pool.name}-${currentSize + i + 1}`,\n        });\n        await this.startAgent(agentId);\n        pool.availableAgents.push({\n          id: agentId,\n          swarmId: 'default',\n          type: pool.type,\n          instance: currentSize + i + 1,\n        });\n      }\n    } else if (delta < 0) {\n      // Scale down\n      const agentsToRemove = pool.availableAgents.slice(0, Math.abs(delta));\n      for (const agentId of agentsToRemove) {\n        await this.removeAgent(agentId.id);\n        pool.availableAgents = pool.availableAgents.filter((a) => a.id !== agentId.id);\n      }\n    }\n\n    pool.currentSize = targetSize;\n\n    this.logger.info('Scaled pool', { poolId, fromSize: currentSize, toSize: targetSize });\n    this.emit('pool:scaled', { pool, fromSize: currentSize, toSize: targetSize });\n  }\n\n  // === HEALTH MONITORING ===\n\n  private startHealthMonitoring(): void {\n    this.healthInterval = setInterval(() => {\n      this.performHealthChecks();\n    }, this.config.healthCheckInterval);\n\n    this.logger.info('Started health monitoring', {\n      interval: this.config.healthCheckInterval,\n    });\n  }\n\n  private startHeartbeatMonitoring(): void {\n    this.heartbeatInterval = setInterval(() => {\n      this.checkHeartbeats();\n    }, this.config.heartbeatInterval);\n\n    this.logger.info('Started heartbeat monitoring', {\n      interval: this.config.heartbeatInterval,\n    });\n  }\n\n  private async performHealthChecks(): Promise<void> {\n    const healthPromises = Array.from(this.agents.keys()).map((agentId) =>\n      this.checkAgentHealth(agentId),\n    );\n\n    await Promise.allSettled(healthPromises);\n  }\n\n  private async checkAgentHealth(agentId: string): Promise<void> {\n    const agent = this.agents.get(agentId);\n    if (!agent) return;\n\n    const health = this.healthChecks.get(agentId);\n    if (!health) return;\n    const now = new Date();\n\n    try {\n      // Check responsiveness\n      const responsiveness = await this.checkResponsiveness(agentId);\n      health.components.responsiveness = responsiveness;\n\n      // Check performance\n      const performance = this.calculatePerformanceScore(agentId);\n      health.components.performance = performance;\n\n      // Check reliability\n      const reliability = this.calculateReliabilityScore(agentId);\n      health.components.reliability = reliability;\n\n      // Check resource usage\n      const resourceScore = this.calculateResourceScore(agentId);\n      health.components.resourceUsage = resourceScore;\n\n      // Calculate overall health\n      const overall = (responsiveness + performance + reliability + resourceScore) / 4;\n      health.overall = overall;\n      health.lastCheck = now;\n\n      // Update agent health\n      agent.health = overall;\n\n      // Check for issues\n      this.detectHealthIssues(agentId, health);\n\n      // Auto-restart if critically unhealthy\n      if (overall < 0.3 && this.config.autoRestart) {\n        this.logger.warn('Agent critically unhealthy, restarting', { agentId, health: overall });\n        await this.restartAgent(agentId, 'health_critical');\n      }\n    } catch (error) {\n      this.logger.error('Health check failed', { agentId, error });\n      health.overall = 0;\n      health.lastCheck = now;\n    }\n  }\n\n  private async checkResponsiveness(agentId: string): Promise<number> {\n    // Send ping and measure response time\n\n    try {\n      // This would send an actual ping to the agent\n      // For now, simulate based on last heartbeat\n      const agent = this.agents.get(agentId);\n      if (!agent) return 0;\n      const timeSinceHeartbeat = Date.now() - agent.lastHeartbeat.getTime();\n\n      if (timeSinceHeartbeat > this.config.heartbeatInterval * 3) {\n        return 0; // Unresponsive\n      } else if (timeSinceHeartbeat > this.config.heartbeatInterval * 2) {\n        return 0.5; // Slow\n      } else {\n        return 1.0; // Responsive\n      }\n    } catch (error) {\n      return 0; // Failed to respond\n    }\n  }\n\n  private calculatePerformanceScore(agentId: string): number {\n    const history = this.performanceHistory.get(agentId) || [];\n    if (history.length === 0) return 1.0;\n\n    // Calculate average task completion time vs expected\n    const recent = history.slice(-10); // Last 10 entries\n    const avgTime =\n      recent.reduce((sum, entry) => sum + entry.metrics.averageExecutionTime, 0) / recent.length;\n\n    // Normalize based on expected performance (simplified)\n    const expectedTime = 60000; // 1 minute baseline\n    return Math.max(0, Math.min(1, expectedTime / avgTime));\n  }\n\n  private calculateReliabilityScore(agentId: string): number {\n    const agent = this.agents.get(agentId);\n    if (!agent) return 0;\n    const totalTasks = agent.metrics.tasksCompleted + agent.metrics.tasksFailed;\n\n    if (totalTasks === 0) return 1.0;\n\n    return agent.metrics.tasksCompleted / totalTasks;\n  }\n\n  private calculateResourceScore(agentId: string): number {\n    const usage = this.resourceUsage.get(agentId);\n    if (!usage) return 1.0;\n\n    const limits = this.config.resourceLimits;\n    const memoryScore = 1 - usage.memory / limits.memory;\n    const cpuScore = 1 - usage.cpu / limits.cpu;\n    const diskScore = 1 - usage.disk / limits.disk;\n\n    return Math.max(0, (memoryScore + cpuScore + diskScore) / 3);\n  }\n\n  private detectHealthIssues(agentId: string, health: AgentHealth): void {\n    const issues: HealthIssue[] = [];\n\n    if (health.components.responsiveness < 0.5) {\n      issues.push({\n        type: 'communication',\n        severity: health.components.responsiveness < 0.2 ? 'critical' : 'high',\n        message: 'Agent is not responding to heartbeats',\n        timestamp: new Date(),\n        resolved: false,\n        recommendedAction: 'Restart agent or check network connectivity',\n      });\n    }\n\n    if (health.components.performance < 0.6) {\n      issues.push({\n        type: 'performance',\n        severity: health.components.performance < 0.3 ? 'high' : 'medium',\n        message: 'Agent performance is below expected levels',\n        timestamp: new Date(),\n        resolved: false,\n        recommendedAction: 'Check resource allocation or agent configuration',\n      });\n    }\n\n    if (health.components.resourceUsage < 0.4) {\n      issues.push({\n        type: 'resource',\n        severity: health.components.resourceUsage < 0.2 ? 'critical' : 'high',\n        message: 'Agent resource usage is critically high',\n        timestamp: new Date(),\n        resolved: false,\n        recommendedAction: 'Increase resource limits or reduce workload',\n      });\n    }\n\n    health.issues = issues;\n  }\n\n  private checkHeartbeats(): void {\n    const now = Date.now();\n    const timeout = this.config.heartbeatInterval * 3;\n\n    for (const [agentId, agent] of Array.from(this.agents.entries())) {\n      const timeSinceHeartbeat = now - agent.lastHeartbeat.getTime();\n\n      if (\n        timeSinceHeartbeat > timeout &&\n        agent.status !== 'offline' &&\n        agent.status !== 'terminated'\n      ) {\n        this.logger.warn('Agent heartbeat timeout', { agentId, timeSinceHeartbeat });\n\n        agent.status = 'error';\n        this.addAgentError(agentId, {\n          timestamp: new Date(),\n          type: 'heartbeat_timeout',\n          message: 'Agent failed to send heartbeat within timeout period',\n          context: { timeout, timeSinceHeartbeat },\n          severity: 'high',\n          resolved: false,\n        });\n\n        this.emit('agent:heartbeat-timeout', { agentId, timeSinceHeartbeat });\n\n        // Auto-restart if enabled\n        if (this.config.autoRestart) {\n          this.restartAgent(agentId, 'heartbeat_timeout').catch((error) => {\n            this.logger.error('Failed to auto-restart agent', { agentId, error });\n          });\n        }\n      }\n    }\n  }\n\n  // === UTILITY METHODS ===\n\n  private async spawnAgentProcess(agent: AgentState): Promise<ChildProcess> {\n    const env: NodeJS.ProcessEnv = {\n      ...process.env,\n      AGENT_ID: agent.id.id,\n      AGENT_TYPE: agent.type,\n      AGENT_NAME: agent.name,\n      WORKING_DIR: agent.environment.workingDirectory,\n      LOG_DIR: agent.environment.logDirectory,\n    };\n\n    const args = [\n      'run',\n      '--allow-all',\n      agent.environment.availableTools[0] || './agents/generic-agent.ts',\n      '--config',\n      JSON.stringify(agent.config),\n    ];\n\n    const childProcess = spawn(agent.environment.runtime, args, {\n      env,\n      stdio: ['pipe', 'pipe', 'pipe'],\n      cwd: agent.environment.workingDirectory,\n    });\n\n    // Handle process events\n    childProcess.on('exit', (code: number | null) => {\n      this.handleProcessExit(agent.id.id, code);\n    });\n\n    childProcess.on('error', (error: Error) => {\n      this.handleProcessError(agent.id.id, error);\n    });\n\n    return childProcess;\n  }\n\n  private async waitForAgentReady(agentId: string, timeout: number): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const timer = setTimeout(() => {\n        reject(new Error(`Agent ${agentId} startup timeout`));\n      }, timeout);\n\n      const handler = (data: unknown) => {\n        const readyData = data as { agentId: string };\n        if (readyData.agentId === agentId) {\n          clearTimeout(timer);\n          this.eventBus.off('agent:ready', handler);\n          resolve();\n        }\n      };\n\n      this.eventBus.on('agent:ready', handler);\n    });\n  }\n\n  private async waitForProcessExit(agentId: string, timeout: number): Promise<void> {\n    return new Promise((resolve) => {\n      const process = this.processes.get(agentId);\n      if (!process || process.killed) {\n        resolve();\n        return;\n      }\n\n      const timer = setTimeout(() => {\n        resolve(); // Timeout, continue anyway\n      }, timeout);\n\n      process.on('exit', () => {\n        clearTimeout(timer);\n        resolve();\n      });\n    });\n  }\n\n  private handleProcessExit(agentId: string, code: number | null): void {\n    const agent = this.agents.get(agentId);\n    if (!agent) return;\n\n    this.logger.info('Agent process exited', { agentId, exitCode: code });\n\n    if (code !== 0 && code !== null) {\n      this.addAgentError(agentId, {\n        timestamp: new Date(),\n        type: 'process_exit',\n        message: `Agent process exited with code ${code}`,\n        context: { exitCode: code },\n        severity: 'high',\n        resolved: false,\n      });\n    }\n\n    agent.status = 'offline';\n    this.emit('agent:process-exit', { agentId, exitCode: code });\n  }\n\n  private handleProcessError(agentId: string, error: Error): void {\n    this.logger.error('Agent process error', { agentId, error });\n\n    this.addAgentError(agentId, {\n      timestamp: new Date(),\n      type: 'process_error',\n      message: error instanceof Error ? error.message : String(error),\n      context: { error: error.toString() },\n      severity: 'critical',\n      resolved: false,\n    });\n\n    this.emit('agent:process-error', { agentId, error });\n  }\n\n  private handleHeartbeat(data: {\n    agentId: string;\n    timestamp: Date;\n    metrics?: AgentMetrics;\n  }): void {\n    const agent = this.agents.get(data.agentId);\n    if (!agent) return;\n\n    agent.lastHeartbeat = data.timestamp;\n\n    if (data.metrics) {\n      this.updateAgentMetrics(data.agentId, data.metrics);\n    }\n\n    // Update health if agent was previously unresponsive\n    if (agent.status === 'error') {\n      agent.status = 'idle';\n      this.updateAgentStatus(data.agentId, 'idle');\n    }\n  }\n\n  private handleAgentError(data: { agentId: string; error: AgentError }): void {\n    this.addAgentError(data.agentId, data.error);\n\n    const agent = this.agents.get(data.agentId);\n    if (agent && data.error.severity === 'critical') {\n      agent.status = 'error';\n      this.updateAgentStatus(data.agentId, 'error');\n    }\n  }\n\n  private updateAgentStatus(agentId: string, status: AgentStatus): void {\n    const agent = this.agents.get(agentId);\n    if (!agent) return;\n\n    const oldStatus = agent.status;\n    agent.status = status;\n\n    this.emit('agent:status-changed', { agentId, from: oldStatus, to: status });\n  }\n\n  private updateAgentWorkload(agentId: string, delta: number): void {\n    const agent = this.agents.get(agentId);\n    if (!agent) return;\n\n    agent.workload = Math.max(0, agent.workload + delta);\n  }\n\n  private updateAgentMetrics(agentId: string, metrics: AgentMetrics): void {\n    const agent = this.agents.get(agentId);\n    if (!agent) return;\n\n    agent.metrics = { ...agent.metrics, ...metrics };\n\n    // Store performance history\n    const history = this.performanceHistory.get(agentId) || [];\n    history.push({ timestamp: new Date(), metrics: { ...metrics } });\n\n    // Keep only last 100 entries\n    if (history.length > 100) {\n      history.shift();\n    }\n\n    this.performanceHistory.set(agentId, history);\n  }\n\n  private updateResourceUsage(\n    agentId: string,\n    usage: { cpu: number; memory: number; disk: number },\n  ): void {\n    this.resourceUsage.set(agentId, usage);\n  }\n\n  private addAgentError(agentId: string, error: AgentError): void {\n    const agent = this.agents.get(agentId);\n    if (!agent) return;\n\n    agent.errorHistory.push(error);\n\n    // Keep only last 50 errors\n    if (agent.errorHistory.length > 50) {\n      agent.errorHistory.shift();\n    }\n  }\n\n  private createDefaultMetrics(): AgentMetrics {\n    return {\n      tasksCompleted: 0,\n      tasksFailed: 0,\n      averageExecutionTime: 0,\n      successRate: 1.0,\n      cpuUsage: 0,\n      memoryUsage: 0,\n      diskUsage: 0,\n      networkUsage: 0,\n      codeQuality: 0.8,\n      testCoverage: 0,\n      bugRate: 0,\n      userSatisfaction: 0.8,\n      totalUptime: 0,\n      lastActivity: new Date(),\n      responseTime: 0,\n    };\n  }\n\n  private createDefaultHealth(agentId: string): AgentHealth {\n    return {\n      agentId,\n      overall: 1.0,\n      components: {\n        responsiveness: 1.0,\n        performance: 1.0,\n        reliability: 1.0,\n        resourceUsage: 1.0,\n      },\n      issues: [],\n      lastCheck: new Date(),\n      trend: 'stable',\n    };\n  }\n\n  private removeAgentFromPoolsAndClusters(agentId: string): void {\n    // Remove from pools\n    for (const pool of Array.from(this.pools.values())) {\n      pool.availableAgents = pool.availableAgents.filter((a) => a.id !== agentId);\n      pool.busyAgents = pool.busyAgents.filter((a) => a.id !== agentId);\n      pool.currentSize = pool.availableAgents.length + pool.busyAgents.length;\n    }\n\n    // Remove from clusters\n    for (const cluster of Array.from(this.clusters.values())) {\n      cluster.agents = cluster.agents.filter((a) => a.id !== agentId);\n    }\n  }\n\n  private initializeScalingPolicies(): void {\n    // Default auto-scaling policy\n    const defaultPolicy: ScalingPolicy = {\n      name: 'default-autoscale',\n      enabled: true,\n      cooldownPeriod: 300000, // 5 minutes\n      maxScaleOperations: 10,\n      rules: [\n        {\n          metric: 'pool-utilization',\n          threshold: 0.8,\n          comparison: 'gt',\n          action: 'scale-up',\n          amount: 1,\n        },\n        {\n          metric: 'pool-utilization',\n          threshold: 0.3,\n          comparison: 'lt',\n          action: 'scale-down',\n          amount: 1,\n        },\n      ],\n    };\n\n    this.scalingPolicies.set('default', defaultPolicy);\n  }\n\n  // === PUBLIC API ===\n\n  getAgent(agentId: string): AgentState | undefined {\n    return this.agents.get(agentId);\n  }\n\n  getAllAgents(): AgentState[] {\n    return Array.from(this.agents.values());\n  }\n\n  getAgentsByType(type: AgentType): AgentState[] {\n    return Array.from(this.agents.values()).filter((agent) => agent.type === type);\n  }\n\n  getAgentsByStatus(status: AgentStatus): AgentState[] {\n    return Array.from(this.agents.values()).filter((agent) => agent.status === status);\n  }\n\n  getAgentHealth(agentId: string): AgentHealth | undefined {\n    return this.healthChecks.get(agentId);\n  }\n\n  getPool(poolId: string): AgentPool | undefined {\n    return this.pools.get(poolId);\n  }\n\n  getAllPools(): AgentPool[] {\n    return Array.from(this.pools.values());\n  }\n\n  getAgentTemplates(): AgentTemplate[] {\n    return Array.from(this.templates.values());\n  }\n\n  getSystemStats(): {\n    totalAgents: number;\n    activeAgents: number;\n    healthyAgents: number;\n    pools: number;\n    clusters: number;\n    averageHealth: number;\n    resourceUtilization: { cpu: number; memory: number; disk: number };\n  } {\n    const agents = Array.from(this.agents.values());\n    const healthChecks = Array.from(this.healthChecks.values());\n\n    const healthyAgents = healthChecks.filter((h) => h.overall > 0.7).length;\n    const averageHealth =\n      healthChecks.reduce((sum, h) => sum + h.overall, 0) / healthChecks.length || 1;\n\n    const resourceUsages = Array.from(this.resourceUsage.values());\n    const avgCpu = resourceUsages.reduce((sum, r) => sum + r.cpu, 0) / resourceUsages.length || 0;\n    const avgMemory =\n      resourceUsages.reduce((sum, r) => sum + r.memory, 0) / resourceUsages.length || 0;\n    const avgDisk = resourceUsages.reduce((sum, r) => sum + r.disk, 0) / resourceUsages.length || 0;\n\n    return {\n      totalAgents: agents.length,\n      activeAgents: agents.filter((a) => a.status === 'idle' || a.status === 'busy').length,\n      healthyAgents,\n      pools: this.pools.size,\n      clusters: this.clusters.size,\n      averageHealth,\n      resourceUtilization: {\n        cpu: avgCpu,\n        memory: avgMemory,\n        disk: avgDisk,\n      },\n    };\n  }\n}\n"],
  "mappings": "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",
  "names": ["process"]
}
