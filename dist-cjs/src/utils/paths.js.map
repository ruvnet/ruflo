{"version":3,"sources":["../../../src/utils/paths.ts"],"sourcesContent":["import { dirname, join, resolve } from 'path';\r\nimport { fileURLToPath } from 'url';\r\nimport { existsSync, readFileSync } from 'fs';\r\n\r\nconst __filename = fileURLToPath(import.meta.url);\r\nconst __dirname = dirname(__filename);\r\n\r\nexport function getClaudeFlowRoot(): string {\r\n  // Try multiple strategies to find the root\r\n  const strategies = [\r\n    // Strategy 1: From current file location\r\n    resolve(__dirname, '../..'),\r\n    // Strategy 2: From process.cwd()\r\n    process.cwd(),\r\n    // Strategy 3: From npm global location\r\n    resolve(process.execPath, '../../lib/node_modules/claude-flow'),\r\n    // Strategy 4: From environment variable\r\n    process.env.CLAUDE_FLOW_ROOT || '',\r\n  ];\r\n\r\n  for (const path of strategies) {\r\n    if (path && existsSync(join(path, 'package.json'))) {\r\n      try {\r\n        const pkgPath = join(path, 'package.json');\r\n        const pkgContent = readFileSync(pkgPath, 'utf-8');\r\n        const pkg = JSON.parse(pkgContent);\r\n        if (pkg.name === 'claude-flow') {\r\n          return path;\r\n        }\r\n      } catch {\r\n        // Ignore errors and try next strategy\r\n      }\r\n    }\r\n  }\r\n\r\n  // Fallback to current working directory\r\n  return process.cwd();\r\n}\r\n\r\nexport function getClaudeFlowBin(): string {\r\n  return join(getClaudeFlowRoot(), 'bin', 'claude-flow');\r\n}\r\n\r\nexport function resolveProjectPath(relativePath: string): string {\r\n  const root = getClaudeFlowRoot();\r\n  return resolve(root, relativePath);\r\n}\r\n"],"names":["dirname","join","resolve","fileURLToPath","existsSync","readFileSync","__filename","url","__dirname","getClaudeFlowRoot","strategies","process","cwd","execPath","env","CLAUDE_FLOW_ROOT","path","pkgPath","pkgContent","pkg","JSON","parse","name","getClaudeFlowBin","resolveProjectPath","relativePath","root"],"mappings":"AAAA,SAASA,OAAO,EAAEC,IAAI,EAAEC,OAAO,QAAQ,OAAO;AAC9C,SAASC,aAAa,QAAQ,MAAM;AACpC,SAASC,UAAU,EAAEC,YAAY,QAAQ,KAAK;AAE9C,MAAMC,aAAaH,cAAc,YAAYI,GAAG;AAChD,MAAMC,YAAYR,QAAQM;AAE1B,OAAO,SAASG;IAEd,MAAMC,aAAa;QAEjBR,QAAQM,WAAW;QAEnBG,QAAQC,GAAG;QAEXV,QAAQS,QAAQE,QAAQ,EAAE;QAE1BF,QAAQG,GAAG,CAACC,gBAAgB,IAAI;KACjC;IAED,KAAK,MAAMC,QAAQN,WAAY;QAC7B,IAAIM,QAAQZ,WAAWH,KAAKe,MAAM,kBAAkB;YAClD,IAAI;gBACF,MAAMC,UAAUhB,KAAKe,MAAM;gBAC3B,MAAME,aAAab,aAAaY,SAAS;gBACzC,MAAME,MAAMC,KAAKC,KAAK,CAACH;gBACvB,IAAIC,IAAIG,IAAI,KAAK,eAAe;oBAC9B,OAAON;gBACT;YACF,EAAE,OAAM,CAER;QACF;IACF;IAGA,OAAOL,QAAQC,GAAG;AACpB;AAEA,OAAO,SAASW;IACd,OAAOtB,KAAKQ,qBAAqB,OAAO;AAC1C;AAEA,OAAO,SAASe,mBAAmBC,YAAoB;IACrD,MAAMC,OAAOjB;IACb,OAAOP,QAAQwB,MAAMD;AACvB"}