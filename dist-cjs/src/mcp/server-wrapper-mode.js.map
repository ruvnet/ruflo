{"version":3,"sources":["../../../src/mcp/server-wrapper-mode.ts"],"sourcesContent":["#!/usr/bin/env node\r\n/**\r\n * Claude-Flow MCP Server - Wrapper Mode\r\n *\r\n * This version uses the Claude Code MCP wrapper approach instead of templates.\r\n */\r\n\r\nimport { ClaudeCodeMCPWrapper } from './claude-code-wrapper.js';\r\n\r\n// Check if running as wrapper mode\r\nconst isWrapperMode =\r\n  process.env.CLAUDE_FLOW_WRAPPER_MODE === 'true' || process.argv.includes('--wrapper');\r\n\r\nasync function main() {\r\n  if (isWrapperMode) {\r\n    console.error('Starting Claude-Flow MCP in wrapper mode...');\r\n    const wrapper = new ClaudeCodeMCPWrapper();\r\n    await wrapper.run();\r\n  } else {\r\n    // Fall back to original server\r\n    console.error('Starting Claude-Flow MCP in direct mode...');\r\n    const { runMCPServer } = await import('./server.js');\r\n    await runMCPServer();\r\n  }\r\n}\r\n\r\nmain().catch((error) => {\r\n  console.error('Fatal error:', error);\r\n  process.exit(1);\r\n});\r\n"],"names":["ClaudeCodeMCPWrapper","isWrapperMode","process","env","CLAUDE_FLOW_WRAPPER_MODE","argv","includes","main","console","error","wrapper","run","runMCPServer","catch","exit"],"mappings":";AAOA,SAASA,oBAAoB,QAAQ,2BAA2B;AAGhE,MAAMC,gBACJC,QAAQC,GAAG,CAACC,wBAAwB,KAAK,UAAUF,QAAQG,IAAI,CAACC,QAAQ,CAAC;AAE3E,eAAeC;IACb,IAAIN,eAAe;QACjBO,QAAQC,KAAK,CAAC;QACd,MAAMC,UAAU,IAAIV;QACpB,MAAMU,QAAQC,GAAG;IACnB,OAAO;QAELH,QAAQC,KAAK,CAAC;QACd,MAAM,EAAEG,YAAY,EAAE,GAAG,MAAM,MAAM,CAAC;QACtC,MAAMA;IACR;AACF;AAEAL,OAAOM,KAAK,CAAC,CAACJ;IACZD,QAAQC,KAAK,CAAC,gBAAgBA;IAC9BP,QAAQY,IAAI,CAAC;AACf"}