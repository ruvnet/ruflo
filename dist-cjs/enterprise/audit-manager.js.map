{
  "version": 3,
  "sources": ["../../src/enterprise/audit-manager.ts"],
  "sourcesContent": ["import { EventEmitter } from 'events';\nimport { writeFile, readFile, mkdir, readdir } from 'fs/promises';\nimport { join } from 'path';\nimport { createHash } from 'crypto';\nimport { Logger } from '../core/logger.js';\nimport { ConfigManager } from '../core/config.js';\n\nexport interface AuditEntry {\n  id: string;\n  timestamp: Date;\n  eventType: string;\n  category:\n    | 'authentication'\n    | 'authorization'\n    | 'data-access'\n    | 'system-change'\n    | 'security'\n    | 'compliance'\n    | 'business';\n  severity: 'low' | 'medium' | 'high' | 'critical';\n  userId?: string;\n  sessionId?: string;\n  resource: {\n    type: string;\n    id: string;\n    name?: string;\n    path?: string;\n  };\n  action: string;\n  outcome: 'success' | 'failure' | 'partial' | 'denied';\n  details: Record<string, any>;\n  context: {\n    ipAddress?: string;\n    userAgent?: string;\n    location?: string;\n    source: string;\n    requestId?: string;\n  };\n  compliance: {\n    frameworks: string[];\n    controls: string[];\n    retention: string;\n    classification: 'public' | 'internal' | 'confidential' | 'restricted';\n  };\n  integrity: {\n    hash: string;\n    signature?: string;\n    verified: boolean;\n  };\n  metadata: Record<string, any>;\n}\n\nexport interface ComplianceFramework {\n  id: string;\n  name: string;\n  version: string;\n  description: string;\n  type: 'regulatory' | 'industry' | 'internal' | 'certification';\n  requirements: ComplianceRequirement[];\n  auditFrequency: 'continuous' | 'daily' | 'weekly' | 'monthly' | 'quarterly' | 'annually';\n  retentionPeriod: string;\n  reportingRequirements: {\n    frequency: string;\n    recipients: string[];\n    format: string[];\n    automated: boolean;\n  };\n  controls: ComplianceControl[];\n  status: 'active' | 'inactive' | 'pending' | 'deprecated';\n  implementationDate: Date;\n  nextReview: Date;\n  responsible: string;\n}\n\nexport interface ComplianceRequirement {\n  id: string;\n  title: string;\n  description: string;\n  category: string;\n  priority: 'low' | 'medium' | 'high' | 'critical';\n  status: 'compliant' | 'non-compliant' | 'partial' | 'not-applicable' | 'pending';\n  evidence: string[];\n  gaps: string[];\n  remediation: {\n    actions: string[];\n    owner: string;\n    dueDate: Date;\n    cost?: number;\n    effort?: string;\n  };\n  lastAssessed: Date;\n  nextAssessment: Date;\n  automatedCheck: {\n    enabled: boolean;\n    frequency: string;\n    query: string;\n    threshold?: any;\n  };\n}\n\nexport interface ComplianceControl {\n  id: string;\n  name: string;\n  description: string;\n  type: 'preventive' | 'detective' | 'corrective' | 'compensating';\n  automationType: 'manual' | 'semi-automated' | 'automated';\n  effectiveness: 'low' | 'medium' | 'high';\n  frequency: string;\n  owner: string;\n  evidence: string[];\n  testingProcedure: string;\n  lastTested: Date;\n  nextTest: Date;\n  status: 'effective' | 'ineffective' | 'needs-improvement' | 'not-tested';\n}\n\nexport interface AuditReport {\n  id: string;\n  title: string;\n  description: string;\n  type: 'compliance' | 'security' | 'operational' | 'financial' | 'investigation' | 'custom';\n  scope: {\n    timeRange: { start: Date; end: Date };\n    systems: string[];\n    users: string[];\n    events: string[];\n    compliance: string[];\n  };\n  findings: AuditFinding[];\n  recommendations: AuditRecommendation[];\n  summary: {\n    totalEvents: number;\n    criticalFindings: number;\n    complianceScore: number;\n    riskLevel: 'low' | 'medium' | 'high' | 'critical';\n  };\n  methodology: string;\n  limitations: string[];\n  reviewers: string[];\n  approvers: string[];\n  status: 'draft' | 'under-review' | 'approved' | 'published' | 'archived';\n  confidentiality: 'public' | 'internal' | 'confidential' | 'restricted';\n  createdAt: Date;\n  updatedAt: Date;\n  createdBy: string;\n  publishedAt?: Date;\n}\n\nexport interface AuditFinding {\n  id: string;\n  title: string;\n  description: string;\n  severity: 'low' | 'medium' | 'high' | 'critical';\n  category: string;\n  risk: string;\n  impact: string;\n  likelihood: string;\n  evidence: AuditEvidence[];\n  relatedEvents: string[];\n  complianceImpact: {\n    frameworks: string[];\n    violations: string[];\n    penalties?: string[];\n  };\n  remediation: {\n    priority: 'low' | 'medium' | 'high' | 'immediate';\n    owner: string;\n    actions: string[];\n    timeline: string;\n    cost?: number;\n  };\n  status: 'open' | 'in-progress' | 'resolved' | 'accepted-risk' | 'false-positive';\n}\n\nexport interface AuditEvidence {\n  id: string;\n  type:\n    | 'log-entry'\n    | 'screenshot'\n    | 'document'\n    | 'system-output'\n    | 'witness-statement'\n    | 'data-export';\n  description: string;\n  source: string;\n  timestamp: Date;\n  hash: string;\n  location: string;\n  preservationStatus: 'intact' | 'modified' | 'corrupted' | 'missing';\n  chainOfCustody: ChainOfCustodyEntry[];\n}\n\nexport interface ChainOfCustodyEntry {\n  timestamp: Date;\n  action: 'collected' | 'accessed' | 'analyzed' | 'transferred' | 'stored' | 'destroyed';\n  user: string;\n  reason: string;\n  hash: string;\n}\n\nexport interface AuditRecommendation {\n  id: string;\n  title: string;\n  description: string;\n  priority: 'low' | 'medium' | 'high' | 'critical';\n  category: 'policy' | 'process' | 'technology' | 'training' | 'governance';\n  implementation: {\n    effort: 'low' | 'medium' | 'high';\n    cost: 'low' | 'medium' | 'high';\n    timeline: string;\n    dependencies: string[];\n    risks: string[];\n  };\n  expectedBenefit: string;\n  owner: string;\n  status: 'proposed' | 'approved' | 'in-progress' | 'completed' | 'rejected';\n  tracking: {\n    milestones: string[];\n    progress: number;\n    nextReview: Date;\n  };\n}\n\nexport interface AuditTrail {\n  id: string;\n  name: string;\n  description: string;\n  category: string;\n  entries: AuditEntry[];\n  configuration: {\n    retention: string;\n    compression: boolean;\n    encryption: boolean;\n    archival: {\n      enabled: boolean;\n      location: string;\n      schedule: string;\n    };\n    monitoring: {\n      realTime: boolean;\n      alerting: boolean;\n      dashboards: string[];\n    };\n  };\n  integrity: {\n    verified: boolean;\n    lastVerification: Date;\n    checksum: string;\n    tamperEvidence: TamperEvidence[];\n  };\n  access: {\n    viewers: string[];\n    admins: string[];\n    readonly: boolean;\n    auditAccess: boolean;\n  };\n  compliance: {\n    frameworks: string[];\n    retention: string;\n    exportRequirements: string[];\n    immutable: boolean;\n  };\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface TamperEvidence {\n  timestamp: Date;\n  type: 'checksum-mismatch' | 'unauthorized-access' | 'missing-entries' | 'timestamp-anomaly';\n  description: string;\n  severity: 'low' | 'medium' | 'high' | 'critical';\n  investigationStatus: 'pending' | 'investigating' | 'resolved' | 'false-alarm';\n  evidence: string[];\n}\n\nexport interface AuditConfiguration {\n  general: {\n    enabled: boolean;\n    defaultRetention: string;\n    compressionEnabled: boolean;\n    encryptionEnabled: boolean;\n    realTimeProcessing: boolean;\n  };\n  collection: {\n    automaticCapture: boolean;\n    bufferSize: number;\n    batchSize: number;\n    flushInterval: number;\n    failureHandling: 'ignore' | 'retry' | 'alert' | 'stop';\n  };\n  storage: {\n    primaryLocation: string;\n    backupLocation?: string;\n    archivalLocation?: string;\n    partitioning: 'daily' | 'weekly' | 'monthly';\n    indexing: boolean;\n  };\n  integrity: {\n    checksumAlgorithm: 'sha256' | 'sha512' | 'blake2b';\n    verificationFrequency: string;\n    digitalSignatures: boolean;\n    immutableStorage: boolean;\n  };\n  compliance: {\n    frameworks: string[];\n    automaticClassification: boolean;\n    retentionPolicies: Record<string, string>;\n    exportFormats: string[];\n  };\n  monitoring: {\n    alerting: {\n      enabled: boolean;\n      channels: string[];\n      thresholds: {\n        failedLogins: number;\n        privilegedAccess: number;\n        dataExfiltration: number;\n        configChanges: number;\n      };\n    };\n    reporting: {\n      automated: boolean;\n      frequency: string;\n      recipients: string[];\n      dashboards: string[];\n    };\n  };\n  privacy: {\n    piiDetection: boolean;\n    anonymization: boolean;\n    masking: {\n      enabled: boolean;\n      patterns: string[];\n    };\n    consent: {\n      required: boolean;\n      tracking: boolean;\n    };\n  };\n}\n\nexport interface AuditMetrics {\n  volume: {\n    totalEntries: number;\n    dailyAverage: number;\n    peakHourly: number;\n    byCategory: Record<string, number>;\n    bySeverity: Record<string, number>;\n  };\n  compliance: {\n    overallScore: number;\n    byFramework: Record<\n      string,\n      {\n        score: number;\n        compliant: number;\n        nonCompliant: number;\n        total: number;\n      }\n    >;\n    trending: 'improving' | 'stable' | 'declining';\n  };\n  integrity: {\n    verificationSuccess: number;\n    tamperAttempts: number;\n    dataLoss: number;\n    corruptionEvents: number;\n  };\n  performance: {\n    ingestionRate: number;\n    queryResponseTime: number;\n    storageEfficiency: number;\n    availabilityPercentage: number;\n  };\n  security: {\n    unauthorizedAccess: number;\n    privilegedActions: number;\n    suspiciousPatterns: number;\n    escalatedIncidents: number;\n  };\n}\n\nexport class AuditManager extends EventEmitter {\n  private auditTrails: Map<string, AuditTrail> = new Map();\n  private frameworks: Map<string, ComplianceFramework> = new Map();\n  private reports: Map<string, AuditReport> = new Map();\n  private auditBuffer: AuditEntry[] = [];\n  private auditPath: string;\n  private logger: Logger;\n  private config: ConfigManager;\n  private configuration: AuditConfiguration;\n\n  constructor(auditPath: string = './audit', logger?: Logger, config?: ConfigManager) {\n    super();\n    this.auditPath = auditPath;\n    this.logger = logger || new Logger({ level: 'info', format: 'text', destination: 'console' });\n    this.config = config || ConfigManager.getInstance();\n    this.configuration = this.getDefaultConfiguration();\n  }\n\n  async initialize(): Promise<void> {\n    try {\n      await mkdir(this.auditPath, { recursive: true });\n      await mkdir(join(this.auditPath, 'trails'), { recursive: true });\n      await mkdir(join(this.auditPath, 'frameworks'), { recursive: true });\n      await mkdir(join(this.auditPath, 'reports'), { recursive: true });\n      await mkdir(join(this.auditPath, 'evidence'), { recursive: true });\n      await mkdir(join(this.auditPath, 'exports'), { recursive: true });\n\n      await this.loadConfigurations();\n      await this.initializeDefaultFrameworks();\n      await this.startAuditProcessing();\n\n      this.logger.info('Audit Manager initialized successfully');\n    } catch (error) {\n      this.logger.error('Failed to initialize Audit Manager', { error });\n      throw error;\n    }\n  }\n\n  async logAuditEvent(eventData: {\n    eventType: string;\n    category: AuditEntry['category'];\n    severity?: AuditEntry['severity'];\n    userId?: string;\n    sessionId?: string;\n    resource: AuditEntry['resource'];\n    action: string;\n    outcome: AuditEntry['outcome'];\n    details: Record<string, any>;\n    context: Partial<AuditEntry['context']>;\n    compliance?: {\n      frameworks?: string[];\n      controls?: string[];\n      classification?: AuditEntry['compliance']['classification'];\n    };\n  }): Promise<AuditEntry> {\n    const entry: AuditEntry = {\n      id: `audit-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n      timestamp: new Date(),\n      eventType: eventData.eventType,\n      category: eventData.category,\n      severity: eventData.severity || 'medium',\n      userId: eventData.userId,\n      sessionId: eventData.sessionId,\n      resource: eventData.resource,\n      action: eventData.action,\n      outcome: eventData.outcome,\n      details: eventData.details,\n      context: {\n        source: 'system',\n        ...eventData.context,\n      },\n      compliance: {\n        frameworks: eventData.compliance?.frameworks || [],\n        controls: eventData.compliance?.controls || [],\n        retention: this.calculateRetentionPeriod(\n          eventData.category,\n          eventData.compliance?.frameworks,\n        ),\n        classification: eventData.compliance?.classification || 'internal',\n      },\n      integrity: {\n        hash: '',\n        verified: false,\n      },\n      metadata: {},\n    };\n\n    // Calculate integrity hash\n    entry.integrity.hash = this.calculateHash(entry);\n    entry.integrity.verified = true;\n\n    // Add to buffer for batch processing\n    this.auditBuffer.push(entry);\n\n    // Immediate processing for critical events\n    if (entry.severity === 'critical') {\n      await this.processAuditEntry(entry);\n      await this.generateSecurityAlert(entry);\n    }\n\n    // Batch process if buffer is full\n    if (this.auditBuffer.length >= this.configuration.collection.batchSize) {\n      await this.flushAuditBuffer();\n    }\n\n    this.emit('audit:logged', entry);\n    return entry;\n  }\n\n  async createComplianceFramework(frameworkData: {\n    name: string;\n    version: string;\n    description: string;\n    type: ComplianceFramework['type'];\n    requirements: Omit<ComplianceRequirement, 'id'>[];\n    controls: Omit<ComplianceControl, 'id'>[];\n    auditFrequency: ComplianceFramework['auditFrequency'];\n    retentionPeriod: string;\n    responsible: string;\n  }): Promise<ComplianceFramework> {\n    const framework: ComplianceFramework = {\n      id: `framework-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n      name: frameworkData.name,\n      version: frameworkData.version,\n      description: frameworkData.description,\n      type: frameworkData.type,\n      requirements: frameworkData.requirements.map((req, index) => ({\n        id: `req-${Date.now()}-${index}`,\n        ...req,\n        automatedCheck: {\n          enabled: false,\n          frequency: 'daily',\n          query: '',\n          ...req.automatedCheck,\n        },\n      })),\n      auditFrequency: frameworkData.auditFrequency,\n      retentionPeriod: frameworkData.retentionPeriod,\n      reportingRequirements: {\n        frequency: 'quarterly',\n        recipients: [],\n        format: ['pdf', 'json'],\n        automated: false,\n      },\n      controls: frameworkData.controls.map((control, index) => ({\n        id: `control-${Date.now()}-${index}`,\n        ...control,\n      })),\n      status: 'active',\n      implementationDate: new Date(),\n      nextReview: new Date(Date.now() + 365 * 24 * 60 * 60 * 1000), // 1 year\n      responsible: frameworkData.responsible,\n    };\n\n    this.frameworks.set(framework.id, framework);\n    await this.saveFramework(framework);\n\n    await this.logAuditEvent({\n      eventType: 'compliance_framework_created',\n      category: 'compliance',\n      severity: 'medium',\n      resource: { type: 'compliance-framework', id: framework.id, name: framework.name },\n      action: 'create',\n      outcome: 'success',\n      details: { frameworkType: framework.type, requirementsCount: framework.requirements.length },\n      context: { source: 'audit-manager' },\n      compliance: { frameworks: [framework.id] },\n    });\n\n    this.emit('framework:created', framework);\n    this.logger.info(`Compliance framework created: ${framework.name} (${framework.id})`);\n\n    return framework;\n  }\n\n  async generateAuditReport(reportConfig: {\n    title: string;\n    description: string;\n    type: AuditReport['type'];\n    scope: AuditReport['scope'];\n    includeRecommendations?: boolean;\n    confidentiality?: AuditReport['confidentiality'];\n  }): Promise<AuditReport> {\n    const report: AuditReport = {\n      id: `report-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n      title: reportConfig.title,\n      description: reportConfig.description,\n      type: reportConfig.type,\n      scope: reportConfig.scope,\n      findings: [],\n      recommendations: [],\n      summary: {\n        totalEvents: 0,\n        criticalFindings: 0,\n        complianceScore: 0,\n        riskLevel: 'low',\n      },\n      methodology: 'Automated analysis of audit trail data with manual review of findings',\n      limitations: [],\n      reviewers: [],\n      approvers: [],\n      status: 'draft',\n      confidentiality: reportConfig.confidentiality || 'internal',\n      createdAt: new Date(),\n      updatedAt: new Date(),\n      createdBy: 'audit-manager',\n    };\n\n    // Collect relevant audit entries\n    const auditEntries = await this.queryAuditEntries(reportConfig.scope);\n    report.summary.totalEvents = auditEntries.length;\n\n    // Analyze entries for findings\n    const findings = await this.analyzeAuditEntries(auditEntries, reportConfig.type);\n    report.findings = findings;\n    report.summary.criticalFindings = findings.filter((f) => f.severity === 'critical').length;\n\n    // Calculate compliance score\n    if (reportConfig.scope.compliance && reportConfig.scope.compliance.length > 0) {\n      report.summary.complianceScore = await this.calculateComplianceScore(\n        reportConfig.scope.compliance,\n        auditEntries,\n      );\n    }\n\n    // Determine risk level\n    report.summary.riskLevel = this.calculateRiskLevel(findings);\n\n    // Generate recommendations\n    if (reportConfig.includeRecommendations !== false) {\n      report.recommendations = await this.generateRecommendations(findings, reportConfig.type);\n    }\n\n    this.reports.set(report.id, report);\n    await this.saveReport(report);\n\n    await this.logAuditEvent({\n      eventType: 'audit_report_generated',\n      category: 'compliance',\n      severity: 'medium',\n      resource: { type: 'audit-report', id: report.id, name: report.title },\n      action: 'generate',\n      outcome: 'success',\n      details: {\n        reportType: report.type,\n        totalEvents: report.summary.totalEvents,\n        findingsCount: report.findings.length,\n        complianceScore: report.summary.complianceScore,\n      },\n      context: { source: 'audit-manager' },\n      compliance: { frameworks: reportConfig.scope.compliance || [] },\n    });\n\n    this.emit('report:generated', report);\n    this.logger.info(`Audit report generated: ${report.title} (${report.id})`);\n\n    return report;\n  }\n\n  async exportAuditData(exportConfig: {\n    format: 'json' | 'csv' | 'xml' | 'pdf';\n    scope: {\n      timeRange: { start: Date; end: Date };\n      categories?: string[];\n      severity?: string[];\n      users?: string[];\n    };\n    destination: string;\n    encryption?: boolean;\n    compression?: boolean;\n  }): Promise<string> {\n    const entries = await this.queryAuditEntries(exportConfig.scope);\n\n    let exportData: string;\n    const timestamp = new Date().toISOString().replace(/[:.]/g, '-');\n    const filename = `audit-export-${timestamp}.${exportConfig.format}`;\n    const filepath = join(this.auditPath, 'exports', filename);\n\n    switch (exportConfig.format) {\n      case 'json':\n        exportData = JSON.stringify(entries, null, 2);\n        break;\n      case 'csv':\n        exportData = this.convertToCSV(entries);\n        break;\n      case 'xml':\n        exportData = this.convertToXML(entries);\n        break;\n      case 'pdf':\n        exportData = await this.convertToPDF(entries);\n        break;\n      default:\n        throw new Error(`Unsupported export format: ${exportConfig.format}`);\n    }\n\n    // Apply compression if requested\n    if (exportConfig.compression) {\n      // Would implement compression here\n    }\n\n    // Apply encryption if requested\n    if (exportConfig.encryption) {\n      // Would implement encryption here\n    }\n\n    await writeFile(filepath, exportData);\n\n    await this.logAuditEvent({\n      eventType: 'audit_data_exported',\n      category: 'data-access',\n      severity: 'medium',\n      resource: { type: 'audit-data', id: 'export', path: filepath },\n      action: 'export',\n      outcome: 'success',\n      details: {\n        format: exportConfig.format,\n        recordCount: entries.length,\n        timeRange: exportConfig.scope.timeRange,\n        compressed: exportConfig.compression || false,\n        encrypted: exportConfig.encryption || false,\n      },\n      context: { source: 'audit-manager' },\n    });\n\n    this.emit('data:exported', {\n      filepath,\n      format: exportConfig.format,\n      recordCount: entries.length,\n    });\n    this.logger.info(`Audit data exported: ${filename} (${entries.length} records)`);\n\n    return filepath;\n  }\n\n  async verifyAuditIntegrity(trailId?: string): Promise<{\n    verified: boolean;\n    issues: TamperEvidence[];\n    summary: {\n      totalEntries: number;\n      verifiedEntries: number;\n      corruptedEntries: number;\n      missingEntries: number;\n    };\n  }> {\n    const issues: TamperEvidence[] = [];\n    let totalEntries = 0;\n    let verifiedEntries = 0;\n    let corruptedEntries = 0;\n    let missingEntries = 0;\n\n    const trails = trailId\n      ? ([this.auditTrails.get(trailId)].filter(Boolean) as AuditTrail[])\n      : Array.from(this.auditTrails.values());\n\n    for (const trail of trails) {\n      for (const entry of trail.entries) {\n        totalEntries++;\n\n        // Verify hash\n        const calculatedHash = this.calculateHash(entry);\n        if (calculatedHash === entry.integrity.hash) {\n          verifiedEntries++;\n        } else {\n          corruptedEntries++;\n          issues.push({\n            timestamp: new Date(),\n            type: 'checksum-mismatch',\n            description: `Hash mismatch for audit entry ${entry.id}`,\n            severity: 'high',\n            investigationStatus: 'pending',\n            evidence: [`Expected: ${entry.integrity.hash}`, `Calculated: ${calculatedHash}`],\n          });\n        }\n      }\n\n      // Update trail integrity status\n      trail.integrity.verified = issues.length === 0;\n      trail.integrity.lastVerification = new Date();\n      trail.integrity.tamperEvidence = issues;\n\n      await this.saveAuditTrail(trail);\n    }\n\n    const verified = issues.length === 0;\n\n    await this.logAuditEvent({\n      eventType: 'audit_integrity_verification',\n      category: 'security',\n      severity: verified ? 'low' : 'high',\n      resource: { type: 'audit-trail', id: trailId || 'all' },\n      action: 'verify',\n      outcome: verified ? 'success' : 'failure',\n      details: {\n        totalEntries,\n        verifiedEntries,\n        corruptedEntries,\n        issuesFound: issues.length,\n      },\n      context: { source: 'audit-manager' },\n    });\n\n    if (!verified) {\n      this.emit('integrity:compromised', {\n        issues,\n        summary: { totalEntries, verifiedEntries, corruptedEntries, missingEntries },\n      });\n      this.logger.error(`Audit integrity verification failed: ${issues.length} issues found`);\n    } else {\n      this.logger.info(`Audit integrity verification successful: ${totalEntries} entries verified`);\n    }\n\n    return {\n      verified,\n      issues,\n      summary: { totalEntries, verifiedEntries, corruptedEntries, missingEntries },\n    };\n  }\n\n  async getAuditMetrics(timeRange?: { start: Date; end: Date }): Promise<AuditMetrics> {\n    const range = timeRange || {\n      start: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000), // Last 30 days\n      end: new Date(),\n    };\n\n    const entries = await this.queryAuditEntries({ timeRange: range });\n\n    // Volume metrics\n    const volumeMetrics = {\n      totalEntries: entries.length,\n      dailyAverage: entries.length / 30,\n      peakHourly: this.calculatePeakHourly(entries),\n      byCategory: this.groupBy(entries, 'category'),\n      bySeverity: this.groupBy(entries, 'severity'),\n    };\n\n    // Compliance metrics\n    const complianceMetrics = {\n      overallScore: 85, // Would be calculated from actual compliance data\n      byFramework: {} as Record<string, any>,\n      trending: 'stable' as const,\n    };\n\n    // Calculate compliance scores by framework\n    for (const framework of this.frameworks.values()) {\n      const score = await this.calculateComplianceScore([framework.id], entries);\n      complianceMetrics.byFramework[framework.id] = {\n        score,\n        compliant: framework.requirements.filter((r) => r.status === 'compliant').length,\n        nonCompliant: framework.requirements.filter((r) => r.status === 'non-compliant').length,\n        total: framework.requirements.length,\n      };\n    }\n\n    // Integrity metrics\n    const integrityMetrics = {\n      verificationSuccess: 99.5,\n      tamperAttempts: entries.filter((e) => e.eventType === 'unauthorized_access').length,\n      dataLoss: 0,\n      corruptionEvents: 0,\n    };\n\n    // Performance metrics\n    const performanceMetrics = {\n      ingestionRate: entries.length / 24, // entries per hour\n      queryResponseTime: 150, // ms\n      storageEfficiency: 85, // percentage\n      availabilityPercentage: 99.9,\n    };\n\n    // Security metrics\n    const securityMetrics = {\n      unauthorizedAccess: entries.filter(\n        (e) => e.outcome === 'denied' || e.eventType === 'unauthorized_access',\n      ).length,\n      privilegedActions: entries.filter((e) => e.details.privileged === true).length,\n      suspiciousPatterns: entries.filter((e) => e.severity === 'critical').length,\n      escalatedIncidents: entries.filter(\n        (e) => e.category === 'security' && e.severity === 'critical',\n      ).length,\n    };\n\n    return {\n      volume: volumeMetrics,\n      compliance: complianceMetrics,\n      integrity: integrityMetrics,\n      performance: performanceMetrics,\n      security: securityMetrics,\n    };\n  }\n\n  // Private helper methods\n  private getDefaultConfiguration(): AuditConfiguration {\n    return {\n      general: {\n        enabled: true,\n        defaultRetention: '7y',\n        compressionEnabled: true,\n        encryptionEnabled: true,\n        realTimeProcessing: true,\n      },\n      collection: {\n        automaticCapture: true,\n        bufferSize: 10000,\n        batchSize: 1000,\n        flushInterval: 60000,\n        failureHandling: 'retry',\n      },\n      storage: {\n        primaryLocation: join(this.auditPath, 'trails'),\n        partitioning: 'daily',\n        indexing: true,\n      },\n      integrity: {\n        checksumAlgorithm: 'sha256',\n        verificationFrequency: 'daily',\n        digitalSignatures: false,\n        immutableStorage: true,\n      },\n      compliance: {\n        frameworks: [],\n        automaticClassification: true,\n        retentionPolicies: {\n          authentication: '3y',\n          'data-access': '7y',\n          'system-change': '5y',\n          security: '7y',\n          compliance: '10y',\n        },\n        exportFormats: ['json', 'csv', 'pdf'],\n      },\n      monitoring: {\n        alerting: {\n          enabled: true,\n          channels: ['email', 'webhook'],\n          thresholds: {\n            failedLogins: 5,\n            privilegedAccess: 10,\n            dataExfiltration: 1,\n            configChanges: 20,\n          },\n        },\n        reporting: {\n          automated: true,\n          frequency: 'weekly',\n          recipients: [],\n          dashboards: [],\n        },\n      },\n      privacy: {\n        piiDetection: true,\n        anonymization: false,\n        masking: {\n          enabled: true,\n          patterns: ['\\\\b\\\\d{4}[- ]?\\\\d{4}[- ]?\\\\d{4}[- ]?\\\\d{4}\\\\b'], // Credit card pattern\n        },\n        consent: {\n          required: false,\n          tracking: false,\n        },\n      },\n    };\n  }\n\n  private async loadConfigurations(): Promise<void> {\n    try {\n      // Load frameworks\n      const frameworkFiles = await readdir(join(this.auditPath, 'frameworks'));\n      for (const file of frameworkFiles.filter((f) => f.endsWith('.json'))) {\n        const content = await readFile(join(this.auditPath, 'frameworks', file), 'utf-8');\n        const framework: ComplianceFramework = JSON.parse(content);\n        this.frameworks.set(framework.id, framework);\n      }\n\n      // Load audit trails\n      const trailFiles = await readdir(join(this.auditPath, 'trails'));\n      for (const file of trailFiles.filter((f) => f.endsWith('.json'))) {\n        const content = await readFile(join(this.auditPath, 'trails', file), 'utf-8');\n        const trail: AuditTrail = JSON.parse(content);\n        this.auditTrails.set(trail.id, trail);\n      }\n\n      // Load reports\n      const reportFiles = await readdir(join(this.auditPath, 'reports'));\n      for (const file of reportFiles.filter((f) => f.endsWith('.json'))) {\n        const content = await readFile(join(this.auditPath, 'reports', file), 'utf-8');\n        const report: AuditReport = JSON.parse(content);\n        this.reports.set(report.id, report);\n      }\n\n      this.logger.info(\n        `Loaded ${this.frameworks.size} frameworks, ${this.auditTrails.size} trails, ${this.reports.size} reports`,\n      );\n    } catch (error) {\n      this.logger.warn('Failed to load some audit configurations', { error });\n    }\n  }\n\n  private async initializeDefaultFrameworks(): Promise<void> {\n    const defaultFrameworks = [\n      {\n        name: 'SOC 2 Type II',\n        version: '2017',\n        description: 'Service Organization Control 2 Type II compliance framework',\n        type: 'certification' as const,\n        requirements: [\n          {\n            title: 'Security Principle - Logical and Physical Access Controls',\n            description: 'The entity restricts logical and physical access to the system',\n            category: 'access-control',\n            priority: 'high' as const,\n            status: 'compliant' as const,\n            evidence: [],\n            gaps: [],\n            remediation: {\n              actions: [],\n              owner: 'security-team',\n              dueDate: new Date(Date.now() + 90 * 24 * 60 * 60 * 1000),\n            },\n            lastAssessed: new Date(),\n            nextAssessment: new Date(Date.now() + 365 * 24 * 60 * 60 * 1000),\n            automatedCheck: {\n              enabled: true,\n              frequency: 'daily',\n              query: 'category:authentication AND outcome:failure',\n              threshold: 10,\n            },\n          },\n        ],\n        controls: [\n          {\n            name: 'Multi-Factor Authentication',\n            description: 'MFA is required for all user accounts',\n            type: 'preventive' as const,\n            automationType: 'automated' as const,\n            effectiveness: 'high' as const,\n            frequency: 'continuous',\n            owner: 'security-team',\n            evidence: [],\n            testingProcedure: 'Verify MFA is enabled for all user accounts',\n            lastTested: new Date(),\n            nextTest: new Date(Date.now() + 90 * 24 * 60 * 60 * 1000),\n            status: 'effective' as const,\n          },\n        ],\n        auditFrequency: 'quarterly' as const,\n        retentionPeriod: '7y',\n        responsible: 'compliance-officer',\n      },\n      {\n        name: 'GDPR',\n        version: '2018',\n        description: 'General Data Protection Regulation compliance framework',\n        type: 'regulatory' as const,\n        requirements: [\n          {\n            title: 'Data Processing Records',\n            description: 'Maintain records of all data processing activities',\n            category: 'data-protection',\n            priority: 'critical' as const,\n            status: 'compliant' as const,\n            evidence: [],\n            gaps: [],\n            remediation: {\n              actions: [],\n              owner: 'data-protection-officer',\n              dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),\n            },\n            lastAssessed: new Date(),\n            nextAssessment: new Date(Date.now() + 365 * 24 * 60 * 60 * 1000),\n            automatedCheck: {\n              enabled: true,\n              frequency: 'daily',\n              query: 'category:data-access AND details.pii:true',\n            },\n          },\n        ],\n        controls: [],\n        auditFrequency: 'annually' as const,\n        retentionPeriod: '6y',\n        responsible: 'data-protection-officer',\n      },\n    ];\n\n    for (const frameworkData of defaultFrameworks) {\n      if (!Array.from(this.frameworks.values()).some((f) => f.name === frameworkData.name)) {\n        await this.createComplianceFramework(frameworkData);\n      }\n    }\n  }\n\n  private async startAuditProcessing(): Promise<void> {\n    // Start buffer flush timer\n    setInterval(async () => {\n      if (this.auditBuffer.length > 0) {\n        await this.flushAuditBuffer();\n      }\n    }, this.configuration.collection.flushInterval);\n\n    // Start integrity verification timer\n    setInterval(\n      async () => {\n        await this.verifyAuditIntegrity();\n      },\n      24 * 60 * 60 * 1000,\n    ); // Daily\n\n    this.logger.info('Started audit processing timers');\n  }\n\n  private async flushAuditBuffer(): Promise<void> {\n    if (this.auditBuffer.length === 0) return;\n\n    const entries = [...this.auditBuffer];\n    this.auditBuffer = [];\n\n    try {\n      for (const entry of entries) {\n        await this.processAuditEntry(entry);\n      }\n\n      this.logger.debug(`Flushed ${entries.length} audit entries`);\n    } catch (error) {\n      this.logger.error('Failed to flush audit buffer', { error });\n\n      // Re-add entries to buffer for retry if configured\n      if (this.configuration.collection.failureHandling === 'retry') {\n        this.auditBuffer.unshift(...entries);\n      }\n    }\n  }\n\n  private async processAuditEntry(entry: AuditEntry): Promise<void> {\n    // Determine which trail to add the entry to\n    const trailId = this.determineAuditTrail(entry);\n    let trail = this.auditTrails.get(trailId);\n\n    if (!trail) {\n      trail = await this.createAuditTrail(trailId, entry.category);\n    }\n\n    // Add entry to trail\n    trail.entries.push(entry);\n    trail.updatedAt = new Date();\n\n    // Update trail integrity\n    trail.integrity.checksum = this.calculateTrailChecksum(trail);\n    trail.integrity.lastVerification = new Date();\n\n    await this.saveAuditTrail(trail);\n\n    // Check for compliance violations\n    await this.checkComplianceViolations(entry);\n\n    // Check for security alerts\n    await this.checkSecurityAlerts(entry);\n  }\n\n  private determineAuditTrail(entry: AuditEntry): string {\n    // Use category and date for trail determination\n    const date = entry.timestamp.toISOString().split('T')[0];\n    return `${entry.category}-${date}`;\n  }\n\n  private async createAuditTrail(id: string, category: string): Promise<AuditTrail> {\n    const trail: AuditTrail = {\n      id,\n      name: `${category} audit trail`,\n      description: `Audit trail for ${category} events`,\n      category,\n      entries: [],\n      configuration: {\n        retention:\n          this.configuration.compliance.retentionPolicies[category] ||\n          this.configuration.general.defaultRetention,\n        compression: this.configuration.general.compressionEnabled,\n        encryption: this.configuration.general.encryptionEnabled,\n        archival: {\n          enabled: true,\n          location: join(this.auditPath, 'archive'),\n          schedule: 'yearly',\n        },\n        monitoring: {\n          realTime: this.configuration.general.realTimeProcessing,\n          alerting: this.configuration.monitoring.alerting.enabled,\n          dashboards: [],\n        },\n      },\n      integrity: {\n        verified: true,\n        lastVerification: new Date(),\n        checksum: '',\n        tamperEvidence: [],\n      },\n      access: {\n        viewers: [],\n        admins: ['audit-admin'],\n        readonly: false,\n        auditAccess: true,\n      },\n      compliance: {\n        frameworks: [],\n        retention:\n          this.configuration.compliance.retentionPolicies[category] ||\n          this.configuration.general.defaultRetention,\n        exportRequirements: [],\n        immutable: this.configuration.integrity.immutableStorage,\n      },\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n\n    this.auditTrails.set(trail.id, trail);\n    await this.saveAuditTrail(trail);\n\n    return trail;\n  }\n\n  private calculateHash(entry: AuditEntry): string {\n    // Create a deterministic string representation of the entry\n    const data = {\n      timestamp: entry.timestamp.toISOString(),\n      eventType: entry.eventType,\n      category: entry.category,\n      userId: entry.userId,\n      resource: entry.resource,\n      action: entry.action,\n      outcome: entry.outcome,\n      details: entry.details,\n    };\n\n    return createHash(this.configuration.integrity.checksumAlgorithm)\n      .update(JSON.stringify(data))\n      .digest('hex');\n  }\n\n  private calculateTrailChecksum(trail: AuditTrail): string {\n    const data = trail.entries.map((e) => e.integrity.hash).join('');\n    return createHash(this.configuration.integrity.checksumAlgorithm).update(data).digest('hex');\n  }\n\n  private calculateRetentionPeriod(category: string, frameworks?: string[]): string {\n    const categoryRetention = this.configuration.compliance.retentionPolicies[category];\n    if (categoryRetention) return categoryRetention;\n\n    // Check framework requirements\n    if (frameworks) {\n      let maxRetention = this.configuration.general.defaultRetention;\n      for (const frameworkId of frameworks) {\n        const framework = this.frameworks.get(frameworkId);\n        if (\n          framework &&\n          this.parseRetentionPeriod(framework.retentionPeriod) >\n            this.parseRetentionPeriod(maxRetention)\n        ) {\n          maxRetention = framework.retentionPeriod;\n        }\n      }\n      return maxRetention;\n    }\n\n    return this.configuration.general.defaultRetention;\n  }\n\n  private parseRetentionPeriod(period: string): number {\n    const match = period.match(/(\\d+)([ymd])/);\n    if (!match) return 0;\n\n    const value = parseInt(match[1]);\n    const unit = match[2];\n\n    switch (unit) {\n      case 'y':\n        return value * 365;\n      case 'm':\n        return value * 30;\n      case 'd':\n        return value;\n      default:\n        return 0;\n    }\n  }\n\n  private async queryAuditEntries(scope: {\n    timeRange?: { start: Date; end: Date };\n    categories?: string[];\n    severity?: string[];\n    users?: string[];\n    events?: string[];\n    compliance?: string[];\n  }): Promise<AuditEntry[]> {\n    let entries: AuditEntry[] = [];\n\n    // Collect entries from all trails\n    for (const trail of this.auditTrails.values()) {\n      entries.push(...trail.entries);\n    }\n\n    // Apply filters\n    if (scope.timeRange) {\n      entries = entries.filter(\n        (e) => e.timestamp >= scope.timeRange!.start && e.timestamp <= scope.timeRange!.end,\n      );\n    }\n\n    if (scope.categories) {\n      entries = entries.filter((e) => scope.categories!.includes(e.category));\n    }\n\n    if (scope.severity) {\n      entries = entries.filter((e) => scope.severity!.includes(e.severity));\n    }\n\n    if (scope.users) {\n      entries = entries.filter((e) => e.userId && scope.users!.includes(e.userId));\n    }\n\n    if (scope.events) {\n      entries = entries.filter((e) => scope.events!.includes(e.eventType));\n    }\n\n    if (scope.compliance) {\n      entries = entries.filter((e) =>\n        e.compliance.frameworks.some((f) => scope.compliance!.includes(f)),\n      );\n    }\n\n    return entries.sort((a, b) => a.timestamp.getTime() - b.timestamp.getTime());\n  }\n\n  private async analyzeAuditEntries(\n    entries: AuditEntry[],\n    reportType: string,\n  ): Promise<AuditFinding[]> {\n    const findings: AuditFinding[] = [];\n\n    // Security-focused analysis\n    if (reportType === 'security') {\n      // Check for failed login patterns\n      const failedLogins = entries.filter(\n        (e) => e.eventType === 'user_login' && e.outcome === 'failure',\n      );\n\n      if (failedLogins.length > 10) {\n        findings.push({\n          id: `finding-${Date.now()}-1`,\n          title: 'Excessive Failed Login Attempts',\n          description: `${failedLogins.length} failed login attempts detected`,\n          severity: 'high',\n          category: 'authentication',\n          risk: 'Potential brute force attack',\n          impact: 'Unauthorized access attempt',\n          likelihood: 'medium',\n          evidence: [],\n          relatedEvents: failedLogins.map((e) => e.id),\n          complianceImpact: {\n            frameworks: ['SOC2'],\n            violations: ['Access Control'],\n            penalties: [],\n          },\n          remediation: {\n            priority: 'high',\n            owner: 'security-team',\n            actions: ['Implement account lockout', 'Enable MFA', 'Review access logs'],\n            timeline: '7 days',\n          },\n          status: 'open',\n        });\n      }\n    }\n\n    // Compliance-focused analysis\n    if (reportType === 'compliance') {\n      // Check for data access patterns\n      const dataAccess = entries.filter(\n        (e) => e.category === 'data-access' && e.details.pii === true,\n      );\n\n      if (dataAccess.length > 0) {\n        findings.push({\n          id: `finding-${Date.now()}-2`,\n          title: 'PII Data Access Events',\n          description: `${dataAccess.length} events involving PII data access`,\n          severity: 'medium',\n          category: 'data-protection',\n          risk: 'Privacy compliance risk',\n          impact: 'Potential GDPR violation',\n          likelihood: 'low',\n          evidence: [],\n          relatedEvents: dataAccess.map((e) => e.id),\n          complianceImpact: {\n            frameworks: ['GDPR'],\n            violations: ['Data Processing'],\n            penalties: ['Administrative fine'],\n          },\n          remediation: {\n            priority: 'medium',\n            owner: 'data-protection-officer',\n            actions: ['Review data access justification', 'Update privacy notices'],\n            timeline: '30 days',\n          },\n          status: 'open',\n        });\n      }\n    }\n\n    return findings;\n  }\n\n  private async calculateComplianceScore(\n    frameworks: string[],\n    entries: AuditEntry[],\n  ): Promise<number> {\n    let totalRequirements = 0;\n    let metRequirements = 0;\n\n    for (const frameworkId of frameworks) {\n      const framework = this.frameworks.get(frameworkId);\n      if (!framework) continue;\n\n      for (const requirement of framework.requirements) {\n        totalRequirements++;\n\n        if (requirement.status === 'compliant') {\n          metRequirements++;\n        } else if (requirement.automatedCheck.enabled) {\n          // Check if automated requirement is met based on audit data\n          const violations = this.checkAutomatedRequirement(requirement, entries);\n          if (violations.length === 0) {\n            metRequirements++;\n          }\n        }\n      }\n    }\n\n    return totalRequirements > 0 ? (metRequirements / totalRequirements) * 100 : 0;\n  }\n\n  private checkAutomatedRequirement(\n    requirement: ComplianceRequirement,\n    entries: AuditEntry[],\n  ): AuditEntry[] {\n    // Simplified automated compliance checking\n    // In a real implementation, this would parse the query and evaluate against entries\n    const violations = entries.filter((e) => {\n      if (requirement.automatedCheck.query.includes('outcome:failure')) {\n        return e.outcome === 'failure';\n      }\n      return false;\n    });\n\n    return violations;\n  }\n\n  private calculateRiskLevel(findings: AuditFinding[]): 'low' | 'medium' | 'high' | 'critical' {\n    const criticalFindings = findings.filter((f) => f.severity === 'critical').length;\n    const highFindings = findings.filter((f) => f.severity === 'high').length;\n\n    if (criticalFindings > 0) return 'critical';\n    if (highFindings > 2) return 'high';\n    if (findings.length > 5) return 'medium';\n    return 'low';\n  }\n\n  private async generateRecommendations(\n    findings: AuditFinding[],\n    reportType: string,\n  ): Promise<AuditRecommendation[]> {\n    const recommendations: AuditRecommendation[] = [];\n\n    // Generic security recommendations\n    if (findings.some((f) => f.category === 'authentication')) {\n      recommendations.push({\n        id: `rec-${Date.now()}-1`,\n        title: 'Strengthen Authentication Controls',\n        description: 'Implement additional authentication security measures',\n        priority: 'high',\n        category: 'technology',\n        implementation: {\n          effort: 'medium',\n          cost: 'medium',\n          timeline: '30 days',\n          dependencies: ['Identity Provider Integration'],\n          risks: ['User experience impact'],\n        },\n        expectedBenefit: 'Reduced risk of unauthorized access',\n        owner: 'security-team',\n        status: 'proposed',\n        tracking: {\n          milestones: ['MFA deployment', 'Policy update', 'User training'],\n          progress: 0,\n          nextReview: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000),\n        },\n      });\n    }\n\n    return recommendations;\n  }\n\n  private async checkComplianceViolations(entry: AuditEntry): Promise<void> {\n    for (const frameworkId of entry.compliance.frameworks) {\n      const framework = this.frameworks.get(frameworkId);\n      if (!framework) continue;\n\n      for (const requirement of framework.requirements) {\n        if (requirement.automatedCheck.enabled) {\n          const violations = this.checkAutomatedRequirement(requirement, [entry]);\n          if (violations.length > 0) {\n            this.emit('compliance:violation', {\n              framework: frameworkId,\n              requirement: requirement.id,\n              entry,\n              severity: requirement.priority,\n            });\n          }\n        }\n      }\n    }\n  }\n\n  private async checkSecurityAlerts(entry: AuditEntry): Promise<void> {\n    const thresholds = this.configuration.monitoring.alerting.thresholds;\n\n    // Check for specific alert conditions\n    if (entry.eventType === 'user_login' && entry.outcome === 'failure') {\n      // Would implement failed login threshold checking\n    }\n\n    if (entry.category === 'data-access' && entry.details.privileged) {\n      this.emit('security:alert', {\n        type: 'privileged-access',\n        entry,\n        severity: 'medium',\n      });\n    }\n  }\n\n  private async generateSecurityAlert(entry: AuditEntry): Promise<void> {\n    this.emit('security:critical', {\n      entry,\n      message: `Critical security event: ${entry.eventType}`,\n      action: 'immediate-review-required',\n    });\n  }\n\n  private calculatePeakHourly(entries: AuditEntry[]): number {\n    const hourlyBuckets: Record<string, number> = {};\n\n    for (const entry of entries) {\n      const hour = entry.timestamp.toISOString().substr(0, 13); // YYYY-MM-DDTHH\n      hourlyBuckets[hour] = (hourlyBuckets[hour] || 0) + 1;\n    }\n\n    return Math.max(...Object.values(hourlyBuckets), 0);\n  }\n\n  private groupBy<T>(array: T[], key: keyof T): Record<string, number> {\n    return array.reduce(\n      (groups, item) => {\n        const value = String(item[key]);\n        groups[value] = (groups[value] || 0) + 1;\n        return groups;\n      },\n      {} as Record<string, number>,\n    );\n  }\n\n  private convertToCSV(entries: AuditEntry[]): string {\n    const headers = [\n      'timestamp',\n      'eventType',\n      'category',\n      'severity',\n      'userId',\n      'action',\n      'outcome',\n      'resource',\n    ];\n    const rows = entries.map((entry) => [\n      entry.timestamp.toISOString(),\n      entry.eventType,\n      entry.category,\n      entry.severity,\n      entry.userId || '',\n      entry.action,\n      entry.outcome,\n      `${entry.resource.type}:${entry.resource.id}`,\n    ]);\n\n    return [headers, ...rows].map((row) => row.join(',')).join('\\n');\n  }\n\n  private convertToXML(entries: AuditEntry[]): string {\n    let xml = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<auditEntries>\\n';\n\n    for (const entry of entries) {\n      xml += `  <entry id=\"${entry.id}\">\\n`;\n      xml += `    <timestamp>${entry.timestamp.toISOString()}</timestamp>\\n`;\n      xml += `    <eventType>${entry.eventType}</eventType>\\n`;\n      xml += `    <category>${entry.category}</category>\\n`;\n      xml += `    <severity>${entry.severity}</severity>\\n`;\n      xml += `    <action>${entry.action}</action>\\n`;\n      xml += `    <outcome>${entry.outcome}</outcome>\\n`;\n      xml += `  </entry>\\n`;\n    }\n\n    xml += '</auditEntries>';\n    return xml;\n  }\n\n  private async convertToPDF(entries: AuditEntry[]): Promise<string> {\n    // Would implement PDF generation\n    return 'PDF generation not implemented';\n  }\n\n  private async saveFramework(framework: ComplianceFramework): Promise<void> {\n    const filePath = join(this.auditPath, 'frameworks', `${framework.id}.json`);\n    await writeFile(filePath, JSON.stringify(framework, null, 2));\n  }\n\n  private async saveAuditTrail(trail: AuditTrail): Promise<void> {\n    const filePath = join(this.auditPath, 'trails', `${trail.id}.json`);\n    await writeFile(filePath, JSON.stringify(trail, null, 2));\n  }\n\n  private async saveReport(report: AuditReport): Promise<void> {\n    const filePath = join(this.auditPath, 'reports', `${report.id}.json`);\n    await writeFile(filePath, JSON.stringify(report, null, 2));\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
