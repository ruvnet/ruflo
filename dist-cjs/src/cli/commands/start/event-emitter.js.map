{"version":3,"sources":["../../../../../src/cli/commands/start/event-emitter.ts"],"sourcesContent":["/**\r\n * Simple EventEmitter implementation for process management\r\n */\r\n\r\ntype EventHandler = (...args: any[]) => void;\r\n\r\nexport class EventEmitter {\r\n  private events: Map<string, EventHandler[]> = new Map();\r\n\r\n  on(event: string, handler: EventHandler): void {\r\n    if (!this.events.has(event)) {\r\n      this.events.set(event, []);\r\n    }\r\n    this.events.get(event)!.push(handler);\r\n  }\r\n\r\n  emit(event: string, ...args: any[]): void {\r\n    const handlers = this.events.get(event);\r\n    if (handlers) {\r\n      handlers.forEach((handler) => handler(...args));\r\n    }\r\n  }\r\n\r\n  off(event: string, handler: EventHandler): void {\r\n    const handlers = this.events.get(event);\r\n    if (handlers) {\r\n      const index = handlers.indexOf(handler);\r\n      if (index > -1) {\r\n        handlers.splice(index, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  once(event: string, handler: EventHandler): void {\r\n    const onceHandler = (...args: any[]) => {\r\n      handler(...args);\r\n      this.off(event, onceHandler);\r\n    };\r\n    this.on(event, onceHandler);\r\n  }\r\n}\r\n"],"names":["EventEmitter","events","Map","on","event","handler","has","set","get","push","emit","args","handlers","forEach","off","index","indexOf","splice","once","onceHandler"],"mappings":"AAMA,OAAO,MAAMA;IACHC,SAAsC,IAAIC,MAAM;IAExDC,GAAGC,KAAa,EAAEC,OAAqB,EAAQ;QAC7C,IAAI,CAAC,IAAI,CAACJ,MAAM,CAACK,GAAG,CAACF,QAAQ;YAC3B,IAAI,CAACH,MAAM,CAACM,GAAG,CAACH,OAAO,EAAE;QAC3B;QACA,IAAI,CAACH,MAAM,CAACO,GAAG,CAACJ,OAAQK,IAAI,CAACJ;IAC/B;IAEAK,KAAKN,KAAa,EAAE,GAAGO,IAAW,EAAQ;QACxC,MAAMC,WAAW,IAAI,CAACX,MAAM,CAACO,GAAG,CAACJ;QACjC,IAAIQ,UAAU;YACZA,SAASC,OAAO,CAAC,CAACR,UAAYA,WAAWM;QAC3C;IACF;IAEAG,IAAIV,KAAa,EAAEC,OAAqB,EAAQ;QAC9C,MAAMO,WAAW,IAAI,CAACX,MAAM,CAACO,GAAG,CAACJ;QACjC,IAAIQ,UAAU;YACZ,MAAMG,QAAQH,SAASI,OAAO,CAACX;YAC/B,IAAIU,QAAQ,CAAC,GAAG;gBACdH,SAASK,MAAM,CAACF,OAAO;YACzB;QACF;IACF;IAEAG,KAAKd,KAAa,EAAEC,OAAqB,EAAQ;QAC/C,MAAMc,cAAc,CAAC,GAAGR;YACtBN,WAAWM;YACX,IAAI,CAACG,GAAG,CAACV,OAAOe;QAClB;QACA,IAAI,CAAChB,EAAE,CAACC,OAAOe;IACjB;AACF"}