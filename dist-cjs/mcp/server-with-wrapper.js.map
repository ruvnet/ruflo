{
  "version": 3,
  "sources": ["../../src/mcp/server-with-wrapper.ts"],
  "sourcesContent": ["#!/usr/bin/env node\n/**\n * MCP Server entry point that uses the wrapper by default\n */\n\nimport { ClaudeCodeMCPWrapper } from './claude-code-wrapper.js';\n\n// Check if we should use the legacy server\nconst useLegacy =\n  process.env.CLAUDE_FLOW_LEGACY_MCP === 'true' || process.argv.includes('--legacy');\n\nasync function main() {\n  if (useLegacy) {\n    console.error('Starting Claude-Flow MCP in legacy mode...');\n    // Dynamically import the old server to avoid circular dependencies\n    const module = await import('./server.js');\n    if (module.runMCPServer) {\n      await module.runMCPServer();\n    } else if (module.default) {\n      await module.default();\n    } else {\n      console.error('Could not find runMCPServer function in legacy server');\n      process.exit(1);\n    }\n  } else {\n    console.error('Starting Claude-Flow MCP with Claude Code wrapper...');\n    const wrapper = new ClaudeCodeMCPWrapper();\n    await wrapper.run();\n  }\n}\n\n// Run the server\nmain().catch((error) => {\n  console.error('Fatal error:', error);\n  process.exit(1);\n});\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;AAKA,iCAAqC;AAGrC,MAAM,YACJ,QAAQ,IAAI,2BAA2B,UAAU,QAAQ,KAAK,SAAS,UAAU;AAEnF,eAAe,OAAO;AACpB,MAAI,WAAW;AACb,YAAQ,MAAM,4CAA4C;AAE1D,UAAMA,UAAS,MAAM,OAAO,aAAa;AACzC,QAAIA,QAAO,cAAc;AACvB,YAAMA,QAAO,aAAa;AAAA,IAC5B,WAAWA,QAAO,SAAS;AACzB,YAAMA,QAAO,QAAQ;AAAA,IACvB,OAAO;AACL,cAAQ,MAAM,uDAAuD;AACrE,cAAQ,KAAK,CAAC;AAAA,IAChB;AAAA,EACF,OAAO;AACL,YAAQ,MAAM,sDAAsD;AACpE,UAAM,UAAU,IAAI,gDAAqB;AACzC,UAAM,QAAQ,IAAI;AAAA,EACpB;AACF;AAlBe;AAqBf,KAAK,EAAE,MAAM,CAAC,UAAU;AACtB,UAAQ,MAAM,gBAAgB,KAAK;AACnC,UAAQ,KAAK,CAAC;AAChB,CAAC;",
  "names": ["module"]
}
