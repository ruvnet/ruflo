{"version":3,"sources":["../../../../src/cli/init/claude-config.ts"],"sourcesContent":["// init/claude-config.ts - Claude configuration creation\r\nimport type { InitOptions } from './index.js';\r\n\r\nexport async function createClaudeConfig(options: InitOptions): Promise<void> {\r\n  const fs = await import('fs/promises');\r\n  const path = await import('path');\r\n\r\n  // Create base configuration\r\n  const claudeConfig = {\r\n    version: '1.0.71',\r\n    project: {\r\n      name: path.basename(process.cwd()),\r\n      type: 'claude-flow',\r\n      created: new Date().toISOString(),\r\n    },\r\n    features: {\r\n      swarm: true,\r\n      sparc: options.sparc || false,\r\n      memory: true,\r\n      terminal: true,\r\n      mcp: true,\r\n      batchTools: true,\r\n      orchestration: true,\r\n    },\r\n    batchTools: {\r\n      enabled: true,\r\n      maxConcurrentTasks: 10,\r\n      memoryCoordination: true,\r\n      taskOrchestration: true,\r\n      parallelExecution: true,\r\n    },\r\n    swarmConfig: {\r\n      defaultStrategy: 'auto',\r\n      defaultMode: 'centralized',\r\n      defaultMaxAgents: 5,\r\n      defaultTimeout: 60,\r\n      enableMonitoring: true,\r\n      enableParallel: true,\r\n      outputFormats: ['json', 'sqlite', 'csv', 'html'],\r\n      defaultOutputDir: './reports',\r\n    },\r\n    coordination: {\r\n      todoIntegration: true,\r\n      memorySharing: true,\r\n      crossAgentCommunication: true,\r\n      taskDependencyTracking: true,\r\n      progressMonitoring: true,\r\n    },\r\n  };\r\n\r\n  await fs.writeFile('.claude/config.json', JSON.stringify(claudeConfig, null, 2));\r\n  console.log('  ✅ Created .claude/config.json with batch tools configuration');\r\n\r\n  // Create additional configuration files\r\n  await createBatchToolsConfig();\r\n  await createSwarmConfig();\r\n  await createCoordinationConfig();\r\n}\r\n\r\nasync function createBatchToolsConfig(): Promise<void> {\r\n  const fs = await import('fs/promises');\r\n\r\n  const batchConfig = {\r\n    version: '1.0.71',\r\n    description: 'Batch tools configuration for Claude Code orchestration',\r\n    tools: {\r\n      todoWrite: {\r\n        enabled: true,\r\n        features: [\r\n          'task_breakdown',\r\n          'dependency_tracking',\r\n          'priority_management',\r\n          'progress_monitoring',\r\n        ],\r\n        maxTasks: 50,\r\n        defaultPriority: 'medium',\r\n      },\r\n      todoRead: {\r\n        enabled: true,\r\n        features: ['progress_tracking', 'status_monitoring', 'task_filtering'],\r\n        autoRefresh: true,\r\n        refreshInterval: 30,\r\n      },\r\n      task: {\r\n        enabled: true,\r\n        features: ['parallel_execution', 'agent_coordination', 'load_balancing'],\r\n        maxConcurrentTasks: 10,\r\n        timeoutDefault: 300,\r\n        retryAttempts: 3,\r\n      },\r\n      memory: {\r\n        enabled: true,\r\n        features: ['cross_agent_sharing', 'persistent_storage', 'knowledge_coordination'],\r\n        maxEntries: 1000,\r\n        compressionEnabled: true,\r\n        encryptionEnabled: false,\r\n      },\r\n      fileOperations: {\r\n        batchRead: {\r\n          enabled: true,\r\n          maxConcurrentReads: 10,\r\n          timeoutPerFile: 30,\r\n        },\r\n        batchWrite: {\r\n          enabled: true,\r\n          maxConcurrentWrites: 5,\r\n          backupEnabled: true,\r\n        },\r\n        batchEdit: {\r\n          enabled: true,\r\n          maxConcurrentEdits: 5,\r\n          validationEnabled: true,\r\n        },\r\n      },\r\n      search: {\r\n        batchGlob: {\r\n          enabled: true,\r\n          maxConcurrentSearches: 5,\r\n          cacheResults: true,\r\n        },\r\n        batchGrep: {\r\n          enabled: true,\r\n          maxConcurrentSearches: 5,\r\n          regexOptimization: true,\r\n        },\r\n      },\r\n    },\r\n    performance: {\r\n      monitoring: {\r\n        enabled: true,\r\n        metricsCollection: true,\r\n        performanceAlerts: true,\r\n      },\r\n      optimization: {\r\n        resourcePooling: true,\r\n        intelligentBatching: true,\r\n        loadBalancing: true,\r\n      },\r\n    },\r\n  };\r\n\r\n  await fs.writeFile('.claude/configs/batch-tools.json', JSON.stringify(batchConfig, null, 2));\r\n  console.log('  ✅ Created batch tools configuration');\r\n}\r\n\r\nasync function createSwarmConfig(): Promise<void> {\r\n  const fs = await import('fs/promises');\r\n\r\n  const swarmConfig = {\r\n    version: '1.0.71',\r\n    description: 'Swarm orchestration configuration for Claude-Flow',\r\n    strategies: {\r\n      research: {\r\n        description: 'Multi-agent research coordination',\r\n        defaultMode: 'distributed',\r\n        defaultAgents: 6,\r\n        phases: ['planning', 'execution', 'synthesis', 'reporting'],\r\n        tools: ['WebSearch', 'WebFetch', 'Memory', 'TodoWrite', 'Task'],\r\n        coordination: 'memory_based',\r\n      },\r\n      development: {\r\n        description: 'Coordinated software development',\r\n        defaultMode: 'hierarchical',\r\n        defaultAgents: 8,\r\n        phases: ['architecture', 'implementation', 'testing', 'integration'],\r\n        tools: ['Read', 'Write', 'Edit', 'Bash', 'Memory', 'TodoWrite', 'Task'],\r\n        coordination: 'hierarchical_teams',\r\n      },\r\n      analysis: {\r\n        description: 'Data analysis and insights generation',\r\n        defaultMode: 'mesh',\r\n        defaultAgents: 10,\r\n        phases: ['collection', 'processing', 'analysis', 'visualization'],\r\n        tools: ['Read', 'Bash', 'Memory', 'TodoWrite', 'Task'],\r\n        coordination: 'peer_to_peer',\r\n      },\r\n      testing: {\r\n        description: 'Comprehensive testing coordination',\r\n        defaultMode: 'distributed',\r\n        defaultAgents: 12,\r\n        phases: ['planning', 'execution', 'validation', 'reporting'],\r\n        tools: ['Read', 'Write', 'Bash', 'TodoWrite', 'Task'],\r\n        coordination: 'distributed_validation',\r\n      },\r\n      optimization: {\r\n        description: 'Performance optimization coordination',\r\n        defaultMode: 'hybrid',\r\n        defaultAgents: 6,\r\n        phases: ['profiling', 'analysis', 'optimization', 'validation'],\r\n        tools: ['Read', 'Edit', 'Bash', 'Memory', 'TodoWrite'],\r\n        coordination: 'adaptive_hybrid',\r\n      },\r\n      maintenance: {\r\n        description: 'System maintenance coordination',\r\n        defaultMode: 'centralized',\r\n        defaultAgents: 4,\r\n        phases: ['assessment', 'planning', 'execution', 'verification'],\r\n        tools: ['Read', 'Write', 'Bash', 'TodoWrite', 'Memory'],\r\n        coordination: 'centralized_safety',\r\n      },\r\n    },\r\n    coordinationModes: {\r\n      centralized: {\r\n        description: 'Single coordinator manages all agents',\r\n        useCases: ['maintenance', 'safety_critical', 'simple_tasks'],\r\n        coordination: 'master_slave',\r\n        communication: 'hub_spoke',\r\n      },\r\n      distributed: {\r\n        description: 'Multiple coordinators manage agent groups',\r\n        useCases: ['research', 'testing', 'large_scale'],\r\n        coordination: 'multi_master',\r\n        communication: 'federated',\r\n      },\r\n      hierarchical: {\r\n        description: 'Tree-like organization with team leads',\r\n        useCases: ['development', 'structured_workflows', 'large_teams'],\r\n        coordination: 'tree_structure',\r\n        communication: 'hierarchical_reporting',\r\n      },\r\n      mesh: {\r\n        description: 'Peer-to-peer agent communication',\r\n        useCases: ['analysis', 'dynamic_tasks', 'adaptive_workflows'],\r\n        coordination: 'peer_to_peer',\r\n        communication: 'mesh_network',\r\n      },\r\n      hybrid: {\r\n        description: 'Adaptive coordination based on task phase',\r\n        useCases: ['optimization', 'complex_workflows', 'multi_phase'],\r\n        coordination: 'adaptive_mixed',\r\n        communication: 'dynamic_topology',\r\n      },\r\n    },\r\n  };\r\n\r\n  await fs.writeFile('.claude/configs/swarm.json', JSON.stringify(swarmConfig, null, 2));\r\n  console.log('  ✅ Created swarm orchestration configuration');\r\n}\r\n\r\nasync function createCoordinationConfig(): Promise<void> {\r\n  const fs = await import('fs/promises');\r\n\r\n  const coordinationConfig = {\r\n    version: '1.0.71',\r\n    description: 'Agent coordination and orchestration configuration',\r\n    coordination: {\r\n      taskManagement: {\r\n        todoIntegration: {\r\n          enabled: true,\r\n          autoBreakdown: true,\r\n          dependencyTracking: true,\r\n          progressMonitoring: true,\r\n          priorityManagement: true,\r\n        },\r\n        taskDistribution: {\r\n          algorithm: 'intelligent_balancing',\r\n          loadBalancing: true,\r\n          skillMatching: true,\r\n          resourceOptimization: true,\r\n        },\r\n      },\r\n      communication: {\r\n        memorySharing: {\r\n          enabled: true,\r\n          crossAgentAccess: true,\r\n          knowledgeSync: true,\r\n          conflictResolution: 'timestamp_priority',\r\n        },\r\n        coordination: {\r\n          realTimeUpdates: true,\r\n          statusBroadcasting: true,\r\n          emergencySignaling: true,\r\n        },\r\n      },\r\n      monitoring: {\r\n        progressTracking: {\r\n          enabled: true,\r\n          realTimeUpdates: true,\r\n          milestoneTracking: true,\r\n          performanceMetrics: true,\r\n        },\r\n        healthMonitoring: {\r\n          agentHealth: true,\r\n          taskHealth: true,\r\n          systemHealth: true,\r\n          alerting: true,\r\n        },\r\n      },\r\n    },\r\n    optimization: {\r\n      resourceManagement: {\r\n        pooling: true,\r\n        allocation: 'dynamic',\r\n        recycling: true,\r\n        monitoring: true,\r\n      },\r\n      performance: {\r\n        batchOptimization: true,\r\n        parallelExecution: true,\r\n        caching: true,\r\n        compression: true,\r\n      },\r\n    },\r\n  };\r\n\r\n  await fs.writeFile(\r\n    '.claude/configs/coordination.json',\r\n    JSON.stringify(coordinationConfig, null, 2),\r\n  );\r\n  console.log('  ✅ Created coordination configuration');\r\n}\r\n"],"names":["createClaudeConfig","options","fs","path","claudeConfig","version","project","name","basename","process","cwd","type","created","Date","toISOString","features","swarm","sparc","memory","terminal","mcp","batchTools","orchestration","enabled","maxConcurrentTasks","memoryCoordination","taskOrchestration","parallelExecution","swarmConfig","defaultStrategy","defaultMode","defaultMaxAgents","defaultTimeout","enableMonitoring","enableParallel","outputFormats","defaultOutputDir","coordination","todoIntegration","memorySharing","crossAgentCommunication","taskDependencyTracking","progressMonitoring","writeFile","JSON","stringify","console","log","createBatchToolsConfig","createSwarmConfig","createCoordinationConfig","batchConfig","description","tools","todoWrite","maxTasks","defaultPriority","todoRead","autoRefresh","refreshInterval","task","timeoutDefault","retryAttempts","maxEntries","compressionEnabled","encryptionEnabled","fileOperations","batchRead","maxConcurrentReads","timeoutPerFile","batchWrite","maxConcurrentWrites","backupEnabled","batchEdit","maxConcurrentEdits","validationEnabled","search","batchGlob","maxConcurrentSearches","cacheResults","batchGrep","regexOptimization","performance","monitoring","metricsCollection","performanceAlerts","optimization","resourcePooling","intelligentBatching","loadBalancing","strategies","research","defaultAgents","phases","development","analysis","testing","maintenance","coordinationModes","centralized","useCases","communication","distributed","hierarchical","mesh","hybrid","coordinationConfig","taskManagement","autoBreakdown","dependencyTracking","priorityManagement","taskDistribution","algorithm","skillMatching","resourceOptimization","crossAgentAccess","knowledgeSync","conflictResolution","realTimeUpdates","statusBroadcasting","emergencySignaling","progressTracking","milestoneTracking","performanceMetrics","healthMonitoring","agentHealth","taskHealth","systemHealth","alerting","resourceManagement","pooling","allocation","recycling","batchOptimization","caching","compression"],"mappings":"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"}