{"version":3,"sources":["../../../src/swarm/advanced-orchestrator.ts"],"sourcesContent":["/**\r\n * Advanced Swarm Orchestration Engine\r\n * \r\n * This is the core orchestration engine that manages swarm lifecycle,\r\n * agent coordination, task distribution, and result aggregation.\r\n * It integrates with existing MCP tools and provides production-ready\r\n * swarm collaboration capabilities.\r\n */\r\n\r\nimport { EventEmitter } from 'node:events';\r\nimport { performance } from 'node:perf_hooks';\r\nimport { Logger } from '../core/logger.js';\r\nimport { generateId } from '../utils/helpers.js';\r\nimport { SwarmCoordinator } from '../coordination/swarm-coordinator.js';\r\nimport { AdvancedTaskScheduler } from '../coordination/advanced-scheduler.js';\r\nimport { SwarmMonitor } from '../coordination/swarm-monitor.js';\r\nimport { MemoryManager } from '../memory/manager.js';\r\nimport TaskExecutor from './executor.js';\r\nimport {\r\n  SwarmConfig,\r\n  SwarmObjective,\r\n  SwarmAgent,\r\n  SwarmTask,\r\n  SwarmId,\r\n  AgentId,\r\n  TaskId,\r\n  SwarmStatus,\r\n  SwarmProgress,\r\n  SwarmResults,\r\n  SwarmMetrics,\r\n  TaskDefinition,\r\n  AgentState,\r\n  AgentCapabilities,\r\n  TaskResult,\r\n  SwarmEvent,\r\n  EventType,\r\n  SWARM_CONSTANTS,\r\n} from './types.js';\r\n\r\nexport interface AdvancedSwarmConfig extends SwarmConfig {\r\n  // Advanced features\r\n  autoScaling: boolean;\r\n  loadBalancing: boolean;\r\n  faultTolerance: boolean;\r\n  realTimeMonitoring: boolean;\r\n  \r\n  // Performance settings\r\n  maxThroughput: number;\r\n  latencyTarget: number;\r\n  reliabilityTarget: number;\r\n  \r\n  // Integration settings\r\n  mcpIntegration: boolean;\r\n  hiveIntegration: boolean;\r\n  claudeCodeIntegration: boolean;\r\n  \r\n  // Neural capabilities\r\n  neuralProcessing: boolean;\r\n  learningEnabled: boolean;\r\n  adaptiveScheduling: boolean;\r\n}\r\n\r\nexport interface SwarmExecutionContext {\r\n  swarmId: SwarmId;\r\n  objective: SwarmObjective;\r\n  agents: Map<string, SwarmAgent>;\r\n  tasks: Map<string, SwarmTask>;\r\n  scheduler: AdvancedTaskScheduler;\r\n  monitor: SwarmMonitor;\r\n  memoryManager: MemoryManager;\r\n  taskExecutor: TaskExecutor;\r\n  startTime: Date;\r\n  endTime?: Date;\r\n  metrics: SwarmMetrics;\r\n}\r\n\r\nexport interface SwarmDeploymentOptions {\r\n  environment: 'development' | 'staging' | 'production';\r\n  region?: string;\r\n  resourceLimits?: {\r\n    maxAgents: number;\r\n    maxMemory: number;\r\n    maxCpu: number;\r\n    maxDisk: number;\r\n  };\r\n  networking?: {\r\n    allowedPorts: number[];\r\n    firewallRules: string[];\r\n  };\r\n  security?: {\r\n    encryption: boolean;\r\n    authentication: boolean;\r\n    auditing: boolean;\r\n  };\r\n}\r\n\r\nexport class AdvancedSwarmOrchestrator extends EventEmitter {\r\n  private logger: Logger;\r\n  private config: AdvancedSwarmConfig;\r\n  private activeSwarms: Map<string, SwarmExecutionContext> = new Map();\r\n  private globalMetrics: SwarmMetrics;\r\n  private coordinator: SwarmCoordinator;\r\n  private memoryManager: MemoryManager;\r\n  private isRunning: boolean = false;\r\n  private healthCheckInterval?: NodeJS.Timeout;\r\n  private metricsCollectionInterval?: NodeJS.Timeout;\r\n\r\n  constructor(config: Partial<AdvancedSwarmConfig> = {}) {\r\n    super();\r\n    \r\n    this.logger = new Logger('AdvancedSwarmOrchestrator');\r\n    this.config = this.createDefaultConfig(config);\r\n    \r\n    // Initialize components\r\n    this.coordinator = new SwarmCoordinator({\r\n      maxAgents: this.config.maxAgents,\r\n      maxConcurrentTasks: this.config.maxConcurrentTasks,\r\n      taskTimeout: this.config.taskTimeoutMinutes! * 60 * 1000,\r\n      enableMonitoring: this.config.realTimeMonitoring,\r\n      coordinationStrategy: this.config.coordinationStrategy.name as any,\r\n    });\r\n\r\n    this.memoryManager = new MemoryManager(\r\n      {\r\n        backend: 'sqlite',\r\n        namespace: 'swarm-orchestrator',\r\n        cacheSizeMB: 100,\r\n        syncOnExit: true,\r\n        maxEntries: 50000,\r\n        ttlMinutes: 1440, // 24 hours\r\n      },\r\n      this.coordinator,\r\n      this.logger,\r\n    );\r\n\r\n    this.globalMetrics = this.initializeMetrics();\r\n    this.setupEventHandlers();\r\n  }\r\n\r\n  /**\r\n   * Initialize the orchestrator and all subsystems\r\n   */\r\n  async initialize(): Promise<void> {\r\n    if (this.isRunning) {\r\n      this.logger.warn('Orchestrator already running');\r\n      return;\r\n    }\r\n\r\n    this.logger.info('Initializing advanced swarm orchestrator...');\r\n    \r\n    try {\r\n      // Initialize subsystems\r\n      await this.coordinator.start();\r\n      await this.memoryManager.initialize();\r\n      \r\n      // Start background processes\r\n      this.startHealthChecks();\r\n      this.startMetricsCollection();\r\n      \r\n      this.isRunning = true;\r\n      this.logger.info('Advanced swarm orchestrator initialized successfully');\r\n      this.emit('orchestrator:initialized');\r\n      \r\n    } catch (error) {\r\n      this.logger.error('Failed to initialize orchestrator', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Shutdown the orchestrator gracefully\r\n   */\r\n  async shutdown(): Promise<void> {\r\n    if (!this.isRunning) {\r\n      return;\r\n    }\r\n\r\n    this.logger.info('Shutting down advanced swarm orchestrator...');\r\n    \r\n    try {\r\n      // Stop background processes\r\n      if (this.healthCheckInterval) {\r\n        clearInterval(this.healthCheckInterval);\r\n      }\r\n      if (this.metricsCollectionInterval) {\r\n        clearInterval(this.metricsCollectionInterval);\r\n      }\r\n\r\n      // Shutdown active swarms gracefully\r\n      const shutdownPromises = Array.from(this.activeSwarms.keys()).map(\r\n        swarmId => this.stopSwarm(swarmId, 'Orchestrator shutdown')\r\n      );\r\n      await Promise.allSettled(shutdownPromises);\r\n\r\n      // Shutdown subsystems\r\n      await this.coordinator.stop();\r\n\r\n      this.isRunning = false;\r\n      this.logger.info('Advanced swarm orchestrator shut down successfully');\r\n      this.emit('orchestrator:shutdown');\r\n      \r\n    } catch (error) {\r\n      this.logger.error('Error during orchestrator shutdown', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create and initialize a new swarm for a given objective\r\n   */\r\n  async createSwarm(\r\n    objective: string,\r\n    strategy: SwarmObjective['strategy'] = 'auto',\r\n    options: Partial<SwarmDeploymentOptions> = {}\r\n  ): Promise<string> {\r\n    const swarmId = generateId('swarm');\r\n    const swarmObjective: SwarmObjective = {\r\n      id: swarmId,\r\n      name: `Swarm-${swarmId}`,\r\n      description: objective,\r\n      strategy,\r\n      mode: this.config.mode,\r\n      requirements: {\r\n        minAgents: 1,\r\n        maxAgents: this.config.maxAgents,\r\n        agentTypes: this.getRequiredAgentTypes(strategy),\r\n        estimatedDuration: 3600000, // 1 hour default\r\n        maxDuration: 7200000, // 2 hours max\r\n        qualityThreshold: this.config.qualityThreshold,\r\n        reviewCoverage: 0.8,\r\n        testCoverage: 0.7,\r\n        reliabilityTarget: this.config.reliabilityTarget,\r\n      },\r\n      constraints: {\r\n        maxCost: 1000, // Default budget\r\n        resourceLimits: this.config.resourceLimits,\r\n        minQuality: this.config.qualityThreshold,\r\n        requiredApprovals: [],\r\n        allowedFailures: 2,\r\n        recoveryTime: 300000, // 5 minutes\r\n        milestones: [],\r\n      },\r\n      tasks: [],\r\n      dependencies: [],\r\n      status: 'planning',\r\n      progress: this.initializeProgress(),\r\n      createdAt: new Date(),\r\n      results: undefined,\r\n      metrics: this.initializeMetrics(),\r\n    };\r\n\r\n    // Create execution context\r\n    const context: SwarmExecutionContext = {\r\n      swarmId: { id: swarmId, timestamp: Date.now(), namespace: 'swarm' },\r\n      objective: swarmObjective,\r\n      agents: new Map(),\r\n      tasks: new Map(),\r\n      scheduler: new AdvancedTaskScheduler({\r\n        maxConcurrency: this.config.maxConcurrentTasks,\r\n        enablePrioritization: true,\r\n        enableLoadBalancing: this.config.loadBalancing,\r\n        enableWorkStealing: true,\r\n        schedulingAlgorithm: 'adaptive',\r\n      }),\r\n      monitor: new SwarmMonitor({\r\n        updateInterval: 1000,\r\n        enableAlerts: true,\r\n        enableHistory: true,\r\n        metricsRetention: 86400000, // 24 hours\r\n      }),\r\n      memoryManager: this.memoryManager,\r\n      taskExecutor: new TaskExecutor({\r\n        timeoutMs: this.config.taskTimeoutMinutes! * 60 * 1000,\r\n        retryAttempts: this.config.maxRetries,\r\n        enableMetrics: true,\r\n        captureOutput: true,\r\n        streamOutput: this.config.realTimeMonitoring,\r\n      }),\r\n      startTime: new Date(),\r\n      metrics: this.initializeMetrics(),\r\n    };\r\n\r\n    // Initialize subsystems\r\n    await context.scheduler.initialize();\r\n    await context.monitor.start();\r\n    await context.taskExecutor.initialize();\r\n\r\n    // Store context\r\n    this.activeSwarms.set(swarmId, context);\r\n\r\n    // Store in memory\r\n    await this.memoryManager.store({\r\n      id: `swarm:${swarmId}`,\r\n      agentId: 'orchestrator',\r\n      type: 'swarm-definition',\r\n      content: JSON.stringify(swarmObjective),\r\n      namespace: 'swarm-orchestrator',\r\n      timestamp: new Date(),\r\n      metadata: {\r\n        type: 'swarm-definition',\r\n        strategy,\r\n        status: 'created',\r\n        agentCount: 0,\r\n        taskCount: 0,\r\n      },\r\n    });\r\n\r\n    this.logger.info('Swarm created successfully', {\r\n      swarmId,\r\n      objective,\r\n      strategy,\r\n      maxAgents: swarmObjective.requirements.maxAgents,\r\n    });\r\n\r\n    this.emit('swarm:created', { swarmId, objective: swarmObjective });\r\n    return swarmId;\r\n  }\r\n\r\n  /**\r\n   * Start executing a swarm with automatic task decomposition and agent spawning\r\n   */\r\n  async startSwarm(swarmId: string): Promise<void> {\r\n    const context = this.activeSwarms.get(swarmId);\r\n    if (!context) {\r\n      throw new Error(`Swarm not found: ${swarmId}`);\r\n    }\r\n\r\n    if (context.objective.status !== 'planning') {\r\n      throw new Error(`Swarm ${swarmId} is not in planning state`);\r\n    }\r\n\r\n    this.logger.info('Starting swarm execution', { swarmId });\r\n\r\n    try {\r\n      // Update status\r\n      context.objective.status = 'initializing';\r\n      context.objective.startedAt = new Date();\r\n\r\n      // Decompose objective into tasks\r\n      const tasks = await this.decomposeObjective(context.objective);\r\n      context.objective.tasks = tasks;\r\n\r\n      // Store tasks in context\r\n      tasks.forEach(task => {\r\n        context.tasks.set(task.id.id, task as SwarmTask);\r\n      });\r\n\r\n      // Spawn required agents\r\n      const agents = await this.spawnRequiredAgents(context);\r\n      agents.forEach(agent => {\r\n        context.agents.set(agent.id, agent);\r\n      });\r\n\r\n      // Start task execution\r\n      context.objective.status = 'executing';\r\n      await this.scheduleAndExecuteTasks(context);\r\n\r\n      this.logger.info('Swarm started successfully', {\r\n        swarmId,\r\n        taskCount: tasks.length,\r\n        agentCount: agents.length,\r\n      });\r\n\r\n      this.emit('swarm:started', { swarmId, context });\r\n\r\n    } catch (error) {\r\n      context.objective.status = 'failed';\r\n      this.logger.error('Failed to start swarm', { swarmId, error });\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Stop a running swarm gracefully\r\n   */\r\n  async stopSwarm(swarmId: string, reason: string = 'Manual stop'): Promise<void> {\r\n    const context = this.activeSwarms.get(swarmId);\r\n    if (!context) {\r\n      throw new Error(`Swarm not found: ${swarmId}`);\r\n    }\r\n\r\n    this.logger.info('Stopping swarm', { swarmId, reason });\r\n\r\n    try {\r\n      // Update status\r\n      context.objective.status = 'cancelled';\r\n      context.endTime = new Date();\r\n\r\n      // Stop task executor\r\n      await context.taskExecutor.shutdown();\r\n\r\n      // Stop scheduler\r\n      await context.scheduler.shutdown();\r\n\r\n      // Stop monitor\r\n      context.monitor.stop();\r\n\r\n      // Clean up agents\r\n      for (const agent of context.agents.values()) {\r\n        try {\r\n          await this.terminateAgent(agent.id, reason);\r\n        } catch (error) {\r\n          this.logger.warn('Error terminating agent during swarm stop', {\r\n            agentId: agent.id,\r\n            error,\r\n          });\r\n        }\r\n      }\r\n\r\n      // Store final results\r\n      await this.storeFinalResults(context);\r\n\r\n      this.logger.info('Swarm stopped successfully', { swarmId, reason });\r\n      this.emit('swarm:stopped', { swarmId, reason, context });\r\n\r\n    } catch (error) {\r\n      this.logger.error('Error stopping swarm', { swarmId, error });\r\n      throw error;\r\n    } finally {\r\n      // Remove from active swarms\r\n      this.activeSwarms.delete(swarmId);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get comprehensive status of a swarm\r\n   */\r\n  getSwarmStatus(swarmId: string): SwarmExecutionContext | null {\r\n    return this.activeSwarms.get(swarmId) || null;\r\n  }\r\n\r\n  /**\r\n   * Get status of all active swarms\r\n   */\r\n  getAllSwarmStatuses(): SwarmExecutionContext[] {\r\n    return Array.from(this.activeSwarms.values());\r\n  }\r\n\r\n  /**\r\n   * Get comprehensive orchestrator metrics\r\n   */\r\n  getOrchestratorMetrics(): {\r\n    global: SwarmMetrics;\r\n    swarms: Record<string, SwarmMetrics>;\r\n    system: {\r\n      activeSwarms: number;\r\n      totalAgents: number;\r\n      totalTasks: number;\r\n      uptime: number;\r\n      memoryUsage: number;\r\n      cpuUsage: number;\r\n    };\r\n  } {\r\n    const swarmMetrics: Record<string, SwarmMetrics> = {};\r\n    for (const [swarmId, context] of this.activeSwarms) {\r\n      swarmMetrics[swarmId] = context.metrics;\r\n    }\r\n\r\n    return {\r\n      global: this.globalMetrics,\r\n      swarms: swarmMetrics,\r\n      system: {\r\n        activeSwarms: this.activeSwarms.size,\r\n        totalAgents: Array.from(this.activeSwarms.values())\r\n          .reduce((sum, ctx) => sum + ctx.agents.size, 0),\r\n        totalTasks: Array.from(this.activeSwarms.values())\r\n          .reduce((sum, ctx) => sum + ctx.tasks.size, 0),\r\n        uptime: this.isRunning ? Date.now() - performance.timeOrigin : 0,\r\n        memoryUsage: process.memoryUsage().heapUsed,\r\n        cpuUsage: process.cpuUsage().user,\r\n      },\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Perform comprehensive health check\r\n   */\r\n  async performHealthCheck(): Promise<{\r\n    healthy: boolean;\r\n    issues: string[];\r\n    metrics: any;\r\n    timestamp: Date;\r\n  }> {\r\n    const issues: string[] = [];\r\n    const startTime = performance.now();\r\n\r\n    try {\r\n      // Check orchestrator health\r\n      if (!this.isRunning) {\r\n        issues.push('Orchestrator is not running');\r\n      }\r\n\r\n      // Check coordinator health\r\n      if (!this.coordinator) {\r\n        issues.push('Coordinator is not initialized');\r\n      }\r\n\r\n      // Check memory manager health\r\n      try {\r\n        await this.memoryManager.store({\r\n          id: 'health-check',\r\n          agentId: 'orchestrator',\r\n          type: 'health-check',\r\n          content: 'Health check test',\r\n          namespace: 'health',\r\n          timestamp: new Date(),\r\n          metadata: { test: true },\r\n        });\r\n      } catch (error) {\r\n        issues.push('Memory manager health check failed');\r\n      }\r\n\r\n      // Check swarm health\r\n      for (const [swarmId, context] of this.activeSwarms) {\r\n        if (context.objective.status === 'failed') {\r\n          issues.push(`Swarm ${swarmId} is in failed state`);\r\n        }\r\n\r\n        // Check for stalled swarms\r\n        const swarmAge = Date.now() - context.startTime.getTime();\r\n        if (swarmAge > 3600000 && context.objective.status === 'executing') { // 1 hour\r\n          issues.push(`Swarm ${swarmId} appears to be stalled`);\r\n        }\r\n      }\r\n\r\n      const healthy = issues.length === 0;\r\n      const duration = performance.now() - startTime;\r\n\r\n      return {\r\n        healthy,\r\n        issues,\r\n        metrics: {\r\n          checkDuration: duration,\r\n          activeSwarms: this.activeSwarms.size,\r\n          memoryUsage: process.memoryUsage(),\r\n          cpuUsage: process.cpuUsage(),\r\n        },\r\n        timestamp: new Date(),\r\n      };\r\n\r\n    } catch (error) {\r\n      issues.push(`Health check failed: ${error instanceof Error ? error.message : String(error)}`);\r\n      return {\r\n        healthy: false,\r\n        issues,\r\n        metrics: {},\r\n        timestamp: new Date(),\r\n      };\r\n    }\r\n  }\r\n\r\n  // Private methods\r\n\r\n  private async decomposeObjective(objective: SwarmObjective): Promise<TaskDefinition[]> {\r\n    const tasks: TaskDefinition[] = [];\r\n    const baseTaskId = generateId('task');\r\n\r\n    switch (objective.strategy) {\r\n      case 'research':\r\n        tasks.push(\r\n          this.createTaskDefinition(`${baseTaskId}-1`, 'research', 'Conduct comprehensive research', 'high', []),\r\n          this.createTaskDefinition(`${baseTaskId}-2`, 'analysis', 'Analyze research findings', 'high', [`${baseTaskId}-1`]),\r\n          this.createTaskDefinition(`${baseTaskId}-3`, 'synthesis', 'Synthesize insights and recommendations', 'high', [`${baseTaskId}-2`]),\r\n          this.createTaskDefinition(`${baseTaskId}-4`, 'documentation', 'Create research documentation', 'medium', [`${baseTaskId}-3`]),\r\n        );\r\n        break;\r\n\r\n      case 'development':\r\n        tasks.push(\r\n          this.createTaskDefinition(`${baseTaskId}-1`, 'system-design', 'Design system architecture', 'high', []),\r\n          this.createTaskDefinition(`${baseTaskId}-2`, 'code-generation', 'Generate core implementation', 'high', [`${baseTaskId}-1`]),\r\n          this.createTaskDefinition(`${baseTaskId}-3`, 'unit-testing', 'Create comprehensive tests', 'high', [`${baseTaskId}-2`]),\r\n          this.createTaskDefinition(`${baseTaskId}-4`, 'integration-testing', 'Perform integration testing', 'high', [`${baseTaskId}-3`]),\r\n          this.createTaskDefinition(`${baseTaskId}-5`, 'code-review', 'Conduct code review', 'medium', [`${baseTaskId}-4`]),\r\n          this.createTaskDefinition(`${baseTaskId}-6`, 'documentation', 'Create technical documentation', 'medium', [`${baseTaskId}-5`]),\r\n        );\r\n        break;\r\n\r\n      case 'analysis':\r\n        tasks.push(\r\n          this.createTaskDefinition(`${baseTaskId}-1`, 'data-collection', 'Collect and prepare data', 'high', []),\r\n          this.createTaskDefinition(`${baseTaskId}-2`, 'data-analysis', 'Perform statistical analysis', 'high', [`${baseTaskId}-1`]),\r\n          this.createTaskDefinition(`${baseTaskId}-3`, 'visualization', 'Create data visualizations', 'medium', [`${baseTaskId}-2`]),\r\n          this.createTaskDefinition(`${baseTaskId}-4`, 'reporting', 'Generate analysis report', 'high', [`${baseTaskId}-2`, `${baseTaskId}-3`]),\r\n        );\r\n        break;\r\n\r\n      default: // auto\r\n        // Use AI-driven decomposition based on objective description\r\n        tasks.push(\r\n          this.createTaskDefinition(`${baseTaskId}-1`, 'exploration', 'Explore and understand requirements', 'high', []),\r\n          this.createTaskDefinition(`${baseTaskId}-2`, 'planning', 'Create detailed execution plan', 'high', [`${baseTaskId}-1`]),\r\n          this.createTaskDefinition(`${baseTaskId}-3`, 'execution', 'Execute main tasks', 'high', [`${baseTaskId}-2`]),\r\n          this.createTaskDefinition(`${baseTaskId}-4`, 'validation', 'Validate and test results', 'high', [`${baseTaskId}-3`]),\r\n          this.createTaskDefinition(`${baseTaskId}-5`, 'completion', 'Finalize and document outcomes', 'medium', [`${baseTaskId}-4`]),\r\n        );\r\n    }\r\n\r\n    // Store tasks in memory\r\n    for (const task of tasks) {\r\n      await this.memoryManager.store({\r\n        id: `task:${task.id.id}`,\r\n        agentId: 'orchestrator',\r\n        type: 'task-definition',\r\n        content: JSON.stringify(task),\r\n        namespace: `swarm:${objective.id}`,\r\n        timestamp: new Date(),\r\n        metadata: {\r\n          type: 'task-definition',\r\n          taskType: task.type,\r\n          priority: task.priority,\r\n          status: task.status,\r\n        },\r\n      });\r\n    }\r\n\r\n    return tasks;\r\n  }\r\n\r\n  private createTaskDefinition(\r\n    id: string,\r\n    type: string,\r\n    description: string,\r\n    priority: 'high' | 'medium' | 'low',\r\n    dependencies: string[]\r\n  ): TaskDefinition {\r\n    return {\r\n      id: { id, swarmId: '', sequence: 0, priority: this.getPriorityNumber(priority) },\r\n      type: type as any,\r\n      name: `Task: ${type}`,\r\n      description,\r\n      requirements: {\r\n        capabilities: [type],\r\n        tools: ['bash', 'read', 'write', 'edit'],\r\n        permissions: ['read', 'write', 'execute'],\r\n        estimatedDuration: 1800000, // 30 minutes\r\n        maxDuration: 3600000, // 1 hour\r\n        memoryRequired: 512 * 1024 * 1024, // 512MB\r\n      },\r\n      constraints: {\r\n        dependencies: dependencies.map(depId => ({ id: depId, swarmId: '', sequence: 0, priority: 0 })),\r\n        dependents: [],\r\n        conflicts: [],\r\n        maxRetries: 3,\r\n        timeoutAfter: 3600000, // 1 hour\r\n      },\r\n      priority: priority as any,\r\n      input: {},\r\n      instructions: `Execute ${type} task: ${description}`,\r\n      context: {},\r\n      status: 'created',\r\n      createdAt: new Date(),\r\n      updatedAt: new Date(),\r\n      attempts: [],\r\n      statusHistory: [],\r\n    };\r\n  }\r\n\r\n  private async spawnRequiredAgents(context: SwarmExecutionContext): Promise<SwarmAgent[]> {\r\n    const agents: SwarmAgent[] = [];\r\n    const requiredTypes = context.objective.requirements.agentTypes;\r\n\r\n    for (const agentType of requiredTypes) {\r\n      const agentId = generateId('agent');\r\n      \r\n      const agent: SwarmAgent = {\r\n        id: agentId,\r\n        name: `${agentType}-${agentId}`,\r\n        type: agentType as any,\r\n        status: 'idle',\r\n        capabilities: this.getAgentCapabilities(agentType),\r\n        metrics: {\r\n          tasksCompleted: 0,\r\n          tasksFailed: 0,\r\n          totalDuration: 0,\r\n          lastActivity: new Date(),\r\n        },\r\n      };\r\n\r\n      // Register with coordinator\r\n      await this.coordinator.registerAgent(agent.name, agent.type, agent.capabilities);\r\n\r\n      agents.push(agent);\r\n\r\n      this.logger.info('Agent spawned', {\r\n        swarmId: context.swarmId.id,\r\n        agentId,\r\n        type: agentType,\r\n        capabilities: agent.capabilities,\r\n      });\r\n    }\r\n\r\n    return agents;\r\n  }\r\n\r\n  private async scheduleAndExecuteTasks(context: SwarmExecutionContext): Promise<void> {\r\n    // Schedule all tasks\r\n    for (const task of context.tasks.values()) {\r\n      await context.scheduler.scheduleTask(task as any);\r\n    }\r\n\r\n    // Start execution monitoring\r\n    this.monitorSwarmExecution(context);\r\n  }\r\n\r\n  private monitorSwarmExecution(context: SwarmExecutionContext): void {\r\n    const monitorInterval = setInterval(async () => {\r\n      try {\r\n        // Update progress\r\n        this.updateSwarmProgress(context);\r\n\r\n        // Check for completion\r\n        if (this.isSwarmComplete(context)) {\r\n          clearInterval(monitorInterval);\r\n          await this.completeSwarm(context);\r\n        }\r\n\r\n        // Check for failure conditions\r\n        if (this.shouldFailSwarm(context)) {\r\n          clearInterval(monitorInterval);\r\n          await this.failSwarm(context, 'Too many failures or timeout');\r\n        }\r\n\r\n      } catch (error) {\r\n        this.logger.error('Error monitoring swarm execution', {\r\n          swarmId: context.swarmId.id,\r\n          error,\r\n        });\r\n      }\r\n    }, 5000); // Check every 5 seconds\r\n  }\r\n\r\n  private updateSwarmProgress(context: SwarmExecutionContext): void {\r\n    const tasks = Array.from(context.tasks.values());\r\n    const totalTasks = tasks.length;\r\n    const completedTasks = tasks.filter(t => t.status === 'completed').length;\r\n    const failedTasks = tasks.filter(t => t.status === 'failed').length;\r\n    const runningTasks = tasks.filter(t => t.status === 'running').length;\r\n\r\n    context.objective.progress = {\r\n      totalTasks,\r\n      completedTasks,\r\n      failedTasks,\r\n      runningTasks,\r\n      percentComplete: totalTasks > 0 ? (completedTasks / totalTasks) * 100 : 0,\r\n      estimatedCompletion: this.estimateCompletion(context),\r\n      timeRemaining: this.calculateTimeRemaining(context),\r\n      averageQuality: this.calculateAverageQuality(context),\r\n      passedReviews: 0,\r\n      passedTests: 0,\r\n      resourceUtilization: {},\r\n      costSpent: 0,\r\n      activeAgents: Array.from(context.agents.values()).filter(a => a.status === 'busy').length,\r\n      idleAgents: Array.from(context.agents.values()).filter(a => a.status === 'idle').length,\r\n      busyAgents: Array.from(context.agents.values()).filter(a => a.status === 'busy').length,\r\n    };\r\n  }\r\n\r\n  private isSwarmComplete(context: SwarmExecutionContext): boolean {\r\n    const tasks = Array.from(context.tasks.values());\r\n    return tasks.every(task => task.status === 'completed' || task.status === 'failed');\r\n  }\r\n\r\n  private shouldFailSwarm(context: SwarmExecutionContext): boolean {\r\n    const tasks = Array.from(context.tasks.values());\r\n    const failedTasks = tasks.filter(t => t.status === 'failed').length;\r\n    const totalTasks = tasks.length;\r\n\r\n    // Fail if too many tasks failed\r\n    if (failedTasks > context.objective.constraints.allowedFailures) {\r\n      return true;\r\n    }\r\n\r\n    // Fail if deadline exceeded\r\n    if (context.objective.constraints.deadline && new Date() > context.objective.constraints.deadline) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private async completeSwarm(context: SwarmExecutionContext): Promise<void> {\r\n    context.objective.status = 'completed';\r\n    context.objective.completedAt = new Date();\r\n    context.endTime = new Date();\r\n\r\n    // Collect results\r\n    const results = await this.collectSwarmResults(context);\r\n    context.objective.results = results;\r\n\r\n    this.logger.info('Swarm completed successfully', {\r\n      swarmId: context.swarmId.id,\r\n      duration: context.endTime.getTime() - context.startTime.getTime(),\r\n      totalTasks: context.tasks.size,\r\n      completedTasks: results.objectivesMet.length,\r\n    });\r\n\r\n    this.emit('swarm:completed', { swarmId: context.swarmId.id, context, results });\r\n  }\r\n\r\n  private async failSwarm(context: SwarmExecutionContext, reason: string): Promise<void> {\r\n    context.objective.status = 'failed';\r\n    context.endTime = new Date();\r\n\r\n    this.logger.error('Swarm failed', {\r\n      swarmId: context.swarmId.id,\r\n      reason,\r\n      duration: context.endTime.getTime() - context.startTime.getTime(),\r\n    });\r\n\r\n    this.emit('swarm:failed', { swarmId: context.swarmId.id, context, reason });\r\n  }\r\n\r\n  private async collectSwarmResults(context: SwarmExecutionContext): Promise<SwarmResults> {\r\n    const tasks = Array.from(context.tasks.values());\r\n    const completedTasks = tasks.filter(t => t.status === 'completed');\r\n    const failedTasks = tasks.filter(t => t.status === 'failed');\r\n\r\n    return {\r\n      outputs: {},\r\n      artifacts: {},\r\n      reports: {},\r\n      overallQuality: this.calculateAverageQuality(context),\r\n      qualityByTask: {},\r\n      totalExecutionTime: context.endTime!.getTime() - context.startTime.getTime(),\r\n      resourcesUsed: {},\r\n      efficiency: completedTasks.length / tasks.length,\r\n      objectivesMet: completedTasks.map(t => t.id),\r\n      objectivesFailed: failedTasks.map(t => t.id),\r\n      improvements: [],\r\n      nextActions: [],\r\n    };\r\n  }\r\n\r\n  private async storeFinalResults(context: SwarmExecutionContext): Promise<void> {\r\n    await this.memoryManager.store({\r\n      id: `results:${context.swarmId.id}`,\r\n      agentId: 'orchestrator',\r\n      type: 'swarm-results',\r\n      content: JSON.stringify(context.objective.results),\r\n      namespace: `swarm:${context.swarmId.id}`,\r\n      timestamp: new Date(),\r\n      metadata: {\r\n        type: 'swarm-results',\r\n        status: context.objective.status,\r\n        duration: context.endTime ? context.endTime.getTime() - context.startTime.getTime() : 0,\r\n        taskCount: context.tasks.size,\r\n        agentCount: context.agents.size,\r\n      },\r\n    });\r\n  }\r\n\r\n  private async terminateAgent(agentId: string, reason: string): Promise<void> {\r\n    // Implementation would terminate actual agent processes\r\n    this.logger.info('Agent terminated', { agentId, reason });\r\n  }\r\n\r\n  private getRequiredAgentTypes(strategy: SwarmObjective['strategy']): any[] {\r\n    switch (strategy) {\r\n      case 'research':\r\n        return ['researcher', 'analyst', 'documenter'];\r\n      case 'development':\r\n        return ['architect', 'coder', 'tester', 'reviewer'];\r\n      case 'analysis':\r\n        return ['analyst', 'researcher', 'documenter'];\r\n      default:\r\n        return ['coordinator', 'researcher', 'coder', 'analyst'];\r\n    }\r\n  }\r\n\r\n  private getAgentCapabilities(agentType: string): string[] {\r\n    const capabilityMap: Record<string, string[]> = {\r\n      coordinator: ['coordination', 'planning', 'monitoring'],\r\n      researcher: ['research', 'data-gathering', 'web-search'],\r\n      coder: ['code-generation', 'debugging', 'testing'],\r\n      analyst: ['data-analysis', 'visualization', 'reporting'],\r\n      architect: ['system-design', 'architecture-review', 'documentation'],\r\n      tester: ['testing', 'quality-assurance', 'automation'],\r\n      reviewer: ['code-review', 'quality-review', 'validation'],\r\n      optimizer: ['performance-optimization', 'resource-optimization'],\r\n      documenter: ['documentation', 'reporting', 'knowledge-management'],\r\n      monitor: ['monitoring', 'alerting', 'diagnostics'],\r\n      specialist: ['domain-expertise', 'specialized-tasks'],\r\n    };\r\n\r\n    return capabilityMap[agentType] || ['general'];\r\n  }\r\n\r\n  private estimateCompletion(context: SwarmExecutionContext): Date {\r\n    // Simple estimation based on current progress\r\n    const progress = context.objective.progress.percentComplete;\r\n    const elapsed = Date.now() - context.startTime.getTime();\r\n    const totalEstimated = progress > 0 ? (elapsed / progress) * 100 : elapsed * 2;\r\n    return new Date(context.startTime.getTime() + totalEstimated);\r\n  }\r\n\r\n  private calculateTimeRemaining(context: SwarmExecutionContext): number {\r\n    return Math.max(0, this.estimateCompletion(context).getTime() - Date.now());\r\n  }\r\n\r\n  private calculateAverageQuality(context: SwarmExecutionContext): number {\r\n    // Placeholder implementation\r\n    return 0.85;\r\n  }\r\n\r\n  private getPriorityNumber(priority: string): number {\r\n    switch (priority) {\r\n      case 'high': return 1;\r\n      case 'medium': return 2;\r\n      case 'low': return 3;\r\n      default: return 2;\r\n    }\r\n  }\r\n\r\n  private startHealthChecks(): void {\r\n    this.healthCheckInterval = setInterval(async () => {\r\n      try {\r\n        const health = await this.performHealthCheck();\r\n        if (!health.healthy) {\r\n          this.logger.warn('Health check failed', { issues: health.issues });\r\n          this.emit('health:warning', health);\r\n        }\r\n      } catch (error) {\r\n        this.logger.error('Health check error', error);\r\n      }\r\n    }, 60000); // Every minute\r\n  }\r\n\r\n  private startMetricsCollection(): void {\r\n    this.metricsCollectionInterval = setInterval(() => {\r\n      try {\r\n        this.updateGlobalMetrics();\r\n      } catch (error) {\r\n        this.logger.error('Metrics collection error', error);\r\n      }\r\n    }, 10000); // Every 10 seconds\r\n  }\r\n\r\n  private updateGlobalMetrics(): void {\r\n    const swarms = Array.from(this.activeSwarms.values());\r\n    \r\n    this.globalMetrics = {\r\n      throughput: this.calculateGlobalThroughput(swarms),\r\n      latency: this.calculateGlobalLatency(swarms),\r\n      efficiency: this.calculateGlobalEfficiency(swarms),\r\n      reliability: this.calculateGlobalReliability(swarms),\r\n      averageQuality: this.calculateGlobalQuality(swarms),\r\n      defectRate: this.calculateGlobalDefectRate(swarms),\r\n      reworkRate: this.calculateGlobalReworkRate(swarms),\r\n      resourceUtilization: this.calculateGlobalResourceUtilization(swarms),\r\n      costEfficiency: this.calculateGlobalCostEfficiency(swarms),\r\n      agentUtilization: this.calculateGlobalAgentUtilization(swarms),\r\n      agentSatisfaction: 0.8, // Placeholder\r\n      collaborationEffectiveness: 0.85, // Placeholder\r\n      scheduleVariance: this.calculateGlobalScheduleVariance(swarms),\r\n      deadlineAdherence: this.calculateGlobalDeadlineAdherence(swarms),\r\n    };\r\n  }\r\n\r\n  private calculateGlobalThroughput(swarms: SwarmExecutionContext[]): number {\r\n    return swarms.reduce((sum, ctx) => sum + ctx.objective.progress.completedTasks, 0);\r\n  }\r\n\r\n  private calculateGlobalLatency(swarms: SwarmExecutionContext[]): number {\r\n    // Average task completion time\r\n    return 1200000; // 20 minutes placeholder\r\n  }\r\n\r\n  private calculateGlobalEfficiency(swarms: SwarmExecutionContext[]): number {\r\n    const totalTasks = swarms.reduce((sum, ctx) => sum + ctx.objective.progress.totalTasks, 0);\r\n    const completedTasks = swarms.reduce((sum, ctx) => sum + ctx.objective.progress.completedTasks, 0);\r\n    return totalTasks > 0 ? completedTasks / totalTasks : 0;\r\n  }\r\n\r\n  private calculateGlobalReliability(swarms: SwarmExecutionContext[]): number {\r\n    const totalSwarms = swarms.length;\r\n    const successfulSwarms = swarms.filter(ctx => ctx.objective.status === 'completed').length;\r\n    return totalSwarms > 0 ? successfulSwarms / totalSwarms : 1;\r\n  }\r\n\r\n  private calculateGlobalQuality(swarms: SwarmExecutionContext[]): number {\r\n    return swarms.reduce((sum, ctx) => sum + ctx.objective.progress.averageQuality, 0) / Math.max(swarms.length, 1);\r\n  }\r\n\r\n  private calculateGlobalDefectRate(swarms: SwarmExecutionContext[]): number {\r\n    return 0.05; // Placeholder\r\n  }\r\n\r\n  private calculateGlobalReworkRate(swarms: SwarmExecutionContext[]): number {\r\n    return 0.1; // Placeholder\r\n  }\r\n\r\n  private calculateGlobalResourceUtilization(swarms: SwarmExecutionContext[]): Record<string, number> {\r\n    return {\r\n      cpu: 0.6,\r\n      memory: 0.7,\r\n      disk: 0.3,\r\n      network: 0.2,\r\n    };\r\n  }\r\n\r\n  private calculateGlobalCostEfficiency(swarms: SwarmExecutionContext[]): number {\r\n    return 0.8; // Placeholder\r\n  }\r\n\r\n  private calculateGlobalAgentUtilization(swarms: SwarmExecutionContext[]): number {\r\n    const totalAgents = swarms.reduce((sum, ctx) => sum + ctx.agents.size, 0);\r\n    const busyAgents = swarms.reduce((sum, ctx) => sum + ctx.objective.progress.busyAgents, 0);\r\n    return totalAgents > 0 ? busyAgents / totalAgents : 0;\r\n  }\r\n\r\n  private calculateGlobalScheduleVariance(swarms: SwarmExecutionContext[]): number {\r\n    return 0.1; // Placeholder\r\n  }\r\n\r\n  private calculateGlobalDeadlineAdherence(swarms: SwarmExecutionContext[]): number {\r\n    return 0.9; // Placeholder\r\n  }\r\n\r\n  private initializeProgress(): SwarmProgress {\r\n    return {\r\n      totalTasks: 0,\r\n      completedTasks: 0,\r\n      failedTasks: 0,\r\n      runningTasks: 0,\r\n      estimatedCompletion: new Date(),\r\n      timeRemaining: 0,\r\n      percentComplete: 0,\r\n      averageQuality: 0,\r\n      passedReviews: 0,\r\n      passedTests: 0,\r\n      resourceUtilization: {},\r\n      costSpent: 0,\r\n      activeAgents: 0,\r\n      idleAgents: 0,\r\n      busyAgents: 0,\r\n    };\r\n  }\r\n\r\n  private initializeMetrics(): SwarmMetrics {\r\n    return {\r\n      throughput: 0,\r\n      latency: 0,\r\n      efficiency: 0,\r\n      reliability: 1,\r\n      averageQuality: 0,\r\n      defectRate: 0,\r\n      reworkRate: 0,\r\n      resourceUtilization: {},\r\n      costEfficiency: 1,\r\n      agentUtilization: 0,\r\n      agentSatisfaction: 0,\r\n      collaborationEffectiveness: 0,\r\n      scheduleVariance: 0,\r\n      deadlineAdherence: 1,\r\n    };\r\n  }\r\n\r\n  private createDefaultConfig(config: Partial<AdvancedSwarmConfig>): AdvancedSwarmConfig {\r\n    return {\r\n      name: 'Advanced Swarm',\r\n      description: 'Advanced swarm orchestration system',\r\n      version: '1.0.0',\r\n      mode: 'hybrid',\r\n      strategy: 'auto',\r\n      coordinationStrategy: {\r\n        name: 'adaptive',\r\n        description: 'Adaptive coordination strategy',\r\n        agentSelection: 'capability-based',\r\n        taskScheduling: 'priority',\r\n        loadBalancing: 'work-stealing',\r\n        faultTolerance: 'retry',\r\n        communication: 'event-driven',\r\n      },\r\n      maxAgents: 10,\r\n      maxTasks: 100,\r\n      maxDuration: 7200000, // 2 hours\r\n      taskTimeoutMinutes: 30,\r\n      resourceLimits: {\r\n        memory: 2048,\r\n        cpu: 4,\r\n        disk: 10240,\r\n        network: 1000,\r\n      },\r\n      qualityThreshold: 0.8,\r\n      reviewRequired: true,\r\n      testingRequired: true,\r\n      monitoring: {\r\n        metricsEnabled: true,\r\n        loggingEnabled: true,\r\n        tracingEnabled: true,\r\n        metricsInterval: 10000,\r\n        heartbeatInterval: 5000,\r\n        healthCheckInterval: 60000,\r\n        retentionPeriod: 86400000,\r\n        maxLogSize: 100 * 1024 * 1024,\r\n        maxMetricPoints: 10000,\r\n        alertingEnabled: true,\r\n        alertThresholds: {},\r\n        exportEnabled: false,\r\n        exportFormat: 'json',\r\n        exportDestination: '',\r\n      },\r\n      memory: {\r\n        namespace: 'swarm',\r\n        partitions: [],\r\n        permissions: {\r\n          read: 'swarm',\r\n          write: 'swarm',\r\n          delete: 'system',\r\n          share: 'team',\r\n        },\r\n        persistent: true,\r\n        backupEnabled: true,\r\n        distributed: false,\r\n        consistency: 'strong',\r\n        cacheEnabled: true,\r\n        compressionEnabled: false,\r\n      },\r\n      security: {\r\n        authenticationRequired: false,\r\n        authorizationRequired: false,\r\n        encryptionEnabled: false,\r\n        defaultPermissions: ['read', 'write'],\r\n        adminRoles: ['admin'],\r\n        auditEnabled: true,\r\n        auditLevel: 'info',\r\n        inputValidation: true,\r\n        outputSanitization: true,\r\n      },\r\n      performance: {\r\n        maxConcurrency: 10,\r\n        defaultTimeout: 300000,\r\n        cacheEnabled: true,\r\n        cacheSize: 1000,\r\n        cacheTtl: 3600,\r\n        optimizationEnabled: true,\r\n        adaptiveScheduling: true,\r\n        predictiveLoading: false,\r\n        resourcePooling: true,\r\n        connectionPooling: true,\r\n        memoryPooling: false,\r\n      },\r\n      maxRetries: 3,\r\n      autoScaling: true,\r\n      loadBalancing: true,\r\n      faultTolerance: true,\r\n      realTimeMonitoring: true,\r\n      maxThroughput: 100,\r\n      latencyTarget: 1000,\r\n      reliabilityTarget: 0.95,\r\n      mcpIntegration: true,\r\n      hiveIntegration: false,\r\n      claudeCodeIntegration: true,\r\n      neuralProcessing: false,\r\n      learningEnabled: false,\r\n      adaptiveScheduling: true,\r\n      ...config,\r\n    };\r\n  }\r\n\r\n  private setupEventHandlers(): void {\r\n    // Swarm lifecycle events\r\n    this.on('swarm:created', (data) => {\r\n      this.logger.info('Swarm lifecycle event: created', data);\r\n    });\r\n\r\n    this.on('swarm:started', (data) => {\r\n      this.logger.info('Swarm lifecycle event: started', data);\r\n    });\r\n\r\n    this.on('swarm:completed', (data) => {\r\n      this.logger.info('Swarm lifecycle event: completed', data);\r\n    });\r\n\r\n    this.on('swarm:failed', (data) => {\r\n      this.logger.error('Swarm lifecycle event: failed', data);\r\n    });\r\n\r\n    // Health monitoring events\r\n    this.on('health:warning', (data) => {\r\n      this.logger.warn('Health warning detected', data);\r\n    });\r\n\r\n    // Coordinator events\r\n    this.coordinator.on('objective:completed', (objective) => {\r\n      this.logger.info('Coordinator objective completed', { objectiveId: objective.id });\r\n    });\r\n\r\n    this.coordinator.on('task:completed', (data) => {\r\n      this.logger.info('Coordinator task completed', data);\r\n    });\r\n\r\n    this.coordinator.on('agent:registered', (agent) => {\r\n      this.logger.info('Coordinator agent registered', { agentId: agent.id });\r\n    });\r\n  }\r\n}\r\n\r\nexport default AdvancedSwarmOrchestrator;"],"names":["EventEmitter","performance","Logger","generateId","SwarmCoordinator","AdvancedTaskScheduler","SwarmMonitor","MemoryManager","TaskExecutor","AdvancedSwarmOrchestrator","logger","config","activeSwarms","Map","globalMetrics","coordinator","memoryManager","isRunning","healthCheckInterval","metricsCollectionInterval","createDefaultConfig","maxAgents","maxConcurrentTasks","taskTimeout","taskTimeoutMinutes","enableMonitoring","realTimeMonitoring","coordinationStrategy","name","backend","namespace","cacheSizeMB","syncOnExit","maxEntries","ttlMinutes","initializeMetrics","setupEventHandlers","initialize","warn","info","start","startHealthChecks","startMetricsCollection","emit","error","shutdown","clearInterval","shutdownPromises","Array","from","keys","map","swarmId","stopSwarm","Promise","allSettled","stop","createSwarm","objective","strategy","options","swarmObjective","id","description","mode","requirements","minAgents","agentTypes","getRequiredAgentTypes","estimatedDuration","maxDuration","qualityThreshold","reviewCoverage","testCoverage","reliabilityTarget","constraints","maxCost","resourceLimits","minQuality","requiredApprovals","allowedFailures","recoveryTime","milestones","tasks","dependencies","status","progress","initializeProgress","createdAt","Date","results","undefined","metrics","context","timestamp","now","agents","scheduler","maxConcurrency","enablePrioritization","enableLoadBalancing","loadBalancing","enableWorkStealing","schedulingAlgorithm","monitor","updateInterval","enableAlerts","enableHistory","metricsRetention","taskExecutor","timeoutMs","retryAttempts","maxRetries","enableMetrics","captureOutput","streamOutput","startTime","set","store","agentId","type","content","JSON","stringify","metadata","agentCount","taskCount","startSwarm","get","Error","startedAt","decomposeObjective","forEach","task","spawnRequiredAgents","agent","scheduleAndExecuteTasks","length","reason","endTime","values","terminateAgent","storeFinalResults","delete","getSwarmStatus","getAllSwarmStatuses","getOrchestratorMetrics","swarmMetrics","global","swarms","system","size","totalAgents","reduce","sum","ctx","totalTasks","uptime","timeOrigin","memoryUsage","process","heapUsed","cpuUsage","user","performHealthCheck","issues","push","test","swarmAge","getTime","healthy","duration","checkDuration","message","String","baseTaskId","createTaskDefinition","taskType","priority","sequence","getPriorityNumber","capabilities","tools","permissions","memoryRequired","depId","dependents","conflicts","timeoutAfter","input","instructions","updatedAt","attempts","statusHistory","requiredTypes","agentType","getAgentCapabilities","tasksCompleted","tasksFailed","totalDuration","lastActivity","registerAgent","scheduleTask","monitorSwarmExecution","monitorInterval","setInterval","updateSwarmProgress","isSwarmComplete","completeSwarm","shouldFailSwarm","failSwarm","completedTasks","filter","t","failedTasks","runningTasks","percentComplete","estimatedCompletion","estimateCompletion","timeRemaining","calculateTimeRemaining","averageQuality","calculateAverageQuality","passedReviews","passedTests","resourceUtilization","costSpent","activeAgents","a","idleAgents","busyAgents","every","deadline","completedAt","collectSwarmResults","objectivesMet","outputs","artifacts","reports","overallQuality","qualityByTask","totalExecutionTime","resourcesUsed","efficiency","objectivesFailed","improvements","nextActions","capabilityMap","researcher","coder","analyst","architect","tester","reviewer","optimizer","documenter","specialist","elapsed","totalEstimated","Math","max","health","updateGlobalMetrics","throughput","calculateGlobalThroughput","latency","calculateGlobalLatency","calculateGlobalEfficiency","reliability","calculateGlobalReliability","calculateGlobalQuality","defectRate","calculateGlobalDefectRate","reworkRate","calculateGlobalReworkRate","calculateGlobalResourceUtilization","costEfficiency","calculateGlobalCostEfficiency","agentUtilization","calculateGlobalAgentUtilization","agentSatisfaction","collaborationEffectiveness","scheduleVariance","calculateGlobalScheduleVariance","deadlineAdherence","calculateGlobalDeadlineAdherence","totalSwarms","successfulSwarms","cpu","memory","disk","network","version","agentSelection","taskScheduling","faultTolerance","communication","maxTasks","reviewRequired","testingRequired","monitoring","metricsEnabled","loggingEnabled","tracingEnabled","metricsInterval","heartbeatInterval","retentionPeriod","maxLogSize","maxMetricPoints","alertingEnabled","alertThresholds","exportEnabled","exportFormat","exportDestination","partitions","read","write","share","persistent","backupEnabled","distributed","consistency","cacheEnabled","compressionEnabled","security","authenticationRequired","authorizationRequired","encryptionEnabled","defaultPermissions","adminRoles","auditEnabled","auditLevel","inputValidation","outputSanitization","defaultTimeout","cacheSize","cacheTtl","optimizationEnabled","adaptiveScheduling","predictiveLoading","resourcePooling","connectionPooling","memoryPooling","autoScaling","maxThroughput","latencyTarget","mcpIntegration","hiveIntegration","claudeCodeIntegration","neuralProcessing","learningEnabled","on","data","objectiveId"],"mappings":"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"}