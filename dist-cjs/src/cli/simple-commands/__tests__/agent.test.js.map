{"version":3,"sources":["../../../../../src/cli/simple-commands/__tests__/agent.test.js"],"sourcesContent":["/**\r\n * Tests for agent command\r\n */\r\n\r\nimport { jest } from '@jest/globals';\r\nimport { agentCommand } from '../agent.js';\r\nimport fs from 'fs-extra';\r\nimport path from 'path';\r\nimport chalk from 'chalk';\r\nimport ora from 'ora';\r\n\r\njest.mock('fs-extra');\r\njest.mock('ora');\r\njest.mock('chalk', () => ({\r\n  default: {\r\n    blue: jest.fn((str) => str),\r\n    green: jest.fn((str) => str),\r\n    yellow: jest.fn((str) => str),\r\n    red: jest.fn((str) => str),\r\n    cyan: jest.fn((str) => str),\r\n    dim: jest.fn((str) => str),\r\n    bold: jest.fn((str) => str),\r\n  },\r\n}));\r\n\r\ndescribe('Agent Command', () => {\r\n  let consoleLogSpy;\r\n  let consoleErrorSpy;\r\n  let mockSpinner;\r\n\r\n  beforeEach(() => {\r\n    consoleLogSpy = jest.spyOn(console, 'log').mockImplementation();\r\n    consoleErrorSpy = jest.spyOn(console, 'error').mockImplementation();\r\n\r\n    mockSpinner = {\r\n      start: jest.fn().mockReturnThis(),\r\n      succeed: jest.fn().mockReturnThis(),\r\n      fail: jest.fn().mockReturnThis(),\r\n      info: jest.fn().mockReturnThis(),\r\n      text: '',\r\n    };\r\n    ora.mockReturnValue(mockSpinner);\r\n\r\n    jest.clearAllMocks();\r\n  });\r\n\r\n  afterEach(() => {\r\n    consoleLogSpy.mockRestore();\r\n    consoleErrorSpy.mockRestore();\r\n  });\r\n\r\n  describe('list subcommand', () => {\r\n    test('should list available agent types', async () => {\r\n      await agentCommand(['list'], {});\r\n\r\n      expect(consoleLogSpy).toHaveBeenCalled();\r\n      const output = consoleLogSpy.mock.calls.flat().join('\\n');\r\n\r\n      expect(output).toContain('Available Agent Types');\r\n      expect(output).toContain('researcher');\r\n      expect(output).toContain('coder');\r\n      expect(output).toContain('analyst');\r\n      expect(output).toContain('architect');\r\n      expect(output).toContain('tester');\r\n      expect(output).toContain('coordinator');\r\n    });\r\n  });\r\n\r\n  describe('spawn subcommand', () => {\r\n    test('should spawn an agent with type', async () => {\r\n      const swarmDir = path.join(process.cwd(), '.claude', 'swarm');\r\n      fs.pathExists.mockResolvedValue(true);\r\n      fs.readJson.mockResolvedValue({\r\n        id: 'swarm-123',\r\n        agents: [],\r\n        status: 'active',\r\n      });\r\n      fs.writeJson.mockResolvedValue(undefined);\r\n\r\n      await agentCommand(['spawn', 'researcher'], {});\r\n\r\n      expect(mockSpinner.start).toHaveBeenCalledWith('Spawning researcher agent...');\r\n      expect(mockSpinner.succeed).toHaveBeenCalled();\r\n      expect(fs.writeJson).toHaveBeenCalled();\r\n\r\n      const writeCall = fs.writeJson.mock.calls[0];\r\n      expect(writeCall[1].agents).toHaveLength(1);\r\n      expect(writeCall[1].agents[0].type).toBe('researcher');\r\n    });\r\n\r\n    test('should spawn agent with custom name', async () => {\r\n      fs.pathExists.mockResolvedValue(true);\r\n      fs.readJson.mockResolvedValue({\r\n        id: 'swarm-123',\r\n        agents: [],\r\n        status: 'active',\r\n      });\r\n      fs.writeJson.mockResolvedValue(undefined);\r\n\r\n      await agentCommand(['spawn', 'coder'], { name: 'CustomCoder' });\r\n\r\n      const writeCall = fs.writeJson.mock.calls[0];\r\n      expect(writeCall[1].agents[0].name).toBe('CustomCoder');\r\n    });\r\n\r\n    test('should error if swarm not initialized', async () => {\r\n      fs.pathExists.mockResolvedValue(false);\r\n\r\n      await agentCommand(['spawn', 'researcher'], {});\r\n\r\n      expect(mockSpinner.fail).toHaveBeenCalledWith(\r\n        expect.stringContaining('No active swarm found'),\r\n      );\r\n    });\r\n\r\n    test('should error for invalid agent type', async () => {\r\n      fs.pathExists.mockResolvedValue(true);\r\n      fs.readJson.mockResolvedValue({ agents: [] });\r\n\r\n      await agentCommand(['spawn', 'invalid-type'], {});\r\n\r\n      expect(consoleErrorSpy).toHaveBeenCalledWith(expect.stringContaining('Invalid agent type'));\r\n    });\r\n  });\r\n\r\n  describe('status subcommand', () => {\r\n    test('should show agent status', async () => {\r\n      const mockSwarmData = {\r\n        id: 'swarm-123',\r\n        agents: [\r\n          {\r\n            id: 'agent-1',\r\n            name: 'Researcher',\r\n            type: 'researcher',\r\n            status: 'active',\r\n            created: new Date().toISOString(),\r\n            tasksCompleted: 5,\r\n            currentTask: 'Analyzing data',\r\n          },\r\n          {\r\n            id: 'agent-2',\r\n            name: 'Coder',\r\n            type: 'coder',\r\n            status: 'idle',\r\n            created: new Date().toISOString(),\r\n            tasksCompleted: 3,\r\n            currentTask: null,\r\n          },\r\n        ],\r\n      };\r\n\r\n      fs.pathExists.mockResolvedValue(true);\r\n      fs.readJson.mockResolvedValue(mockSwarmData);\r\n\r\n      await agentCommand(['status'], {});\r\n\r\n      const output = consoleLogSpy.mock.calls.flat().join('\\n');\r\n      expect(output).toContain('Active Agents');\r\n      expect(output).toContain('Researcher');\r\n      expect(output).toContain('active');\r\n      expect(output).toContain('Analyzing data');\r\n      expect(output).toContain('Coder');\r\n      expect(output).toContain('idle');\r\n    });\r\n\r\n    test('should show specific agent status', async () => {\r\n      const mockSwarmData = {\r\n        agents: [\r\n          {\r\n            id: 'agent-1',\r\n            name: 'Researcher',\r\n            type: 'researcher',\r\n            status: 'active',\r\n            metrics: {\r\n              tasksCompleted: 10,\r\n              avgCompletionTime: 5000,\r\n              successRate: 0.95,\r\n            },\r\n          },\r\n        ],\r\n      };\r\n\r\n      fs.pathExists.mockResolvedValue(true);\r\n      fs.readJson.mockResolvedValue(mockSwarmData);\r\n\r\n      await agentCommand(['status', 'agent-1'], {});\r\n\r\n      const output = consoleLogSpy.mock.calls.flat().join('\\n');\r\n      expect(output).toContain('Agent Details');\r\n      expect(output).toContain('Researcher');\r\n      expect(output).toContain('Tasks Completed: 10');\r\n      expect(output).toContain('Success Rate: 95%');\r\n    });\r\n  });\r\n\r\n  describe('remove subcommand', () => {\r\n    test('should remove an agent', async () => {\r\n      const mockSwarmData = {\r\n        agents: [\r\n          { id: 'agent-1', name: 'Researcher' },\r\n          { id: 'agent-2', name: 'Coder' },\r\n        ],\r\n      };\r\n\r\n      fs.pathExists.mockResolvedValue(true);\r\n      fs.readJson.mockResolvedValue(mockSwarmData);\r\n      fs.writeJson.mockResolvedValue(undefined);\r\n\r\n      await agentCommand(['remove', 'agent-1'], {});\r\n\r\n      expect(mockSpinner.succeed).toHaveBeenCalledWith(\r\n        expect.stringContaining('Agent agent-1 removed'),\r\n      );\r\n\r\n      const writeCall = fs.writeJson.mock.calls[0];\r\n      expect(writeCall[1].agents).toHaveLength(1);\r\n      expect(writeCall[1].agents[0].id).toBe('agent-2');\r\n    });\r\n\r\n    test('should error if agent not found', async () => {\r\n      fs.pathExists.mockResolvedValue(true);\r\n      fs.readJson.mockResolvedValue({ agents: [] });\r\n\r\n      await agentCommand(['remove', 'nonexistent'], {});\r\n\r\n      expect(mockSpinner.fail).toHaveBeenCalledWith(\r\n        expect.stringContaining('Agent nonexistent not found'),\r\n      );\r\n    });\r\n  });\r\n\r\n  describe('assign subcommand', () => {\r\n    test('should assign task to agent', async () => {\r\n      const mockSwarmData = {\r\n        agents: [{ id: 'agent-1', name: 'Researcher', currentTask: null }],\r\n      };\r\n\r\n      fs.pathExists.mockResolvedValue(true);\r\n      fs.readJson.mockResolvedValue(mockSwarmData);\r\n      fs.writeJson.mockResolvedValue(undefined);\r\n\r\n      await agentCommand(['assign', 'agent-1', 'Research new algorithms'], {});\r\n\r\n      expect(mockSpinner.succeed).toHaveBeenCalledWith(\r\n        expect.stringContaining('Task assigned to agent-1'),\r\n      );\r\n\r\n      const writeCall = fs.writeJson.mock.calls[0];\r\n      expect(writeCall[1].agents[0].currentTask).toBe('Research new algorithms');\r\n      expect(writeCall[1].agents[0].status).toBe('working');\r\n    });\r\n  });\r\n\r\n  describe('help subcommand', () => {\r\n    test('should show help when no arguments', async () => {\r\n      await agentCommand([], {});\r\n\r\n      const output = consoleLogSpy.mock.calls.flat().join('\\n');\r\n      expect(output).toContain('Agent Management');\r\n      expect(output).toContain('USAGE:');\r\n      expect(output).toContain('agent <subcommand>');\r\n      expect(output).toContain('SUBCOMMANDS:');\r\n    });\r\n\r\n    test('should show help for help subcommand', async () => {\r\n      await agentCommand(['help'], {});\r\n\r\n      const output = consoleLogSpy.mock.calls.flat().join('\\n');\r\n      expect(output).toContain('Agent Management');\r\n    });\r\n  });\r\n\r\n  describe('error handling', () => {\r\n    test('should handle file read errors gracefully', async () => {\r\n      fs.pathExists.mockResolvedValue(true);\r\n      fs.readJson.mockRejectedValue(new Error('Permission denied'));\r\n\r\n      await agentCommand(['status'], {});\r\n\r\n      expect(consoleErrorSpy).toHaveBeenCalledWith(expect.stringContaining('Error:'));\r\n    });\r\n\r\n    test('should handle invalid subcommands', async () => {\r\n      await agentCommand(['invalid-subcommand'], {});\r\n\r\n      expect(consoleErrorSpy).toHaveBeenCalledWith(\r\n        expect.stringContaining('Unknown subcommand: invalid-subcommand'),\r\n      );\r\n    });\r\n  });\r\n});\r\n"],"names":["jest","agentCommand","fs","path","ora","mock","default","blue","fn","str","green","yellow","red","cyan","dim","bold","describe","consoleLogSpy","consoleErrorSpy","mockSpinner","beforeEach","spyOn","console","mockImplementation","start","mockReturnThis","succeed","fail","info","text","mockReturnValue","clearAllMocks","afterEach","mockRestore","test","expect","toHaveBeenCalled","output","calls","flat","join","toContain","swarmDir","process","cwd","pathExists","mockResolvedValue","readJson","id","agents","status","writeJson","undefined","toHaveBeenCalledWith","writeCall","toHaveLength","type","toBe","name","stringContaining","mockSwarmData","created","Date","toISOString","tasksCompleted","currentTask","metrics","avgCompletionTime","successRate","mockRejectedValue","Error"],"mappings":"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"}