{"version":3,"sources":["../../../src/types/interfaces.ts"],"sourcesContent":["/**\r\n * Core interfaces for the claude-flow init system\r\n */\r\n\r\nexport type InitMode = 'standard' | 'github' | 'hive-mind' | 'sparc' | 'neural' | 'enterprise';\r\nexport type TopologyType = 'mesh' | 'hierarchical' | 'ring' | 'star';\r\nexport type ConsensusType = 'raft' | 'byzantine' | 'gossip' | 'proof-of-learning';\r\nexport type AgentType = 'researcher' | 'coder' | 'analyst' | 'optimizer' | 'coordinator' | 'tester' | 'reviewer';\r\n\r\n// Core initialization interfaces\r\nexport interface IInitMode {\r\n  initialize(config: InitConfig): Promise<InitResult>;\r\n  validate(): boolean;\r\n  getDescription(): string;\r\n  getRequiredComponents(): string[];\r\n}\r\n\r\nexport interface InitConfig {\r\n  mode?: InitMode;\r\n  topology?: TopologyType;\r\n  maxAgents?: number;\r\n  strategy?: 'balanced' | 'specialized' | 'adaptive';\r\n  database?: 'sqlite' | 'json';\r\n  configPath?: string;\r\n  debug?: boolean;\r\n  configManager?: any;\r\n  databaseManager?: any;\r\n  topologyManager?: any;\r\n  agentRegistry?: any;\r\n  metricsCollector?: any;\r\n}\r\n\r\nexport interface InitResult {\r\n  success: boolean;\r\n  mode: InitMode;\r\n  components?: string[];\r\n  topology?: TopologyType;\r\n  duration?: number;\r\n  message?: string;\r\n  error?: string;\r\n  metadata?: Record<string, any>;\r\n}\r\n\r\n// Consensus interfaces\r\nexport interface IConsensusAlgorithm {\r\n  propose(decision: Decision): Promise<Vote[]>;\r\n  execute(consensus: Consensus): Promise<Result>;\r\n  getType(): ConsensusType;\r\n  initialize(): Promise<void>;\r\n}\r\n\r\nexport interface Decision {\r\n  id: string;\r\n  type: 'agent-spawn' | 'task-assignment' | 'resource-allocation' | 'topology-change';\r\n  proposer: string;\r\n  data: any;\r\n  timestamp: Date;\r\n}\r\n\r\nexport interface Vote {\r\n  agentId: string;\r\n  decision: boolean;\r\n  confidence: number;\r\n  reasoning?: string;\r\n}\r\n\r\nexport interface Consensus {\r\n  decisionId: string;\r\n  outcome: boolean;\r\n  votes: Vote[];\r\n  confidence: number;\r\n  timestamp: Date;\r\n}\r\n\r\nexport interface Result {\r\n  success: boolean;\r\n  data?: any;\r\n  error?: string;\r\n  metadata?: Record<string, any>;\r\n}\r\n\r\n// Topology interfaces\r\nexport interface ITopology {\r\n  configure(agents: Agent[]): Promise<Network>;\r\n  optimize(): Promise<Optimization>;\r\n  getConnections(): Connection[];\r\n  getType(): TopologyType;\r\n}\r\n\r\nexport interface Agent {\r\n  id: string;\r\n  type: AgentType;\r\n  capabilities: string[];\r\n  status: 'active' | 'idle' | 'busy' | 'offline';\r\n  metadata: Record<string, any>;\r\n  connections?: string[];\r\n  performance?: AgentPerformance;\r\n}\r\n\r\nexport interface Network {\r\n  topology: TopologyType;\r\n  agents: Agent[];\r\n  connections: Connection[];\r\n  metrics: NetworkMetrics;\r\n}\r\n\r\nexport interface Connection {\r\n  from: string;\r\n  to: string;\r\n  type: 'direct' | 'relay' | 'broadcast';\r\n  weight?: number;\r\n  latency?: number;\r\n}\r\n\r\nexport interface Optimization {\r\n  type: 'latency' | 'throughput' | 'reliability';\r\n  changes: TopologyChange[];\r\n  expectedImprovement: number;\r\n}\r\n\r\nexport interface TopologyChange {\r\n  action: 'add-connection' | 'remove-connection' | 'modify-weight';\r\n  connection: Connection;\r\n  reason: string;\r\n}\r\n\r\nexport interface NetworkMetrics {\r\n  totalAgents: number;\r\n  totalConnections: number;\r\n  averageLatency: number;\r\n  throughput: number;\r\n  reliability: number;\r\n}\r\n\r\n// Database interfaces\r\nexport interface IDatabaseProvider {\r\n  initialize(): Promise<void>;\r\n  store(key: string, value: any, namespace?: string): Promise<void>;\r\n  retrieve(key: string, namespace?: string): Promise<any>;\r\n  delete(key: string, namespace?: string): Promise<boolean>;\r\n  list(namespace?: string): Promise<string[]>;\r\n  close(): Promise<void>;\r\n}\r\n\r\n// Agent coordination interfaces\r\nexport interface IAgentCoordinator {\r\n  spawn(type: AgentType, config: AgentConfig): Promise<Agent>;\r\n  coordinate(task: Task): Promise<Result>;\r\n  monitor(): Promise<Metrics>;\r\n  shutdown(agentId: string): Promise<void>;\r\n}\r\n\r\nexport interface AgentConfig {\r\n  capabilities?: string[];\r\n  maxConcurrency?: number;\r\n  timeout?: number;\r\n  resources?: ResourceAllocation;\r\n  metadata?: Record<string, any>;\r\n}\r\n\r\nexport interface Task {\r\n  id: string;\r\n  type: string;\r\n  description: string;\r\n  priority: 'low' | 'medium' | 'high' | 'critical';\r\n  requiredCapabilities: string[];\r\n  deadline?: Date;\r\n  dependencies?: string[];\r\n  data?: any;\r\n}\r\n\r\nexport interface ResourceAllocation {\r\n  memory: number;\r\n  cpu: number;\r\n  storage: number;\r\n  network: number;\r\n}\r\n\r\nexport interface AgentPerformance {\r\n  tasksCompleted: number;\r\n  averageResponseTime: number;\r\n  successRate: number;\r\n  resourceUtilization: ResourceAllocation;\r\n  lastActivity: Date;\r\n}\r\n\r\nexport interface Metrics {\r\n  agents: AgentMetrics[];\r\n  system: SystemMetrics;\r\n  performance: PerformanceMetrics;\r\n}\r\n\r\nexport interface AgentMetrics {\r\n  agentId: string;\r\n  type: AgentType;\r\n  performance: AgentPerformance;\r\n  status: 'active' | 'idle' | 'busy' | 'offline';\r\n}\r\n\r\nexport interface SystemMetrics {\r\n  uptime: number;\r\n  memoryUsage: number;\r\n  cpuUsage: number;\r\n  networkLatency: number;\r\n  activeConnections: number;\r\n}\r\n\r\nexport interface PerformanceMetrics {\r\n  throughput: number;\r\n  latency: number;\r\n  errorRate: number;\r\n  bottlenecks: string[];\r\n}\r\n\r\n// Hive Mind interfaces\r\nexport interface IHiveMindQueen {\r\n  strategize(objective: Objective): Promise<Strategy>;\r\n  delegate(tasks: Task[]): Promise<Assignment[]>;\r\n  monitor(): Promise<QueenMetrics>;\r\n  adapt(feedback: Feedback[]): Promise<void>;\r\n}\r\n\r\nexport interface Objective {\r\n  id: string;\r\n  description: string;\r\n  goals: Goal[];\r\n  constraints: Constraint[];\r\n  deadline?: Date;\r\n  priority: 'low' | 'medium' | 'high' | 'critical';\r\n}\r\n\r\nexport interface Goal {\r\n  description: string;\r\n  metric: string;\r\n  target: number;\r\n  weight: number;\r\n}\r\n\r\nexport interface Constraint {\r\n  type: 'resource' | 'time' | 'dependency' | 'capability';\r\n  description: string;\r\n  value: any;\r\n}\r\n\r\nexport interface Strategy {\r\n  approach: string;\r\n  phases: StrategyPhase[];\r\n  resourceAllocation: ResourceAllocation;\r\n  expectedOutcome: string;\r\n  riskAssessment: Risk[];\r\n}\r\n\r\nexport interface StrategyPhase {\r\n  name: string;\r\n  description: string;\r\n  tasks: Task[];\r\n  dependencies: string[];\r\n  duration: number;\r\n}\r\n\r\nexport interface Risk {\r\n  description: string;\r\n  probability: number;\r\n  impact: number;\r\n  mitigation: string;\r\n}\r\n\r\nexport interface Assignment {\r\n  agentId: string;\r\n  task: Task;\r\n  deadline: Date;\r\n  resources: ResourceAllocation;\r\n}\r\n\r\nexport interface QueenMetrics {\r\n  strategiesCreated: number;\r\n  tasksAssigned: number;\r\n  successRate: number;\r\n  adaptationCount: number;\r\n  performanceScore: number;\r\n}\r\n\r\nexport interface Feedback {\r\n  source: string;\r\n  type: 'performance' | 'outcome' | 'suggestion';\r\n  rating: number;\r\n  comments: string;\r\n  data?: any;\r\n}\r\n\r\n// Configuration interfaces\r\nexport interface ConfigValidationResult {\r\n  valid: boolean;\r\n  errors: string[];\r\n  warnings?: string[];\r\n}\r\n\r\nexport interface DatabaseConfig {\r\n  type: 'sqlite' | 'json';\r\n  path?: string;\r\n  options?: Record<string, any>;\r\n}\r\n\r\nexport interface TopologyConfig {\r\n  type: TopologyType;\r\n  maxAgents: number;\r\n  connectionStrategy: 'full' | 'sparse' | 'hub' | 'ring';\r\n  optimization: boolean;\r\n}\r\n\r\nexport interface InitializationMetrics {\r\n  mode: InitMode;\r\n  duration: number;\r\n  success: boolean;\r\n  components?: string[];\r\n  error?: string;\r\n  timestamp: string;\r\n}"],"names":[],"mappings":"AAsTA,WAOC"}