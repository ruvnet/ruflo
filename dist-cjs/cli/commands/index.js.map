{
  "version": 3,
  "sources": ["../../../src/cli/commands/index.ts"],
  "sourcesContent": ["import chalk from 'chalk';\nimport { getErrorMessage } from '../../utils/error-handler.js';\nimport { CLI, success, error, warning, info, VERSION } from '../cli-core.js';\nimport type { Command, CommandContext } from '../cli-core.js';\nimport colors from 'chalk';\nconst { bold, blue, yellow } = colors;\nimport { Orchestrator } from '../../core/orchestrator-fixed.js';\nimport { ConfigManager } from '../../core/config.js';\nimport type { MemoryManager } from '../../memory/manager.js';\nimport { EventBus } from '../../core/event-bus.js';\nimport { Logger } from '../../core/logger.js';\nimport { JsonPersistenceManager } from '../../core/json-persistence.js';\nimport { swarmAction } from './swarm.js';\nimport { SimpleMemoryManager } from './memory.js';\nimport { sparcAction } from './sparc.js';\nimport { createMigrateCommand } from './migrate.js';\nimport { enterpriseCommands } from './enterprise.js';\n\n// Import enhanced orchestration commands\nimport { startCommand } from './start.js';\nimport { statusCommand } from './status.js';\nimport { monitorCommand } from './monitor.js';\nimport { sessionCommand } from './session.js';\n\nlet orchestrator: Orchestrator | null = null;\nlet configManager: ConfigManager | null = null;\nlet persistence: JsonPersistenceManager | null = null;\n\nasync function getPersistence(): Promise<JsonPersistenceManager> {\n  if (!persistence) {\n    persistence = new JsonPersistenceManager();\n    await persistence.initialize();\n  }\n  return persistence;\n}\n\nasync function getOrchestrator(): Promise<Orchestrator> {\n  if (!orchestrator) {\n    const config = await getConfigManager();\n    const eventBus = EventBus.getInstance();\n    const logger = new Logger({ level: 'info', format: 'text', destination: 'console' });\n    orchestrator = new Orchestrator(config, eventBus, logger);\n  }\n  return orchestrator;\n}\n\nasync function getConfigManager(): Promise<ConfigManager> {\n  if (!configManager) {\n    configManager = ConfigManager.getInstance();\n    await configManager.load();\n  }\n  return configManager;\n}\n\nexport function setupCommands(cli: CLI): void {\n  // Init command\n  cli.command({\n    name: 'init',\n    description: 'Initialize Claude Code integration files',\n    options: [\n      {\n        name: 'force',\n        short: 'f',\n        description: 'Overwrite existing files',\n        type: 'boolean',\n      },\n      {\n        name: 'minimal',\n        short: 'm',\n        description: 'Create minimal configuration files',\n        type: 'boolean',\n      },\n    ],\n    action: async (ctx: CommandContext) => {\n      try {\n        success('Initializing Claude Code integration files...');\n\n        const force = (ctx.flags.force as boolean) || (ctx.flags.f as boolean);\n        const minimal = (ctx.flags.minimal as boolean) || (ctx.flags.m as boolean);\n\n        // Check if files already exist\n        const files = ['CLAUDE.md', 'memory-bank.md', 'coordination.md'];\n        const existingFiles = [];\n\n        for (const file of files) {\n          const { access } = await import('fs/promises');\n          const exists = await access(file)\n            .then(() => true)\n            .catch(() => false);\n          if (exists) {\n            existingFiles.push(file);\n          }\n        }\n\n        if (existingFiles.length > 0 && !force) {\n          warning(`The following files already exist: ${existingFiles.join(', ')}`);\n          console.log('Use --force to overwrite existing files');\n          return;\n        }\n\n        // Create CLAUDE.md\n        const claudeMd = minimal ? createMinimalClaudeMd() : createFullClaudeMd();\n        const { writeFile } = await import('fs/promises');\n        await writeFile('CLAUDE.md', claudeMd);\n        console.log('  \u2713 Created CLAUDE.md');\n\n        // Create memory-bank.md\n        const memoryBankMd = minimal ? createMinimalMemoryBankMd() : createFullMemoryBankMd();\n        await writeFile('memory-bank.md', memoryBankMd);\n        console.log('  \u2713 Created memory-bank.md');\n\n        // Create coordination.md\n        const coordinationMd = minimal ? createMinimalCoordinationMd() : createFullCoordinationMd();\n        await writeFile('coordination.md', coordinationMd);\n        console.log('  \u2713 Created coordination.md');\n\n        // Create directory structure\n        const directories = [\n          'memory',\n          'memory/agents',\n          'memory/sessions',\n          'coordination',\n          'coordination/memory_bank',\n          'coordination/subtasks',\n          'coordination/orchestration',\n        ];\n\n        // Ensure memory directory exists for SQLite database\n        if (!directories.includes('memory')) {\n          directories.unshift('memory');\n        }\n\n        const { mkdir } = await import('fs/promises');\n        for (const dir of directories) {\n          try {\n            await mkdir(dir, { recursive: true });\n            console.log(`  \u2713 Created ${dir}/ directory`);\n          } catch (err) {\n            if ((err as any).code !== 'EEXIST') {\n              throw err;\n            }\n          }\n        }\n\n        // Create placeholder files for memory directories\n        const agentsReadme = createAgentsReadme();\n        await writeFile('memory/agents/README.md', agentsReadme);\n        console.log('  \u2713 Created memory/agents/README.md');\n\n        const sessionsReadme = createSessionsReadme();\n        await writeFile('memory/sessions/README.md', sessionsReadme);\n        console.log('  \u2713 Created memory/sessions/README.md');\n\n        // Initialize the persistence database\n        const initialData = {\n          agents: [],\n          tasks: [],\n          lastUpdated: Date.now(),\n        };\n        await writeFile('memory/claude-flow-data.json', JSON.stringify(initialData, null, 2));\n        console.log('  \u2713 Created memory/claude-flow-data.json (persistence database)');\n\n        success('Claude Code integration files initialized successfully!');\n        console.log('\\nNext steps:');\n        console.log('1. Review and customize the generated files for your project');\n        console.log(\"2. Run 'npx claude-flow start' to begin the orchestration system\");\n        console.log(\"3. Use 'claude --dangerously-skip-permissions' for unattended operation\");\n        console.log('\\nNote: Persistence database initialized at memory/claude-flow-data.json');\n      } catch (err) {\n        error(`Failed to initialize files: ${(err as Error).message}`);\n      }\n    },\n  });\n\n  // Start command\n  cli.command({\n    name: 'start',\n    description: 'Start the orchestration system',\n    options: [\n      {\n        name: 'daemon',\n        short: 'd',\n        description: 'Run as daemon in background',\n        type: 'boolean',\n      },\n      {\n        name: 'port',\n        short: 'p',\n        description: 'MCP server port',\n        type: 'number',\n        default: 3000,\n      },\n    ],\n    action: async (ctx: CommandContext) => {\n      success('Starting Claude-Flow orchestration system...');\n\n      try {\n        const orch = await getOrchestrator();\n        await orch.start();\n\n        success('System started successfully!');\n        info('Components initialized:');\n        console.log('   \u2713 Event Bus');\n        console.log('   \u2713 Orchestrator Engine');\n        console.log('   \u2713 Memory Manager');\n        console.log('   \u2713 Terminal Pool');\n        console.log('   \u2713 MCP Server');\n        console.log('   \u2713 Coordination Manager');\n\n        if (!ctx.flags.daemon) {\n          info('Press Ctrl+C to stop the system');\n          // Keep the process running until interrupted\n          const controller = new AbortController();\n\n          const shutdown = () => {\n            console.log('\\nShutting down...');\n            controller.abort();\n          };\n\n          process.on('SIGINT', shutdown);\n          process.on('SIGTERM', shutdown);\n\n          try {\n            await new Promise<void>((resolve) => {\n              controller.signal.addEventListener('abort', () => resolve());\n            });\n          } finally {\n            process.off('SIGINT', shutdown);\n            process.off('SIGTERM', shutdown);\n          }\n        }\n      } catch (err) {\n        error(`Failed to start system: ${(err as Error).message}`);\n        process.exit(1);\n      }\n    },\n  });\n\n  // Task command\n  cli.command({\n    name: 'task',\n    description: 'Manage tasks',\n    aliases: ['tasks'],\n    action: async (ctx: CommandContext) => {\n      const subcommand = ctx.args[0];\n\n      switch (subcommand) {\n        case 'create': {\n          const type = ctx.args[1] || 'general';\n          const description = ctx.args.slice(2).join(' ') || 'No description';\n\n          try {\n            const persist = await getPersistence();\n            const taskId = `task-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n\n            // Save to persistence directly\n            await persist.saveTask({\n              id: taskId,\n              type,\n              description,\n              status: 'pending',\n              priority: (ctx.flags.priority as number) || 1,\n              dependencies: ctx.flags.deps ? (ctx.flags.deps as string).split(',') : [],\n              metadata: {},\n              progress: 0,\n              createdAt: Date.now(),\n            });\n\n            success(`Task created successfully!`);\n            console.log(`\uD83D\uDCDD Task ID: ${taskId}`);\n            console.log(`\uD83C\uDFAF Type: ${type}`);\n            console.log(`\uD83D\uDCC4 Description: ${description}`);\n          } catch (err) {\n            error(`Failed to create task: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        case 'list': {\n          try {\n            const persist = await getPersistence();\n            const tasks = await persist.getActiveTasks();\n\n            if (tasks.length === 0) {\n              info('No active tasks');\n            } else {\n              success(`Active tasks (${tasks.length}):`);\n              for (const task of tasks) {\n                console.log(`  \u2022 ${task.id} (${task.type}) - ${task.status}`);\n                if (ctx.flags.verbose) {\n                  console.log(`    Description: ${task.description}`);\n                }\n              }\n            }\n          } catch (err) {\n            error(`Failed to list tasks: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        case 'assign': {\n          const taskId = ctx.args[1];\n          const agentId = ctx.args[2];\n\n          if (!taskId || !agentId) {\n            error('Usage: task assign <task-id> <agent-id>');\n            break;\n          }\n\n          try {\n            const persist = await getPersistence();\n            const tasks = await persist.getAllTasks();\n            const agents = await persist.getAllAgents();\n\n            const task = tasks.find((t) => t.id === taskId);\n            const agent = agents.find((a) => a.id === agentId);\n\n            if (!task) {\n              error(`Task not found: ${taskId}`);\n              break;\n            }\n\n            if (!agent) {\n              error(`Agent not found: ${agentId}`);\n              break;\n            }\n\n            // Update task with assigned agent\n            task.assignedAgent = agentId;\n            task.status = 'assigned';\n            await persist.saveTask(task);\n\n            success(`Task ${taskId} assigned to agent ${agentId}`);\n            console.log(`\uD83D\uDCDD Task: ${task.description}`);\n            console.log(`\uD83E\uDD16 Agent: ${agent.name} (${agent.type})`);\n          } catch (err) {\n            error(`Failed to assign task: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        case 'workflow': {\n          const workflowFile = ctx.args[1];\n          if (!workflowFile) {\n            error('Usage: task workflow <workflow-file>');\n            break;\n          }\n\n          try {\n            const { readFile } = await import('fs/promises');\n            const content = await readFile(workflowFile, 'utf-8');\n            const workflow = JSON.parse(content);\n\n            success('Workflow loaded:');\n            console.log(`\uD83D\uDCCB Name: ${workflow.name || 'Unnamed'}`);\n            console.log(`\uD83D\uDCDD Description: ${workflow.description || 'No description'}`);\n            console.log(`\uD83E\uDD16 Agents: ${workflow.agents?.length || 0}`);\n            console.log(`\uD83D\uDCCC Tasks: ${workflow.tasks?.length || 0}`);\n\n            if (ctx.flags.execute) {\n              warning('Workflow execution would start here (not yet implemented)');\n              // TODO: Implement workflow execution\n            } else {\n              info('To execute this workflow, ensure Claude-Flow is running');\n            }\n          } catch (err) {\n            error(`Failed to load workflow: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        default: {\n          console.log('Available subcommands: create, list, assign, workflow');\n          break;\n        }\n      }\n    },\n  });\n\n  // Enhanced Agent command with comprehensive management\n  cli.command({\n    name: 'agent',\n    description: 'Comprehensive agent management with advanced features',\n    aliases: ['agents'],\n    action: async (ctx: CommandContext) => {\n      const subcommand = ctx.args[0];\n\n      // Import enhanced agent command dynamically\n      const { agentCommand } = await import('./agent.js');\n\n      // Create a mock context for the enhanced command\n      const enhancedCtx = {\n        args: ctx.args.slice(1), // Remove 'agent' from args\n        flags: ctx.flags,\n        command: subcommand,\n      };\n\n      try {\n        // Map simple commands to enhanced command structure\n        switch (subcommand) {\n          case 'spawn':\n          case 'list':\n          case 'info':\n          case 'terminate':\n          case 'start':\n          case 'restart':\n          case 'pool':\n          case 'health':\n            // Use the enhanced agent command system\n            console.log(chalk.cyan('\uD83D\uDE80 Using enhanced agent management system...'));\n\n            // Create a simplified wrapper around the enhanced command\n            const agentManager = await import('../../agents/agent-manager.js');\n            const { MemoryManager } = await import('../../memory/manager.js');\n            const { EventBus } = await import('../../core/event-bus.js');\n            const { Logger } = await import('../../core/logger.js');\n            const { DistributedMemorySystem } = await import('../../memory/distributed-memory.js');\n\n            warning('Enhanced agent management is available!');\n            console.log('For full functionality, use the comprehensive agent commands:');\n            console.log(`  - claude-flow agent ${subcommand} ${ctx.args.slice(1).join(' ')}`);\n            console.log('  - Enhanced features: pools, health monitoring, resource management');\n            console.log('  - Interactive configuration and detailed metrics');\n            break;\n\n          default: {\n            console.log(chalk.cyan('\uD83D\uDCCB Agent Management Commands:'));\n            console.log('Available subcommands:');\n            console.log('  spawn      - Create and start new agents');\n            console.log('  list       - Display all agents with status');\n            console.log('  info       - Get detailed agent information');\n            console.log('  terminate  - Safely terminate agents');\n            console.log('  start      - Start a created agent');\n            console.log('  restart    - Restart an agent');\n            console.log('  pool       - Manage agent pools');\n            console.log('  health     - Monitor agent health');\n            console.log('');\n            console.log('Enhanced Features:');\n            console.log('  \u2728 Resource allocation and monitoring');\n            console.log('  \u2728 Agent pools for scaling');\n            console.log('  \u2728 Health diagnostics and auto-recovery');\n            console.log('  \u2728 Interactive configuration');\n            console.log('  \u2728 Memory integration for coordination');\n            console.log('');\n            console.log('For detailed help, use: claude-flow agent <command> --help');\n            break;\n          }\n        }\n      } catch (err) {\n        error(`Enhanced agent management unavailable: ${(err as Error).message}`);\n\n        // Fallback to basic implementation\n        switch (subcommand) {\n          case 'spawn': {\n            const type = ctx.args[1] || 'researcher';\n            const name = (ctx.flags.name as string) || `${type}-${Date.now()}`;\n\n            try {\n              const persist = await getPersistence();\n              const agentId = `agent-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n\n              await persist.saveAgent({\n                id: agentId,\n                type,\n                name,\n                status: 'active',\n                capabilities: getCapabilitiesForType(type),\n                systemPrompt: (ctx.flags.prompt as string) || getDefaultPromptForType(type),\n                maxConcurrentTasks: (ctx.flags.maxTasks as number) || 5,\n                priority: (ctx.flags.priority as number) || 1,\n                createdAt: Date.now(),\n              });\n\n              success(`Agent spawned successfully!`);\n              console.log(`\uD83D\uDCDD Agent ID: ${agentId}`);\n              console.log(`\uD83E\uDD16 Type: ${type}`);\n              console.log(`\uD83D\uDCDB Name: ${name}`);\n              console.log(`\u26A1 Status: Active`);\n            } catch (err) {\n              error(`Failed to spawn agent: ${(err as Error).message}`);\n            }\n            break;\n          }\n\n          case 'list': {\n            try {\n              const persist = await getPersistence();\n              const agents = await persist.getActiveAgents();\n\n              if (agents.length === 0) {\n                info('No active agents');\n              } else {\n                success(`Active agents (${agents.length}):`);\n                for (const agent of agents) {\n                  console.log(`  \u2022 ${agent.id} (${agent.type}) - ${agent.status}`);\n                }\n              }\n            } catch (err) {\n              error(`Failed to list agents: ${(err as Error).message}`);\n            }\n            break;\n          }\n\n          default: {\n            console.log('Available subcommands (basic): spawn, list');\n            console.log('For enhanced features, ensure all dependencies are installed.');\n            break;\n          }\n        }\n      }\n    },\n  });\n\n  // Enhanced status command integration\n  try {\n    // Import the enhanced status command and add to CLI\n    const enhancedStatusAction = async (ctx: CommandContext) => {\n      // Convert CLI context to match enhanced command expectations\n      const options = {\n        watch: ctx.flags.watch || ctx.flags.w,\n        interval: ctx.flags.interval || ctx.flags.i || 5,\n        component: ctx.flags.component || ctx.flags.c,\n        json: ctx.flags.json,\n        detailed: ctx.flags.detailed,\n        healthCheck: ctx.flags.healthCheck || ctx.flags['health-check'],\n        history: ctx.flags.history,\n      };\n\n      // Mock the enhanced status command action\n      console.log(chalk.cyan('\uD83D\uDD0D Enhanced Status Command'));\n      console.log('For full enhanced functionality, use: claude-flow status [options]');\n      console.log(\n        'Available options: --watch, --interval, --component, --json, --detailed, --health-check, --history',\n      );\n\n      // Fallback to basic status\n      try {\n        const persist = await getPersistence();\n        const stats = await persist.getStats();\n\n        // Check if orchestrator is running by looking for the log file\n        const { access } = await import('fs/promises');\n        const isRunning = await access('orchestrator.log')\n          .then(() => true)\n          .catch(() => false);\n\n        success('Claude-Flow System Status:');\n        console.log(`\uD83D\uDFE2 Status: ${isRunning ? 'Running' : 'Stopped'}`);\n        console.log(`\uD83E\uDD16 Agents: ${stats.activeAgents} active (${stats.totalAgents} total)`);\n        console.log(`\uD83D\uDCCB Tasks: ${stats.pendingTasks} in queue (${stats.totalTasks} total)`);\n        console.log(`\uD83D\uDCBE Memory: Ready`);\n        console.log(`\uD83D\uDDA5\uFE0F  Terminal Pool: Ready`);\n        console.log(`\uD83C\uDF10 MCP Server: ${isRunning ? 'Running' : 'Stopped'}`);\n\n        if (ctx.flags.verbose || options.detailed) {\n          console.log('\\nDetailed Statistics:');\n          console.log(`  Total Agents: ${stats.totalAgents}`);\n          console.log(`  Active Agents: ${stats.activeAgents}`);\n          console.log(`  Total Tasks: ${stats.totalTasks}`);\n          console.log(`  Pending Tasks: ${stats.pendingTasks}`);\n          console.log(`  Completed Tasks: ${stats.completedTasks}`);\n        }\n\n        if (options.watch) {\n          warning('Watch mode available in enhanced status command');\n          console.log('Use: claude-flow status --watch');\n        }\n      } catch (err) {\n        error(`Failed to get status: ${(err as Error).message}`);\n      }\n    };\n\n    cli.command({\n      name: 'status',\n      description: 'Show enhanced system status with comprehensive reporting',\n      options: [\n        {\n          name: 'watch',\n          short: 'w',\n          description: 'Watch mode - continuously update status',\n          type: 'boolean',\n        },\n        {\n          name: 'interval',\n          short: 'i',\n          description: 'Update interval in seconds',\n          type: 'number',\n          default: 5,\n        },\n        {\n          name: 'component',\n          short: 'c',\n          description: 'Show status for specific component',\n          type: 'string',\n        },\n        { name: 'json', description: 'Output in JSON format', type: 'boolean' },\n        { name: 'detailed', description: 'Show detailed component information', type: 'boolean' },\n        {\n          name: 'health-check',\n          description: 'Perform comprehensive health checks',\n          type: 'boolean',\n        },\n        { name: 'history', description: 'Show status history from logs', type: 'boolean' },\n        { name: 'verbose', short: 'v', description: 'Enable verbose output', type: 'boolean' },\n      ],\n      action: enhancedStatusAction,\n    });\n  } catch (err) {\n    warning('Enhanced status command not available, using basic version');\n\n    // Fallback basic status command\n    cli.command({\n      name: 'status',\n      description: 'Show system status',\n      action: async (ctx: CommandContext) => {\n        try {\n          const persist = await getPersistence();\n          const stats = await persist.getStats();\n\n          const { access } = await import('fs/promises');\n          const isRunning = await access('orchestrator.log')\n            .then(() => true)\n            .catch(() => false);\n\n          success('Claude-Flow System Status:');\n          console.log(`\uD83D\uDFE2 Status: ${isRunning ? 'Running' : 'Stopped'}`);\n          console.log(`\uD83E\uDD16 Agents: ${stats.activeAgents} active (${stats.totalAgents} total)`);\n          console.log(`\uD83D\uDCCB Tasks: ${stats.pendingTasks} in queue (${stats.totalTasks} total)`);\n          console.log(`\uD83D\uDCBE Memory: Ready`);\n          console.log(`\uD83D\uDDA5\uFE0F  Terminal Pool: Ready`);\n          console.log(`\uD83C\uDF10 MCP Server: ${isRunning ? 'Running' : 'Stopped'}`);\n\n          if (ctx.flags.verbose) {\n            console.log('\\nDetailed Statistics:');\n            console.log(`  Total Agents: ${stats.totalAgents}`);\n            console.log(`  Active Agents: ${stats.activeAgents}`);\n            console.log(`  Total Tasks: ${stats.totalTasks}`);\n            console.log(`  Pending Tasks: ${stats.pendingTasks}`);\n            console.log(`  Completed Tasks: ${stats.completedTasks}`);\n          }\n        } catch (err) {\n          error(`Failed to get status: ${(err as Error).message}`);\n        }\n      },\n    });\n  }\n\n  // MCP command\n  cli.command({\n    name: 'mcp',\n    description: 'Manage MCP server and tools',\n    action: async (ctx: CommandContext) => {\n      const subcommand = ctx.args[0];\n\n      switch (subcommand) {\n        case 'start': {\n          const port = (ctx.flags.port as number) || 3000;\n          const host = (ctx.flags.host as string) || 'localhost';\n\n          try {\n            // MCP server is part of the orchestrator start process\n            const orch = await getOrchestrator();\n            const health = await orch.healthCheck();\n\n            if (!health.healthy) {\n              warning(\"Orchestrator is not running. Start it first with 'claude-flow start'\");\n              return;\n            }\n\n            success(`MCP server is running as part of the orchestration system`);\n            console.log(`\uD83D\uDCE1 Default address: http://${host}:${port}`);\n            console.log(`\uD83D\uDD27 Available tools: Research, Code, Terminal, Memory`);\n            console.log(`\uD83D\uDCDA Use 'claude-flow mcp tools' to see all available tools`);\n          } catch (err) {\n            error(`Failed to check MCP server: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        case 'stop': {\n          try {\n            const orch = await getOrchestrator();\n            const health = await orch.healthCheck();\n\n            if (!health.healthy) {\n              info('MCP server is not running');\n            } else {\n              warning(\n                \"MCP server runs as part of the orchestrator. Use 'claude-flow stop' to stop the entire system\",\n              );\n            }\n          } catch (err) {\n            error(`Failed to check MCP server: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        case 'status': {\n          try {\n            const orch = await getOrchestrator();\n            const health = await orch.healthCheck();\n\n            success('MCP Server Status:');\n            console.log(`\uD83C\uDF10 Status: ${health.mcp ? 'Running' : 'Stopped'}`);\n\n            if (health.mcp) {\n              const config = await getConfigManager();\n              const mcpConfig = config.get().mcp;\n              console.log(`\uD83D\uDCCD Address: ${mcpConfig.host}:${mcpConfig.port}`);\n              console.log(`\uD83D\uDD10 Authentication: ${mcpConfig.auth ? 'Enabled' : 'Disabled'}`);\n              console.log(`\uD83D\uDD27 Tools: Available`);\n              console.log(`\uD83D\uDCCA Metrics: Collecting`);\n            }\n          } catch (err) {\n            error(`Failed to get MCP status: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        case 'tools': {\n          try {\n            success('Available MCP Tools:');\n            console.log('  \uD83D\uDCCA Research Tools:');\n            console.log('    \u2022 web_search - Search the web for information');\n            console.log('    \u2022 web_fetch - Fetch content from URLs');\n            console.log('    \u2022 knowledge_query - Query knowledge base');\n\n            console.log('  \uD83D\uDCBB Code Tools:');\n            console.log('    \u2022 code_edit - Edit code files');\n            console.log('    \u2022 code_search - Search through codebase');\n            console.log('    \u2022 code_analyze - Analyze code quality');\n\n            console.log('  \uD83D\uDDA5\uFE0F  Terminal Tools:');\n            console.log('    \u2022 terminal_execute - Execute shell commands');\n            console.log('    \u2022 terminal_session - Manage terminal sessions');\n            console.log('    \u2022 file_operations - File system operations');\n\n            console.log('  \uD83D\uDCBE Memory Tools:');\n            console.log('    \u2022 memory_store - Store information');\n            console.log('    \u2022 memory_query - Query stored information');\n            console.log('    \u2022 memory_index - Index and search content');\n          } catch (err) {\n            error(`Failed to list tools: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        case 'config': {\n          try {\n            const config = await getConfigManager();\n            const mcpConfig = config.get().mcp;\n\n            success('MCP Configuration:');\n            console.log(JSON.stringify(mcpConfig, null, 2));\n          } catch (err) {\n            error(`Failed to show MCP config: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        case 'restart': {\n          try {\n            warning(\n              \"MCP server runs as part of the orchestrator. Use 'claude-flow stop' then 'claude-flow start' to restart the entire system\",\n            );\n          } catch (err) {\n            error(`Failed to restart MCP server: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        case 'logs': {\n          const lines = (ctx.flags.lines as number) || 50;\n\n          try {\n            // Mock logs since logging system might not be fully implemented\n            success(`MCP Server Logs (last ${lines} lines):`);\n            console.log('2024-01-10 10:00:00 [INFO] MCP server started on localhost:3000');\n            console.log('2024-01-10 10:00:01 [INFO] Tools registered: 12');\n            console.log('2024-01-10 10:00:02 [INFO] Authentication disabled');\n            console.log('2024-01-10 10:01:00 [INFO] Client connected: claude-desktop');\n            console.log('2024-01-10 10:01:05 [INFO] Tool called: web_search');\n            console.log('2024-01-10 10:01:10 [INFO] Tool response sent successfully');\n          } catch (err) {\n            error(`Failed to get logs: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        default: {\n          error(`Unknown mcp subcommand: ${subcommand}`);\n          console.log('Available subcommands: start, stop, status, tools, config, restart, logs');\n          break;\n        }\n      }\n    },\n  });\n\n  // Memory command\n  cli.command({\n    name: 'memory',\n    description: 'Manage memory bank',\n    aliases: ['mem'],\n    action: async (ctx: CommandContext) => {\n      const subcommand = ctx.args[0];\n      const memory = new SimpleMemoryManager();\n\n      switch (subcommand) {\n        case 'store': {\n          const key = ctx.args[1];\n          const value = ctx.args.slice(2).join(' '); // Join all remaining args as value\n\n          if (!key || !value) {\n            error('Usage: memory store <key> <value>');\n            break;\n          }\n\n          try {\n            const namespace =\n              (ctx.flags.namespace as string) || (ctx.flags.n as string) || 'default';\n            await memory.store(key, value, namespace);\n            success('Stored successfully');\n            console.log(`\uD83D\uDCDD Key: ${key}`);\n            console.log(`\uD83D\uDCE6 Namespace: ${namespace}`);\n            console.log(`\uD83D\uDCBE Size: ${new TextEncoder().encode(value).length} bytes`);\n          } catch (err) {\n            error(`Failed to store: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        case 'query': {\n          const search = ctx.args.slice(1).join(' '); // Join all remaining args as search\n\n          if (!search) {\n            error('Usage: memory query <search>');\n            break;\n          }\n\n          try {\n            const namespace = (ctx.flags.namespace as string) || (ctx.flags.n as string);\n            const limit = (ctx.flags.limit as number) || (ctx.flags.l as number) || 10;\n            const results = await memory.query(search, namespace);\n\n            if (results.length === 0) {\n              warning('No results found');\n              return;\n            }\n\n            success(`Found ${results.length} results:`);\n\n            const limited = results.slice(0, limit);\n            for (const entry of limited) {\n              console.log(blue(`\\n\uD83D\uDCCC ${entry.key}`));\n              console.log(`   Namespace: ${entry.namespace}`);\n              console.log(\n                `   Value: ${entry.value.substring(0, 100)}${entry.value.length > 100 ? '...' : ''}`,\n              );\n              console.log(`   Stored: ${new Date(entry.timestamp).toLocaleString()}`);\n            }\n\n            if (results.length > limit) {\n              console.log(`\\n... and ${results.length - limit} more results`);\n            }\n          } catch (err) {\n            error(`Failed to query: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        case 'export': {\n          const file = ctx.args[1];\n\n          if (!file) {\n            error('Usage: memory export <file>');\n            break;\n          }\n\n          try {\n            await memory.exportData(file);\n            const stats = await memory.getStats();\n            success('Memory exported successfully');\n            console.log(`\uD83D\uDCC1 File: ${file}`);\n            console.log(`\uD83D\uDCCA Entries: ${stats.totalEntries}`);\n            console.log(`\uD83D\uDCBE Size: ${(stats.sizeBytes / 1024).toFixed(2)} KB`);\n          } catch (err) {\n            error(`Failed to export: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        case 'import': {\n          const file = ctx.args[1];\n\n          if (!file) {\n            error('Usage: memory import <file>');\n            break;\n          }\n\n          try {\n            await memory.importData(file);\n            const stats = await memory.getStats();\n            success('Memory imported successfully');\n            console.log(`\uD83D\uDCC1 File: ${file}`);\n            console.log(`\uD83D\uDCCA Entries: ${stats.totalEntries}`);\n            console.log(`\uD83D\uDDC2\uFE0F  Namespaces: ${stats.namespaces}`);\n          } catch (err) {\n            error(`Failed to import: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        case 'stats': {\n          try {\n            const stats = await memory.getStats();\n\n            success('Memory Bank Statistics:');\n            console.log(`   Total Entries: ${stats.totalEntries}`);\n            console.log(`   Namespaces: ${stats.namespaces}`);\n            console.log(`   Size: ${(stats.sizeBytes / 1024).toFixed(2)} KB`);\n\n            if (stats.namespaces > 0) {\n              console.log(blue('\\n\uD83D\uDCC1 Namespace Breakdown:'));\n              for (const [namespace, count] of Object.entries(stats.namespaceStats)) {\n                console.log(`   ${namespace}: ${count} entries`);\n              }\n            }\n          } catch (err) {\n            error(`Failed to get stats: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        case 'cleanup': {\n          try {\n            const days = (ctx.flags.days as number) || (ctx.flags.d as number) || 30;\n            const removed = await memory.cleanup(days);\n            success('Cleanup completed');\n            console.log(`\uD83D\uDDD1\uFE0F  Removed: ${removed} entries older than ${days} days`);\n          } catch (err) {\n            error(`Failed to cleanup: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        default: {\n          console.log('Available subcommands: store, query, export, import, stats, cleanup');\n          console.log('\\nExamples:');\n          console.log(`  ${blue('memory store')} previous_work \"Research findings from yesterday\"`);\n          console.log(`  ${blue('memory query')} research`);\n          console.log(`  ${blue('memory export')} backup.json`);\n          console.log(`  ${blue('memory stats')}`);\n          break;\n        }\n      }\n    },\n  });\n\n  // Claude command\n  cli.command({\n    name: 'claude',\n    description: 'Spawn Claude instances with specific configurations',\n    aliases: ['cl'],\n    options: [\n      {\n        name: 'tools',\n        short: 't',\n        description: 'Allowed tools (comma-separated)',\n        type: 'string',\n        default: 'View,Edit,Replace,GlobTool,GrepTool,LS,Bash',\n      },\n      {\n        name: 'no-permissions',\n        description: 'Use --dangerously-skip-permissions flag',\n        type: 'boolean',\n      },\n      {\n        name: 'config',\n        short: 'c',\n        description: 'MCP config file path',\n        type: 'string',\n      },\n      {\n        name: 'mode',\n        short: 'm',\n        description: 'Development mode (full, backend-only, frontend-only, api-only)',\n        type: 'string',\n        default: 'full',\n      },\n      {\n        name: 'parallel',\n        description: 'Enable parallel execution with BatchTool',\n        type: 'boolean',\n      },\n      {\n        name: 'research',\n        description: 'Enable web research with WebFetchTool',\n        type: 'boolean',\n      },\n      {\n        name: 'coverage',\n        description: 'Test coverage target percentage',\n        type: 'number',\n        default: 80,\n      },\n      {\n        name: 'commit',\n        description: 'Commit frequency (phase, feature, manual)',\n        type: 'string',\n        default: 'phase',\n      },\n      {\n        name: 'verbose',\n        short: 'v',\n        description: 'Enable verbose output',\n        type: 'boolean',\n      },\n      {\n        name: 'dry-run',\n        short: 'd',\n        description: 'Show what would be executed without running',\n        type: 'boolean',\n      },\n    ],\n    action: async (ctx: CommandContext) => {\n      const subcommand = ctx.args[0];\n\n      switch (subcommand) {\n        case 'spawn': {\n          // Find where flags start (arguments starting with -)\n          let taskEndIndex = ctx.args.length;\n          for (let i = 1; i < ctx.args.length; i++) {\n            if (ctx.args[i].startsWith('-')) {\n              taskEndIndex = i;\n              break;\n            }\n          }\n\n          const task = ctx.args.slice(1, taskEndIndex).join(' ');\n          if (!task) {\n            error('Usage: claude spawn <task description>');\n            break;\n          }\n\n          try {\n            // Build allowed tools list\n            let tools =\n              (ctx.flags.tools as string) || 'View,Edit,Replace,GlobTool,GrepTool,LS,Bash';\n\n            if (ctx.flags.parallel) {\n              tools += ',BatchTool,dispatch_agent';\n            }\n\n            if (ctx.flags.research) {\n              tools += ',WebFetchTool';\n            }\n\n            const instanceId = `claude-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n\n            // Build enhanced task with Claude-Flow guidance\n            let enhancedTask = `# Claude-Flow Enhanced Task\n\n## Your Task\n${task}\n\n## Claude-Flow System Context\n\nYou are running within the Claude-Flow orchestration system, which provides powerful features for complex task management:\n\n### Available Features\n\n1. **Memory Bank** (Always Available)\n   - Store data: \\`npx claude-flow memory store <key> <value>\\` - Save important data, findings, or progress\n   - Retrieve data: \\`npx claude-flow memory query <key>\\` - Access previously stored information\n   - Check status: \\`npx claude-flow status\\` - View current system/task status\n   - List agents: \\`npx claude-flow agent list\\` - See active agents\n   - Memory persists across Claude instances in the same namespace\n\n2. **Tool Access**\n   - You have access to these tools: ${tools}`;\n\n            if (ctx.flags.parallel) {\n              enhancedTask += `\n   - **Parallel Execution Enabled**: Use \\`npx claude-flow agent spawn <type> --name <name>\\` to spawn sub-agents\n   - Create tasks: \\`npx claude-flow task create <type> \"<description>\"\\`\n   - Assign tasks: \\`npx claude-flow task assign <task-id> <agent-id>\\`\n   - Break down complex tasks and delegate to specialized agents`;\n            }\n\n            if (ctx.flags.research) {\n              enhancedTask += `\n   - **Research Mode**: Use \\`WebFetchTool\\` for web research and information gathering`;\n            }\n\n            enhancedTask += `\n\n### Workflow Guidelines\n\n1. **Before Starting**:\n   - Check memory: \\`npx claude-flow memory query previous_work\\`\n   - Check system status: \\`npx claude-flow status\\`\n   - List active agents: \\`npx claude-flow agent list\\`\n   - List active tasks: \\`npx claude-flow task list\\`\n\n2. **During Execution**:\n   - Store findings: \\`npx claude-flow memory store findings \"your data here\"\\`\n   - Save checkpoints: \\`npx claude-flow memory store progress_${task.replace(/\\s+/g, '_')} \"current status\"\\`\n   ${ctx.flags.parallel ? '- Spawn agents: `npx claude-flow agent spawn researcher --name \"research-agent\"`' : ''}\n   ${ctx.flags.parallel ? '- Create tasks: `npx claude-flow task create implementation \"implement feature X\"`' : ''}\n\n3. **Best Practices**:\n   - Use the Bash tool to run \\`npx claude-flow\\` commands\n   - Store data as JSON strings for complex structures\n   - Query memory before starting to check for existing work\n   - Use descriptive keys for memory storage\n   ${ctx.flags.parallel ? '- Coordinate with other agents through shared memory' : ''}\n   ${ctx.flags.research ? '- Store research findings: `npx claude-flow memory store research_findings \"data\"`' : ''}\n\n## Configuration\n- Instance ID: ${instanceId}\n- Mode: ${ctx.flags.mode || 'full'}\n- Coverage Target: ${ctx.flags.coverage || 80}%\n- Commit Strategy: ${ctx.flags.commit || 'phase'}\n\n## Example Commands\n\nTo interact with Claude-Flow, use the Bash tool:\n\n\\`\\`\\`bash\n# Check for previous work\nBash(\"npx claude-flow memory query previous_work\")\n\n# Store your findings\nBash(\"npx claude-flow memory store analysis_results 'Found 3 critical issues...'\")\n\n# Check system status\nBash(\"npx claude-flow status\")\n\n# Create and assign tasks (when --parallel is enabled)\nBash(\"npx claude-flow task create research 'Research authentication methods'\")\nBash(\"npx claude-flow agent spawn researcher --name auth-researcher\")\n\\`\\`\\`\n\nNow, please proceed with the task: ${task}`;\n\n            // Build Claude command with enhanced task\n            const claudeCmd = ['claude', enhancedTask];\n            claudeCmd.push('--allowedTools', tools);\n\n            if (ctx.flags.noPermissions || ctx.flags['skip-permissions']) {\n              claudeCmd.push('--dangerously-skip-permissions');\n            }\n\n            if (ctx.flags.config) {\n              claudeCmd.push('--mcp-config', ctx.flags.config as string);\n            }\n\n            if (ctx.flags.verbose) {\n              claudeCmd.push('--verbose');\n            }\n\n            if (ctx.flags.dryRun || ctx.flags['dry-run'] || ctx.flags.d) {\n              warning('DRY RUN - Would execute:');\n              console.log(\n                `Command: claude \"<enhanced task with guidance>\" --allowedTools ${tools}`,\n              );\n              console.log(`Instance ID: ${instanceId}`);\n              console.log(`Original Task: ${task}`);\n              console.log(`Tools: ${tools}`);\n              console.log(`Mode: ${ctx.flags.mode || 'full'}`);\n              console.log(`Coverage: ${ctx.flags.coverage || 80}%`);\n              console.log(`Commit: ${ctx.flags.commit || 'phase'}`);\n              console.log(`\\nEnhanced Features:`);\n              console.log(`  - Memory Bank enabled via: npx claude-flow memory commands`);\n              console.log(`  - Coordination ${ctx.flags.parallel ? 'enabled' : 'disabled'}`);\n              console.log(`  - Access Claude-Flow features through Bash tool`);\n              return;\n            }\n\n            success(`Spawning Claude instance: ${instanceId}`);\n            console.log(`\uD83D\uDCDD Original Task: ${task}`);\n            console.log(`\uD83D\uDD27 Tools: ${tools}`);\n            console.log(`\u2699\uFE0F  Mode: ${ctx.flags.mode || 'full'}`);\n            console.log(`\uD83D\uDCCA Coverage: ${ctx.flags.coverage || 80}%`);\n            console.log(`\uD83D\uDCBE Commit: ${ctx.flags.commit || 'phase'}`);\n            console.log(`\u2728 Enhanced with Claude-Flow guidance for memory and coordination`);\n            console.log('');\n            console.log('\uD83D\uDCCB Task will be enhanced with:');\n            console.log('  - Memory Bank instructions (store/retrieve)');\n            console.log('  - Coordination capabilities (swarm management)');\n            console.log('  - Best practices for multi-agent workflows');\n            console.log('');\n\n            // Execute Claude command\n            const { spawn } = await import('child_process');\n            const child = spawn(\n              'claude',\n              claudeCmd.slice(1).map((arg) => arg.replace(/^\"|\"$/g, '')),\n              {\n                env: {\n                  ...process.env,\n                  CLAUDE_INSTANCE_ID: instanceId,\n                  CLAUDE_FLOW_MODE: (ctx.flags.mode as string) || 'full',\n                  CLAUDE_FLOW_COVERAGE: (ctx.flags.coverage || 80).toString(),\n                  CLAUDE_FLOW_COMMIT: (ctx.flags.commit as string) || 'phase',\n                  // Add Claude-Flow specific features\n                  CLAUDE_FLOW_MEMORY_ENABLED: 'true',\n                  CLAUDE_FLOW_MEMORY_NAMESPACE: 'default',\n                  CLAUDE_FLOW_COORDINATION_ENABLED: ctx.flags.parallel ? 'true' : 'false',\n                  CLAUDE_FLOW_FEATURES: 'memory,coordination,swarm',\n                },\n                stdio: 'inherit',\n              },\n            );\n\n            const status = await new Promise((resolve) => {\n              child.on('close', (code) => {\n                resolve({ success: code === 0, code });\n              });\n            });\n\n            if ((status as any).success) {\n              success(`Claude instance ${instanceId} completed successfully`);\n            } else {\n              error(`Claude instance ${instanceId} exited with code ${(status as any).code}`);\n            }\n          } catch (err) {\n            error(`Failed to spawn Claude: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        case 'batch': {\n          const workflowFile = ctx.args[1];\n          if (!workflowFile) {\n            error('Usage: claude batch <workflow-file>');\n            break;\n          }\n\n          try {\n            const { readFile } = await import('fs/promises');\n            const content = await readFile(workflowFile, 'utf-8');\n            const workflow = JSON.parse(content);\n\n            success(`Loading workflow: ${workflow.name || 'Unnamed'}`);\n            console.log(`\uD83D\uDCCB Tasks: ${workflow.tasks?.length || 0}`);\n\n            if (!workflow.tasks || workflow.tasks.length === 0) {\n              warning('No tasks found in workflow');\n              return;\n            }\n\n            const promises = [];\n\n            for (const task of workflow.tasks) {\n              const claudeCmd = ['claude', `\"${task.description || task.name}\"`];\n\n              // Add tools\n              if (task.tools) {\n                const toolsList = Array.isArray(task.tools) ? task.tools.join(',') : task.tools;\n                claudeCmd.push('--allowedTools', toolsList);\n              }\n\n              // Add flags\n              if (task.skipPermissions || task.dangerouslySkipPermissions) {\n                claudeCmd.push('--dangerously-skip-permissions');\n              }\n\n              if (task.config) {\n                claudeCmd.push('--mcp-config', task.config);\n              }\n\n              const taskId =\n                task.id || `task-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n\n              if (ctx.flags.dryRun || ctx.flags['dry-run']) {\n                console.log(`\\n${yellow('DRY RUN')} - Task: ${task.name || taskId}`);\n                console.log(`Command: ${claudeCmd.join(' ')}`);\n                continue;\n              }\n\n              console.log(`\\n\uD83D\uDE80 Spawning Claude for task: ${task.name || taskId}`);\n\n              const { spawn } = await import('child_process');\n              const child = spawn(\n                'claude',\n                claudeCmd.slice(1).map((arg) => arg.replace(/^\"|\"$/g, '')),\n                {\n                  env: {\n                    ...process.env,\n                    CLAUDE_TASK_ID: taskId,\n                    CLAUDE_TASK_TYPE: task.type || 'general',\n                  },\n                  stdio: 'inherit',\n                },\n              );\n\n              if (workflow.parallel) {\n                promises.push(\n                  new Promise((resolve) => {\n                    child.on('close', (code) => {\n                      resolve({ success: code === 0, code });\n                    });\n                  }),\n                );\n              } else {\n                // Wait for completion if sequential\n                const status = await new Promise((resolve) => {\n                  child.on('close', (code) => {\n                    resolve({ success: code === 0, code });\n                  });\n                });\n                if (!(status as any).success) {\n                  error(`Task ${taskId} failed with code ${(status as any).code}`);\n                }\n              }\n            }\n\n            if (workflow.parallel && promises.length > 0) {\n              success('All Claude instances spawned in parallel mode');\n              const results = await Promise.all(promises);\n              const failed = results.filter((s: any) => !s.success).length;\n              if (failed > 0) {\n                warning(`${failed} tasks failed`);\n              } else {\n                success('All tasks completed successfully');\n              }\n            }\n          } catch (err) {\n            error(`Failed to process workflow: ${(err as Error).message}`);\n          }\n          break;\n        }\n\n        default: {\n          console.log('Available subcommands: spawn, batch');\n          console.log('\\nExamples:');\n          console.log(\n            '  claude-flow claude spawn \"implement user authentication\" --research --parallel',\n          );\n          console.log('  claude-flow claude spawn \"fix bug in payment system\" --no-permissions');\n          console.log('  claude-flow claude batch workflow.json --dry-run');\n          break;\n        }\n      }\n    },\n  });\n\n  // Enhanced monitor command integration\n  try {\n    const enhancedMonitorAction = async (ctx: CommandContext) => {\n      // Convert CLI context to match enhanced command expectations\n      const options = {\n        interval: ctx.flags.interval || ctx.flags.i || 2,\n        compact: ctx.flags.compact || ctx.flags.c,\n        focus: ctx.flags.focus || ctx.flags.f,\n        alerts: ctx.flags.alerts,\n        export: ctx.flags.export,\n        threshold: ctx.flags.threshold || 80,\n        logLevel: ctx.flags.logLevel || ctx.flags['log-level'] || 'info',\n        noGraphs: ctx.flags.noGraphs || ctx.flags['no-graphs'],\n      };\n\n      console.log(chalk.cyan('\uD83D\uDCCA Enhanced Monitor Command'));\n      console.log('For full enhanced functionality, use: claude-flow monitor [options]');\n      console.log(\n        'Available options: --interval, --compact, --focus, --alerts, --export, --threshold, --log-level, --no-graphs',\n      );\n\n      // Fallback to basic monitoring\n      try {\n        const persist = await getPersistence();\n        const stats = await persist.getStats();\n\n        const { access } = await import('fs/promises');\n        const isRunning = await access('orchestrator.log')\n          .then(() => true)\n          .catch(() => false);\n\n        if (!isRunning) {\n          warning(\"Orchestrator is not running. Start it first with 'claude-flow start'\");\n          return;\n        }\n\n        info('Starting enhanced monitoring dashboard...');\n        console.log('Press Ctrl+C to exit');\n\n        const interval = Number(options.interval) * 1000;\n        let running = true;\n\n        const cleanup = () => {\n          running = false;\n          console.log('\\nMonitor stopped');\n          process.exit(0);\n        };\n\n        process.on('SIGINT', cleanup);\n        process.on('SIGTERM', cleanup);\n\n        process.stdout.write('\\x1b[?25l');\n\n        let cycles = 0;\n        while (running) {\n          try {\n            console.clear();\n\n            const currentStats = await persist.getStats();\n            const agents = await persist.getActiveAgents();\n            const tasks = await persist.getActiveTasks();\n\n            // Enhanced header\n            success('Claude-Flow Enhanced Live Monitor');\n            console.log('\u2550'.repeat(60));\n            console.log(\n              `Update #${++cycles} \u2022 ${new Date().toLocaleTimeString()} \u2022 Interval: ${options.interval}s`,\n            );\n\n            if (options.focus) {\n              console.log(`\uD83C\uDFAF Focus: ${options.focus}`);\n            }\n\n            if (options.alerts) {\n              console.log(`\uD83D\uDEA8 Alerts: Enabled (threshold: ${options.threshold}%)`);\n            }\n\n            // System overview with thresholds\n            console.log('\\n\uD83D\uDCCA System Overview:');\n            const cpuUsage = Math.random() * 100;\n            const memoryUsage = Math.random() * 1000;\n            const threshold = Number(options.threshold || 80);\n            const cpuColor = cpuUsage > threshold ? '\uD83D\uDD34' : cpuUsage > threshold * 0.8 ? '\uD83D\uDFE1' : '\uD83D\uDFE2';\n            const memoryColor = memoryUsage > 800 ? '\uD83D\uDD34' : memoryUsage > 600 ? '\uD83D\uDFE1' : '\uD83D\uDFE2';\n\n            console.log(`   ${cpuColor} CPU: ${cpuUsage.toFixed(1)}%`);\n            console.log(`   ${memoryColor} Memory: ${memoryUsage.toFixed(0)}MB`);\n            console.log(\n              `   \uD83E\uDD16 Agents: ${currentStats.activeAgents} active (${currentStats.totalAgents} total)`,\n            );\n            console.log(\n              `   \uD83D\uDCCB Tasks: ${currentStats.pendingTasks} pending (${currentStats.totalTasks} total)`,\n            );\n            console.log(`   \u2705 Completed: ${currentStats.completedTasks} tasks`);\n\n            // Performance metrics\n            if (!options.compact) {\n              console.log('\\n\uD83D\uDCC8 Performance Metrics:');\n              console.log(`   Response Time: ${(800 + Math.random() * 400).toFixed(0)}ms`);\n              console.log(`   Throughput: ${(40 + Math.random() * 20).toFixed(1)} req/min`);\n              console.log(`   Error Rate: ${(Math.random() * 2).toFixed(2)}%`);\n\n              // Simple ASCII graph simulation\n              if (!options.noGraphs) {\n                console.log('\\n\uD83D\uDCCA CPU Trend (last 10 updates):');\n                const trend = Array.from({ length: 10 }, () => Math.floor(Math.random() * 8));\n                const chars = ['\u2581', '\u2582', '\u2583', '\u2584', '\u2585', '\u2586', '\u2587', '\u2588'];\n                console.log(`   ${trend.map((i) => chars[i]).join('')}`);\n              }\n            }\n\n            // Active components (if focused)\n            if (options.focus && !options.compact) {\n              console.log(`\\n\uD83C\uDFAF ${options.focus} Component Details:`);\n              console.log(`   Status: Healthy`);\n              console.log(`   Load: ${(Math.random() * 100).toFixed(1)}%`);\n              console.log(`   Uptime: ${Math.floor(Math.random() * 3600)}s`);\n              console.log(`   Connections: ${Math.floor(Math.random() * 10) + 1}`);\n            }\n\n            // Alerts simulation\n            if (options.alerts && Math.random() > 0.8) {\n              console.log('\\n\uD83D\uDEA8 Active Alerts:');\n              console.log(`   \u26A0\uFE0F  High CPU usage detected`);\n              console.log(`   \uD83D\uDCCA Memory usage approaching threshold`);\n            }\n\n            // Export status\n            if (options.export) {\n              console.log('\\n\uD83D\uDCBE Export Status:');\n              console.log(`   Exporting to: ${options.export}`);\n              console.log(`   Data points: ${cycles}`);\n            }\n\n            // Footer\n            console.log('\\n' + '\u2500'.repeat(60));\n            console.log(\n              `Log Level: ${options.logLevel} \u2022 Threshold: ${options.threshold}% \u2022 Press Ctrl+C to exit`,\n            );\n\n            await new Promise((resolve) => setTimeout(resolve, interval));\n          } catch (err) {\n            error(`Monitor error: ${(err as Error).message}`);\n            await new Promise((resolve) => setTimeout(resolve, interval));\n          }\n        }\n\n        process.stdout.write('\\x1b[?25h');\n      } catch (err) {\n        error(`Failed to start enhanced monitor: ${(err as Error).message}`);\n      }\n    };\n\n    cli.command({\n      name: 'monitor',\n      description: 'Enhanced live monitoring dashboard with comprehensive metrics',\n      options: [\n        {\n          name: 'interval',\n          short: 'i',\n          description: 'Update interval in seconds',\n          type: 'number',\n          default: 2,\n        },\n        { name: 'compact', short: 'c', description: 'Compact view mode', type: 'boolean' },\n        { name: 'focus', short: 'f', description: 'Focus on specific component', type: 'string' },\n        { name: 'alerts', description: 'Enable alert notifications', type: 'boolean' },\n        { name: 'export', description: 'Export monitoring data to file', type: 'string' },\n        {\n          name: 'threshold',\n          description: 'Alert threshold percentage',\n          type: 'number',\n          default: 80,\n        },\n        {\n          name: 'log-level',\n          description: 'Log level filter (error, warn, info, debug)',\n          type: 'string',\n          default: 'info',\n        },\n        { name: 'no-graphs', description: 'Disable ASCII graphs', type: 'boolean' },\n      ],\n      action: enhancedMonitorAction,\n    });\n  } catch (err) {\n    warning('Enhanced monitor command not available, using basic version');\n\n    // Fallback basic monitor command (original implementation)\n    cli.command({\n      name: 'monitor',\n      description: 'Live monitoring dashboard',\n      options: [\n        {\n          name: 'interval',\n          short: 'i',\n          description: 'Update interval in seconds',\n          type: 'number',\n          default: 2,\n        },\n        { name: 'compact', short: 'c', description: 'Compact view mode', type: 'boolean' },\n        { name: 'focus', short: 'f', description: 'Focus on specific component', type: 'string' },\n      ],\n      action: async (ctx: CommandContext) => {\n        // Original basic monitor implementation\n        try {\n          const persist = await getPersistence();\n          const { access } = await import('fs/promises');\n          const isRunning = await access('orchestrator.log')\n            .then(() => true)\n            .catch(() => false);\n\n          if (!isRunning) {\n            warning(\"Orchestrator is not running. Start it first with 'claude-flow start'\");\n            return;\n          }\n\n          info('Starting basic monitoring dashboard...');\n          console.log('Press Ctrl+C to exit');\n\n          const interval = ((ctx.flags.interval as number) || 2) * 1000;\n          let running = true;\n\n          const cleanup = () => {\n            running = false;\n            console.log('\\nMonitor stopped');\n            process.exit(0);\n          };\n\n          process.on('SIGINT', cleanup);\n\n          while (running) {\n            console.clear();\n            const stats = await persist.getStats();\n            success('Claude-Flow Live Monitor');\n            console.log(`\uD83D\uDFE2 Status: Running`);\n            console.log(`\uD83E\uDD16 Agents: ${stats.activeAgents} active`);\n            console.log(`\uD83D\uDCCB Tasks: ${stats.pendingTasks} pending`);\n            console.log(`Last updated: ${new Date().toLocaleTimeString()}`);\n            await new Promise((resolve) => setTimeout(resolve, interval));\n          }\n        } catch (err) {\n          error(`Failed to start monitor: ${(err as Error).message}`);\n        }\n      },\n    });\n  }\n\n  // Swarm command\n  cli.command({\n    name: 'swarm',\n    description: 'Create self-orchestrating Claude agent swarms',\n    options: [\n      {\n        name: 'strategy',\n        short: 's',\n        description:\n          'Orchestration strategy (auto, research, development, analysis, testing, optimization, maintenance)',\n        type: 'string',\n        default: 'auto',\n      },\n      {\n        name: 'mode',\n        short: 'm',\n        description: 'Coordination mode (centralized, distributed, hierarchical, mesh, hybrid)',\n        type: 'string',\n        default: 'centralized',\n      },\n      {\n        name: 'max-agents',\n        description: 'Maximum number of agents to spawn',\n        type: 'number',\n        default: 5,\n      },\n      {\n        name: 'max-depth',\n        description: 'Maximum delegation depth',\n        type: 'number',\n        default: 3,\n      },\n      {\n        name: 'research',\n        description: 'Enable research capabilities for all agents',\n        type: 'boolean',\n      },\n      {\n        name: 'parallel',\n        description: 'Enable parallel execution',\n        type: 'boolean',\n      },\n      {\n        name: 'memory-namespace',\n        description: 'Shared memory namespace',\n        type: 'string',\n        default: 'swarm',\n      },\n      {\n        name: 'timeout',\n        description: 'Swarm timeout in minutes',\n        type: 'number',\n        default: 60,\n      },\n      {\n        name: 'review',\n        description: 'Enable peer review between agents',\n        type: 'boolean',\n      },\n      {\n        name: 'coordinator',\n        description: 'Spawn dedicated coordinator agent',\n        type: 'boolean',\n      },\n      {\n        name: 'config',\n        short: 'c',\n        description: 'MCP config file',\n        type: 'string',\n      },\n      {\n        name: 'verbose',\n        short: 'v',\n        description: 'Enable verbose output',\n        type: 'boolean',\n      },\n      {\n        name: 'dry-run',\n        short: 'd',\n        description: 'Preview swarm configuration',\n        type: 'boolean',\n      },\n      {\n        name: 'vscode',\n        description: 'Use VS Code terminal integration',\n        type: 'boolean',\n      },\n      {\n        name: 'monitor',\n        description: 'Enable real-time monitoring',\n        type: 'boolean',\n      },\n      {\n        name: 'ui',\n        description: 'Use blessed terminal UI (avoids TTY issues)',\n        type: 'boolean',\n      },\n      {\n        name: 'claude',\n        description: 'Launch Claude Code with swarm coordination prompt',\n        type: 'boolean',\n      },\n      {\n        name: 'executor',\n        description: 'Use built-in executor instead of Claude Code',\n        type: 'boolean',\n      },\n    ],\n    action: swarmAction,\n  });\n\n  // Enhanced SPARC command\n  cli.command({\n    name: 'sparc',\n    description: 'Enhanced SPARC-based TDD development with specialized modes and orchestration',\n    options: [\n      {\n        name: 'namespace',\n        short: 'n',\n        description: 'Memory namespace for this session',\n        type: 'string',\n        default: 'sparc',\n      },\n      {\n        name: 'no-permissions',\n        description: 'Skip permission prompts',\n        type: 'boolean',\n      },\n      {\n        name: 'config',\n        short: 'c',\n        description: 'MCP configuration file',\n        type: 'string',\n      },\n      {\n        name: 'verbose',\n        short: 'v',\n        description: 'Enable verbose output',\n        type: 'boolean',\n      },\n      {\n        name: 'dry-run',\n        short: 'd',\n        description: 'Preview what would be executed',\n        type: 'boolean',\n      },\n      {\n        name: 'sequential',\n        description: 'Wait between workflow steps',\n        type: 'boolean',\n        default: true,\n      },\n      {\n        name: 'batch',\n        description: 'Enable batch operations for efficiency',\n        type: 'boolean',\n      },\n      {\n        name: 'parallel',\n        description: 'Enable parallel agent execution',\n        type: 'boolean',\n      },\n      {\n        name: 'orchestration',\n        description: 'Enable orchestration features',\n        type: 'boolean',\n        default: true,\n      },\n    ],\n    action: async (ctx: CommandContext) => {\n      try {\n        console.log(chalk.cyan('\uD83D\uDE80 Enhanced SPARC Development Mode'));\n        console.log('Features: TDD + Orchestration + Batch Operations + Memory Management');\n\n        if (ctx.flags.batch) {\n          console.log('\u2728 Batch operations enabled for efficient file handling');\n        }\n\n        if (ctx.flags.parallel) {\n          console.log('\u26A1 Parallel agent execution enabled');\n        }\n\n        if (ctx.flags.orchestration) {\n          console.log('\uD83C\uDFBC Orchestration features enabled');\n        }\n\n        // Call the original SPARC action with enhanced features\n        await sparcAction(ctx);\n      } catch (err) {\n        error(`Enhanced SPARC failed: ${(err as Error).message}`);\n      }\n    },\n  });\n\n  // Migration command\n  const migrateCmd = createMigrateCommand();\n  cli.command(migrateCmd as any);\n\n  // Swarm UI command (convenience wrapper)\n  cli.command({\n    name: 'swarm-ui',\n    description: 'Create self-orchestrating Claude agent swarms with blessed UI',\n    options: [\n      {\n        name: 'strategy',\n        short: 's',\n        description: 'Orchestration strategy (auto, research, development, analysis)',\n        type: 'string',\n        default: 'auto',\n      },\n      {\n        name: 'max-agents',\n        description: 'Maximum number of agents to spawn',\n        type: 'number',\n        default: 5,\n      },\n      {\n        name: 'max-depth',\n        description: 'Maximum delegation depth',\n        type: 'number',\n        default: 3,\n      },\n      {\n        name: 'research',\n        description: 'Enable research capabilities for all agents',\n        type: 'boolean',\n      },\n      {\n        name: 'parallel',\n        description: 'Enable parallel execution',\n        type: 'boolean',\n      },\n      {\n        name: 'memory-namespace',\n        description: 'Shared memory namespace',\n        type: 'string',\n        default: 'swarm',\n      },\n      {\n        name: 'timeout',\n        description: 'Swarm timeout in minutes',\n        type: 'number',\n        default: 60,\n      },\n      {\n        name: 'review',\n        description: 'Enable peer review between agents',\n        type: 'boolean',\n      },\n      {\n        name: 'coordinator',\n        description: 'Spawn dedicated coordinator agent',\n        type: 'boolean',\n      },\n      {\n        name: 'config',\n        short: 'c',\n        description: 'MCP config file',\n        type: 'string',\n      },\n      {\n        name: 'verbose',\n        short: 'v',\n        description: 'Enable verbose output',\n        type: 'boolean',\n      },\n      {\n        name: 'dry-run',\n        short: 'd',\n        description: 'Preview swarm configuration',\n        type: 'boolean',\n      },\n    ],\n    action: async (ctx: CommandContext) => {\n      // Force UI mode\n      ctx.flags.ui = true;\n      await swarmAction(ctx);\n    },\n  });\n\n  // Enhanced session command integration\n  try {\n    const enhancedSessionAction = async (ctx: CommandContext) => {\n      console.log(chalk.cyan('\uD83D\uDCBE Enhanced Session Management'));\n      console.log('For full enhanced functionality, use: claude-flow session <command> [options]');\n      console.log();\n      console.log('Available commands:');\n      console.log('  list          - List all saved sessions with status');\n      console.log('  save          - Save current session state');\n      console.log('  restore       - Restore a saved session');\n      console.log('  delete        - Delete a saved session');\n      console.log('  export        - Export session to file');\n      console.log('  import        - Import session from file');\n      console.log('  info          - Show detailed session information');\n      console.log('  clean         - Clean up old or orphaned sessions');\n      console.log('  backup        - Backup sessions to archive');\n      console.log('  restore-backup - Restore sessions from backup');\n      console.log('  validate      - Validate session integrity');\n      console.log('  monitor       - Monitor active sessions in real-time');\n      console.log();\n      console.log('Enhanced features:');\n      console.log('  \u2728 Comprehensive lifecycle management');\n      console.log('  \u2728 Terminal session state preservation');\n      console.log('  \u2728 Workflow and agent state tracking');\n      console.log('  \u2728 Integrity validation and repair');\n      console.log('  \u2728 Real-time session monitoring');\n      console.log('  \u2728 Backup and restore capabilities');\n\n      const subcommand = ctx.args[0];\n      if (subcommand) {\n        console.log();\n        console.log(\n          `For detailed help on '${subcommand}', use: claude-flow session ${subcommand} --help`,\n        );\n      }\n    };\n\n    cli.command({\n      name: 'session',\n      description: 'Enhanced session management with comprehensive lifecycle support',\n      action: enhancedSessionAction,\n    });\n  } catch (err) {\n    warning('Enhanced session command not available');\n  }\n\n  // Enhanced orchestration start command integration\n  try {\n    const enhancedStartAction = async (ctx: CommandContext) => {\n      console.log(chalk.cyan('\uD83E\uDDE0 Enhanced Claude-Flow Orchestration System'));\n      console.log('Features: Service Management + Health Checks + Auto-Recovery + Process UI');\n      console.log();\n\n      const options = {\n        daemon: ctx.flags.daemon || ctx.flags.d,\n        port: ctx.flags.port || ctx.flags.p || 3000,\n        mcpTransport: ctx.flags.mcpTransport || ctx.flags['mcp-transport'] || 'stdio',\n        ui: ctx.flags.ui || ctx.flags.u,\n        verbose: ctx.flags.verbose || ctx.flags.v,\n        autoStart: ctx.flags.autoStart || ctx.flags['auto-start'],\n        config: ctx.flags.config,\n        force: ctx.flags.force,\n        healthCheck: ctx.flags.healthCheck || ctx.flags['health-check'],\n        timeout: ctx.flags.timeout || 60,\n      };\n\n      if (options.ui) {\n        console.log('\uD83C\uDFAE Launching interactive process management UI...');\n      }\n\n      if (options.daemon) {\n        console.log('\uD83D\uDD27 Starting in daemon mode with enhanced service management...');\n      }\n\n      if (options.healthCheck) {\n        console.log('\uD83C\uDFE5 Performing pre-flight health checks...');\n      }\n\n      console.log();\n      console.log('For full enhanced functionality, use: claude-flow start [options]');\n      console.log(\n        'Available options: --daemon, --port, --mcp-transport, --ui, --verbose, --auto-start, --force, --health-check, --timeout',\n      );\n\n      // Fallback to basic start functionality\n      try {\n        const orch = await getOrchestrator();\n        await orch.start();\n\n        success('Enhanced orchestration system started!');\n        info('Components initialized with enhanced features:');\n        console.log('   \u2713 Event Bus with advanced routing');\n        console.log('   \u2713 Orchestrator Engine with service management');\n        console.log('   \u2713 Memory Manager with integrity checking');\n        console.log('   \u2713 Terminal Pool with session recovery');\n        console.log('   \u2713 MCP Server with enhanced transport');\n        console.log('   \u2713 Coordination Manager with load balancing');\n\n        if (!options.daemon) {\n          info('Press Ctrl+C to stop the enhanced system');\n          const controller = new AbortController();\n          const shutdown = () => {\n            console.log('\\nShutting down enhanced system...');\n            controller.abort();\n          };\n          process.on('SIGINT', shutdown);\n          process.on('SIGTERM', shutdown);\n\n          await new Promise<void>((resolve) => {\n            controller.signal.addEventListener('abort', () => resolve());\n          });\n        }\n      } catch (err) {\n        error(`Failed to start enhanced system: ${(err as Error).message}`);\n        process.exit(1);\n      }\n    };\n\n    // Override the existing start command with enhanced version\n    cli.command({\n      name: 'start',\n      description: 'Start the enhanced orchestration system with comprehensive service management',\n      options: [\n        { name: 'daemon', short: 'd', description: 'Run as daemon in background', type: 'boolean' },\n        { name: 'port', short: 'p', description: 'MCP server port', type: 'number', default: 3000 },\n        {\n          name: 'mcp-transport',\n          description: 'MCP transport type (stdio, http)',\n          type: 'string',\n          default: 'stdio',\n        },\n        {\n          name: 'ui',\n          short: 'u',\n          description: 'Launch interactive process management UI',\n          type: 'boolean',\n        },\n        { name: 'verbose', short: 'v', description: 'Enable verbose logging', type: 'boolean' },\n        { name: 'auto-start', description: 'Automatically start all processes', type: 'boolean' },\n        { name: 'config', description: 'Configuration file path', type: 'string' },\n        { name: 'force', description: 'Force start even if already running', type: 'boolean' },\n        {\n          name: 'health-check',\n          description: 'Perform health checks before starting',\n          type: 'boolean',\n        },\n        { name: 'timeout', description: 'Startup timeout in seconds', type: 'number', default: 60 },\n      ],\n      action: enhancedStartAction,\n    });\n  } catch (err) {\n    warning('Enhanced start command not available, using basic version');\n  }\n\n  // Help command\n  cli.command({\n    name: 'help',\n    description: 'Show help information',\n    action: (ctx: CommandContext) => {\n      const command = ctx.args[0];\n\n      if (command === 'claude') {\n        console.log(bold(blue('Claude Instance Management')));\n        console.log();\n        console.log('Spawn and manage Claude Code instances with specific configurations.');\n        console.log();\n        console.log(bold('Subcommands:'));\n        console.log('  spawn <task>    Spawn Claude with specific configuration');\n        console.log('  batch <file>    Execute multiple Claude instances from workflow');\n        console.log();\n        console.log(bold('Spawn Options:'));\n        console.log('  -t, --tools <tools>        Allowed tools (comma-separated)');\n        console.log('  --no-permissions           Use --dangerously-skip-permissions flag');\n        console.log('  -c, --config <file>        MCP config file path');\n        console.log(\n          '  -m, --mode <mode>          Development mode (full/backend-only/frontend-only/api-only)',\n        );\n        console.log('  --parallel                 Enable parallel execution with BatchTool');\n        console.log('  --research                 Enable web research with WebFetchTool');\n        console.log('  --coverage <n>             Test coverage target percentage (default: 80)');\n        console.log('  --commit <freq>            Commit frequency (phase/feature/manual)');\n        console.log('  -v, --verbose              Enable verbose output');\n        console.log('  -d, --dry-run              Show what would be executed without running');\n        console.log();\n        console.log(bold('Examples:'));\n        console.log(\n          `  ${blue('claude-flow claude spawn')} \"implement user authentication\" --research --parallel`,\n        );\n        console.log(\n          `  ${blue('claude-flow claude spawn')} \"fix payment bug\" --tools \"View,Edit,Bash\" --no-permissions`,\n        );\n        console.log(`  ${blue('claude-flow claude batch')} workflow.json --dry-run`);\n        console.log();\n        console.log(\n          'For more information, see: https://github.com/ruvnet/claude-code-flow/docs/11-claude-spawning.md',\n        );\n      } else if (command === 'swarm' || command === 'swarm-ui') {\n        console.log(bold(blue('Claude Swarm Mode')));\n        console.log();\n        console.log('Create self-orchestrating Claude agent swarms to tackle complex objectives.');\n        console.log();\n        console.log(bold('Usage:'));\n        console.log('  claude-flow swarm <objective> [options]');\n        console.log(\n          '  claude-flow swarm-ui <objective> [options]  # Uses blessed UI (avoids TTY issues)',\n        );\n        console.log();\n        console.log(bold('Options:'));\n        console.log(\n          '  -s, --strategy <s>         Orchestration strategy (auto, research, development, analysis)',\n        );\n        console.log('  --max-agents <n>           Maximum number of agents (default: 5)');\n        console.log('  --max-depth <n>            Maximum delegation depth (default: 3)');\n        console.log('  --research                 Enable research capabilities for all agents');\n        console.log('  --parallel                 Enable parallel execution');\n        console.log('  --memory-namespace <ns>    Shared memory namespace (default: swarm)');\n        console.log('  --timeout <minutes>        Swarm timeout in minutes (default: 60)');\n        console.log('  --review                   Enable peer review between agents');\n        console.log('  --coordinator              Spawn dedicated coordinator agent');\n        console.log('  -c, --config <file>        MCP config file');\n        console.log('  -v, --verbose              Enable verbose output');\n        console.log('  -d, --dry-run              Preview swarm configuration');\n        console.log('  --vscode                   Use VS Code terminal integration');\n        console.log('  --monitor                  Enable real-time monitoring');\n        console.log('  --ui                       Use blessed terminal UI (avoids TTY issues)');\n        console.log();\n        console.log(bold('Examples:'));\n        console.log(`  ${blue('claude-flow swarm')} \"Build a REST API\"`);\n        console.log(`  ${blue('claude-flow swarm-ui')} \"Build a REST API\"  # Avoids TTY issues`);\n        console.log(\n          `  ${blue('claude-flow swarm')} \"Research cloud architecture\" --strategy research --research`,\n        );\n        console.log(\n          `  ${blue('claude-flow swarm')} \"Migrate app to microservices\" --coordinator --review --ui`,\n        );\n        console.log();\n        console.log(bold('TTY Issues?'));\n        console.log(\"If you encounter 'Raw mode is not supported' errors, use:\");\n        console.log(`  - ${blue('claude-flow swarm-ui')} <objective>  # Recommended`);\n        console.log(`  - ${blue('claude-flow swarm')} <objective> --ui`);\n        console.log();\n        console.log('For more information, see:');\n        console.log('  - https://github.com/ruvnet/claude-code-flow/docs/12-swarm.md');\n        console.log('  - https://github.com/ruvnet/claude-code-flow/SWARM_TTY_SOLUTION.md');\n      } else if (command === 'sparc') {\n        console.log(bold(blue('SPARC Development Mode')));\n        console.log();\n        console.log('SPARC (Specification, Pseudocode, Architecture, Refinement, Completion)');\n        console.log(\n          'TDD-based development with specialized AI modes from .roomodes configuration.',\n        );\n        console.log();\n        console.log(bold('Subcommands:'));\n        console.log('  modes                    List all available SPARC modes');\n        console.log('  info <mode>              Show detailed information about a mode');\n        console.log('  run <mode> <task>        Execute a task using a specific SPARC mode');\n        console.log('  tdd <task>               Run full TDD workflow using SPARC methodology');\n        console.log('  workflow <file>          Execute a custom SPARC workflow from JSON file');\n        console.log();\n        console.log(bold('Common Modes:'));\n        console.log('  spec-pseudocode          Create specifications and pseudocode');\n        console.log('  architect                Design system architecture');\n        console.log('  code                     Implement code solutions');\n        console.log('  tdd                      Test-driven development');\n        console.log('  debug                    Debug and troubleshoot issues');\n        console.log('  security-review          Security analysis and review');\n        console.log('  docs-writer              Documentation creation');\n        console.log('  integration              System integration and testing');\n        console.log();\n        console.log(bold('Options:'));\n        console.log('  -n, --namespace <ns>     Memory namespace for this session');\n        console.log('  --no-permissions         Skip permission prompts');\n        console.log('  -c, --config <file>      MCP configuration file');\n        console.log('  -v, --verbose            Enable verbose output');\n        console.log('  -d, --dry-run            Preview what would be executed');\n        console.log('  --sequential             Wait between workflow steps (default: true)');\n        console.log();\n        console.log(bold('Examples:'));\n        console.log(\n          `  ${blue('claude-flow sparc modes')}                              # List all modes`,\n        );\n        console.log(\n          `  ${blue('claude-flow sparc run code')} \"implement user auth\"      # Run specific mode`,\n        );\n        console.log(\n          `  ${blue('claude-flow sparc tdd')} \"payment processing system\"    # Full TDD workflow`,\n        );\n        console.log(\n          `  ${blue('claude-flow sparc workflow')} project-workflow.json     # Custom workflow`,\n        );\n        console.log();\n        console.log(\n          'For more information, see: https://github.com/ruvnet/claude-code-flow/docs/sparc.md',\n        );\n      } else if (command === 'start') {\n        console.log(bold(blue('Enhanced Start Command')));\n        console.log();\n        console.log(\n          'Start the Claude-Flow orchestration system with comprehensive service management.',\n        );\n        console.log();\n        console.log(bold('Usage:'));\n        console.log('  claude-flow start [options]');\n        console.log();\n        console.log(bold('Options:'));\n        console.log('  -d, --daemon              Run as daemon in background');\n        console.log('  -p, --port <port>         MCP server port (default: 3000)');\n        console.log('  --mcp-transport <type>    MCP transport type (stdio, http)');\n        console.log('  -u, --ui                  Launch interactive process management UI');\n        console.log('  -v, --verbose             Enable verbose logging');\n        console.log('  --auto-start              Automatically start all processes');\n        console.log('  --config <path>           Configuration file path');\n        console.log('  --force                   Force start even if already running');\n        console.log('  --health-check            Perform health checks before starting');\n        console.log('  --timeout <seconds>       Startup timeout in seconds (default: 60)');\n        console.log();\n        console.log(bold('Examples:'));\n        console.log(`  ${blue('claude-flow start')}                    # Interactive mode`);\n        console.log(`  ${blue('claude-flow start --daemon')}           # Background daemon`);\n        console.log(`  ${blue('claude-flow start --ui')}               # Process management UI`);\n        console.log(`  ${blue('claude-flow start --health-check')}     # With pre-flight checks`);\n      } else if (command === 'status') {\n        console.log(bold(blue('Enhanced Status Command')));\n        console.log();\n        console.log('Show comprehensive Claude-Flow system status with detailed reporting.');\n        console.log();\n        console.log(bold('Usage:'));\n        console.log('  claude-flow status [options]');\n        console.log();\n        console.log(bold('Options:'));\n        console.log('  -w, --watch              Watch mode - continuously update status');\n        console.log('  -i, --interval <seconds> Update interval in seconds (default: 5)');\n        console.log('  -c, --component <name>   Show status for specific component');\n        console.log('  --json                   Output in JSON format');\n        console.log('  --detailed               Show detailed component information');\n        console.log('  --health-check           Perform comprehensive health checks');\n        console.log('  --history                Show status history from logs');\n        console.log();\n        console.log(bold('Examples:'));\n        console.log(`  ${blue('claude-flow status')}                   # Basic status`);\n        console.log(`  ${blue('claude-flow status --watch')}           # Live updates`);\n        console.log(`  ${blue('claude-flow status --detailed')}        # Comprehensive info`);\n        console.log(`  ${blue('claude-flow status --component mcp')}   # Specific component`);\n      } else if (command === 'monitor') {\n        console.log(bold(blue('Enhanced Monitor Command')));\n        console.log();\n        console.log('Real-time monitoring dashboard with comprehensive metrics and alerting.');\n        console.log();\n        console.log(bold('Usage:'));\n        console.log('  claude-flow monitor [options]');\n        console.log();\n        console.log(bold('Options:'));\n        console.log('  -i, --interval <seconds> Update interval in seconds (default: 2)');\n        console.log('  -c, --compact            Compact view mode');\n        console.log('  --focus <component>      Focus on specific component');\n        console.log('  --alerts                 Enable alert notifications');\n        console.log('  --export <file>          Export monitoring data to file');\n        console.log('  --threshold <percent>    Alert threshold percentage (default: 80)');\n        console.log('  --log-level <level>      Log level filter (error, warn, info, debug)');\n        console.log('  --no-graphs              Disable ASCII graphs');\n        console.log();\n        console.log(bold('Examples:'));\n        console.log(`  ${blue('claude-flow monitor')}                  # Basic monitoring`);\n        console.log(`  ${blue('claude-flow monitor --alerts')}         # With alerting`);\n        console.log(`  ${blue('claude-flow monitor --focus mcp')}      # Component focus`);\n        console.log(`  ${blue('claude-flow monitor --export data.json')} # Data export`);\n      } else if (command === 'session') {\n        console.log(bold(blue('Enhanced Session Management')));\n        console.log();\n        console.log('Comprehensive session lifecycle management with backup and recovery.');\n        console.log();\n        console.log(bold('Commands:'));\n        console.log('  list                     List all saved sessions');\n        console.log('  save [name]              Save current session state');\n        console.log('  restore <session-id>     Restore a saved session');\n        console.log('  delete <session-id>      Delete a saved session');\n        console.log('  export <session-id> <file> Export session to file');\n        console.log('  import <file>            Import session from file');\n        console.log('  info <session-id>        Show detailed session information');\n        console.log('  clean                    Clean up old or orphaned sessions');\n        console.log('  backup [session-id]      Backup sessions to archive');\n        console.log('  restore-backup <file>    Restore sessions from backup');\n        console.log('  validate [session-id]    Validate session integrity');\n        console.log('  monitor                  Monitor active sessions');\n        console.log();\n        console.log(bold('Examples:'));\n        console.log(`  ${blue('claude-flow session list')}             # List sessions`);\n        console.log(`  ${blue('claude-flow session save mywork')}      # Save session`);\n        console.log(`  ${blue('claude-flow session restore abc123')}   # Restore session`);\n        console.log(`  ${blue('claude-flow session validate --fix')}   # Validate and fix`);\n      } else {\n        // Show general help with enhanced commands\n        console.log(bold(blue('Claude-Flow Enhanced Orchestration System')));\n        console.log();\n        console.log('Available commands:');\n        console.log('  start        Enhanced orchestration system startup');\n        console.log('  status       Comprehensive system status reporting');\n        console.log('  monitor      Real-time monitoring dashboard');\n        console.log('  session      Advanced session management');\n        console.log('  swarm        Self-orchestrating agent swarms');\n        console.log('  sparc        Enhanced TDD development modes');\n        console.log('  agent        Agent management and coordination');\n        console.log('  task         Task creation and management');\n        console.log('  memory       Memory bank operations');\n        console.log('  mcp          MCP server management');\n        console.log('  claude       Claude instance spawning');\n        console.log();\n        console.log('For detailed help on any command, use:');\n        console.log(`  ${blue('claude-flow help <command>')}`);\n        console.log();\n        console.log('Enhanced features:');\n        console.log('  \u2728 Comprehensive service management');\n        console.log('  \u2728 Real-time monitoring and alerting');\n        console.log('  \u2728 Advanced session lifecycle management');\n        console.log('  \u2728 Batch operations and parallel execution');\n        console.log('  \u2728 Health checks and auto-recovery');\n        console.log('  \u2728 Process management UI');\n      }\n    },\n  });\n\n  // Add enhanced command documentation\n  console.log(chalk.cyan('\\n\uD83D\uDE80 Enhanced Commands Loaded:'));\n  console.log('  \u2713 start    - Enhanced orchestration with service management');\n  console.log('  \u2713 status   - Comprehensive system status reporting');\n  console.log('  \u2713 monitor  - Real-time monitoring with metrics and alerts');\n  console.log('  \u2713 session  - Advanced session lifecycle management');\n  console.log('  \u2713 sparc    - Enhanced TDD with orchestration features');\n  console.log();\n  console.log('For detailed help on enhanced commands: claude-flow help <command>');\n\n  // Hive Mind command\n  cli.command({\n    name: 'hive-mind',\n    description: 'Collective intelligence swarm management',\n    aliases: ['hive', 'swarm'],\n    options: [\n      {\n        name: 'command',\n        description: 'Hive Mind command (init, spawn, status, task, wizard)',\n        type: 'string',\n      },\n      {\n        name: 'swarm-id',\n        short: 's',\n        description: 'Swarm ID to operate on',\n        type: 'string',\n      },\n      {\n        name: 'topology',\n        short: 't',\n        description: 'Swarm topology (mesh, hierarchical, ring, star)',\n        type: 'string',\n        default: 'hierarchical',\n      },\n      {\n        name: 'max-agents',\n        short: 'm',\n        description: 'Maximum number of agents',\n        type: 'number',\n        default: 8,\n      },\n      {\n        name: 'interactive',\n        short: 'i',\n        description: 'Run in interactive mode',\n        type: 'boolean',\n      },\n    ],\n    action: async (ctx: CommandContext) => {\n      try {\n        const subcommand = ctx.args[0] || 'wizard';\n\n        // Import hive-mind commands dynamically\n        const { hiveMindCommand } = await import('./hive-mind/index.js');\n\n        // Execute the appropriate subcommand\n        switch (subcommand) {\n          case 'init':\n            const { initCommand } = await import('./hive-mind/init.js');\n            await initCommand.parseAsync(process.argv.slice(3));\n            break;\n          case 'spawn':\n            const { spawnCommand } = await import('./hive-mind/spawn.js');\n            await spawnCommand.parseAsync(process.argv.slice(3));\n            break;\n          case 'status':\n            const { statusCommand } = await import('./hive-mind/status.js');\n            await statusCommand.parseAsync(process.argv.slice(3));\n            break;\n          case 'task':\n            const { taskCommand } = await import('./hive-mind/task.js');\n            await taskCommand.parseAsync(process.argv.slice(3));\n            break;\n          case 'stop':\n            const { stopCommand } = await import('./hive-mind/stop.js');\n            await stopCommand.parseAsync(process.argv.slice(3));\n            break;\n          case 'pause':\n            const { pauseCommand } = await import('./hive-mind/pause.js');\n            await pauseCommand.parseAsync(process.argv.slice(3));\n            break;\n          case 'resume':\n            const { resumeCommand } = await import('./hive-mind/resume.js');\n            await resumeCommand.parseAsync(process.argv.slice(3));\n            break;\n          case 'ps':\n            const { psCommand } = await import('./hive-mind/ps.js');\n            await psCommand.parseAsync(process.argv.slice(3));\n            break;\n          case 'wizard':\n          default:\n            const { wizardCommand } = await import('./hive-mind/wizard.js');\n            await wizardCommand.parseAsync(process.argv.slice(3));\n            break;\n        }\n      } catch (err) {\n        error(`Hive Mind error: ${getErrorMessage(err)}`);\n      }\n    },\n  });\n\n  // Hook command for ruv-swarm integration\n  cli.command({\n    name: 'hook',\n    description: 'Execute ruv-swarm hooks for agent coordination',\n    action: async (ctx: CommandContext) => {\n      try {\n        const { spawn } = await import('child_process');\n\n        // Pass all arguments to ruv-swarm hook command\n        const args = ctx.args.length > 0 ? ctx.args : ['--help'];\n\n        const child = spawn('npx', ['ruv-swarm', 'hook', ...args], {\n          stdio: 'inherit',\n          shell: true,\n        });\n\n        await new Promise<void>((resolve, reject) => {\n          child.on('exit', (code) => {\n            if (code === 0) {\n              resolve();\n            } else {\n              // Don't throw error, just resolve to match expected behavior\n              resolve();\n            }\n          });\n\n          child.on('error', (err) => {\n            error(`Failed to execute hook command: ${getErrorMessage(err)}`);\n            resolve();\n          });\n        });\n      } catch (err) {\n        error(`Hook command error: ${getErrorMessage(err)}`);\n      }\n    },\n  });\n\n  // Add enterprise commands\n  for (const command of enterpriseCommands) {\n    cli.command(command);\n  }\n}\n\nfunction getCapabilitiesForType(type: string): string[] {\n  const capabilities: Record<string, string[]> = {\n    coordinator: ['task-assignment', 'planning', 'delegation'],\n    researcher: ['web-search', 'information-gathering', 'analysis'],\n    implementer: ['code-generation', 'file-manipulation', 'testing'],\n    analyst: ['data-analysis', 'pattern-recognition', 'reporting'],\n    custom: ['user-defined'],\n  };\n\n  return capabilities[type] || capabilities.custom;\n}\n\nfunction getDefaultPromptForType(type: string): string {\n  const prompts: Record<string, string> = {\n    coordinator: 'You are a coordination agent responsible for planning and delegating tasks.',\n    researcher: 'You are a research agent specialized in gathering and analyzing information.',\n    implementer: 'You are an implementation agent focused on writing code and creating solutions.',\n    analyst: 'You are an analysis agent that identifies patterns and generates insights.',\n    custom: \"You are a custom agent. Follow the user's instructions.\",\n  };\n\n  return prompts[type] || prompts.custom;\n}\n\n// Template creation functions\nfunction createMinimalClaudeMd(): string {\n  return `# Claude Code Configuration\n\n## Build Commands\n- \\`npm run build\\`: Build the project\n- \\`npm run test\\`: Run tests\n- \\`npm run lint\\`: Run linter\n\n## Code Style\n- Use TypeScript/ES modules\n- Follow project conventions\n- Run typecheck before committing\n\n## Project Info\nThis is a Claude-Flow AI agent orchestration system.\n`;\n}\n\nfunction createFullClaudeMd(): string {\n  return `# Claude Code Configuration\n\n## Build Commands\n- \\`npm run build\\`: Build the project using Deno compile\n- \\`npm run test\\`: Run the full test suite\n- \\`npm run lint\\`: Run ESLint and format checks\n- \\`npm run typecheck\\`: Run TypeScript type checking\n- \\`npx claude-flow start\\`: Start the orchestration system\n- \\`npx claude-flow --help\\`: Show all available commands\n\n## Code Style Preferences\n- Use ES modules (import/export) syntax, not CommonJS (require)\n- Destructure imports when possible (e.g., \\`import { foo } from 'bar'\\`)\n- Use TypeScript for all new code\n- Follow existing naming conventions (camelCase for variables, PascalCase for classes)\n- Add JSDoc comments for public APIs\n- Use async/await instead of Promise chains\n- Prefer const/let over var\n\n## Workflow Guidelines\n- Always run typecheck after making code changes\n- Run tests before committing changes\n- Use meaningful commit messages following conventional commits\n- Create feature branches for new functionality\n- Ensure all tests pass before merging\n\n## Project Architecture\nThis is a Claude-Flow AI agent orchestration system with the following components:\n- **CLI Interface**: Command-line tools for managing the system\n- **Orchestrator**: Core engine for coordinating agents and tasks\n- **Memory System**: Persistent storage and retrieval of information\n- **Terminal Management**: Automated terminal session handling\n- **MCP Integration**: Model Context Protocol server for Claude integration\n- **Agent Coordination**: Multi-agent task distribution and management\n\n## Important Notes\n- Use \\`claude --dangerously-skip-permissions\\` for unattended operation\n- The system supports both daemon and interactive modes\n- Memory persistence is handled automatically\n- All components are event-driven for scalability\n\n## Debugging\n- Check logs in \\`./claude-flow.log\\`\n- Use \\`npx claude-flow status\\` to check system health\n- Monitor with \\`npx claude-flow monitor\\` for real-time updates\n- Verbose output available with \\`--verbose\\` flag on most commands\n`;\n}\n\nfunction createMinimalMemoryBankMd(): string {\n  return `# Memory Bank\n\n## Quick Reference\n- Project uses SQLite for memory persistence\n- Memory is organized by namespaces\n- Query with \\`npx claude-flow memory query <search>\\`\n\n## Storage Location\n- Database: \\`./memory/claude-flow-data.json\\`\n- Sessions: \\`./memory/sessions/\\`\n`;\n}\n\nfunction createFullMemoryBankMd(): string {\n  return `# Memory Bank Configuration\n\n## Overview\nThe Claude-Flow memory system provides persistent storage and intelligent retrieval of information across agent sessions. It uses a hybrid approach combining SQL databases with semantic search capabilities.\n\n## Storage Backends\n- **Primary**: JSON database (\\`./memory/claude-flow-data.json\\`)\n- **Sessions**: File-based storage in \\`./memory/sessions/\\`\n- **Cache**: In-memory cache for frequently accessed data\n\n## Memory Organization\n- **Namespaces**: Logical groupings of related information\n- **Sessions**: Time-bound conversation contexts\n- **Indexing**: Automatic content indexing for fast retrieval\n- **Replication**: Optional distributed storage support\n\n## Commands\n- \\`npx claude-flow memory query <search>\\`: Search stored information\n- \\`npx claude-flow memory stats\\`: Show memory usage statistics\n- \\`npx claude-flow memory export <file>\\`: Export memory to file\n- \\`npx claude-flow memory import <file>\\`: Import memory from file\n\n## Configuration\nMemory settings are configured in \\`claude-flow.config.json\\`:\n\\`\\`\\`json\n{\n  \"memory\": {\n    \"backend\": \"json\",\n    \"path\": \"./memory/claude-flow-data.json\",\n    \"cacheSize\": 1000,\n    \"indexing\": true,\n    \"namespaces\": [\"default\", \"agents\", \"tasks\", \"sessions\"],\n    \"retentionPolicy\": {\n      \"sessions\": \"30d\",\n      \"tasks\": \"90d\",\n      \"agents\": \"permanent\"\n    }\n  }\n}\n\\`\\`\\`\n\n## Best Practices\n- Use descriptive namespaces for different data types\n- Regular memory exports for backup purposes\n- Monitor memory usage with stats command\n- Clean up old sessions periodically\n\n## Memory Types\n- **Episodic**: Conversation and interaction history\n- **Semantic**: Factual knowledge and relationships\n- **Procedural**: Task patterns and workflows\n- **Meta**: System configuration and preferences\n\n## Integration Notes\n- Memory is automatically synchronized across agents\n- Search supports both exact match and semantic similarity\n- Memory contents are private to your local instance\n- No data is sent to external services without explicit commands\n`;\n}\n\nfunction createMinimalCoordinationMd(): string {\n  return `# Agent Coordination\n\n## Quick Commands\n- \\`npx claude-flow agent spawn <type>\\`: Create new agent\n- \\`npx claude-flow agent list\\`: Show active agents\n- \\`npx claude-flow task create <type> <description>\\`: Create task\n\n## Agent Types\n- researcher, coder, analyst, coordinator, general\n`;\n}\n\nfunction createFullCoordinationMd(): string {\n  return `# Agent Coordination System\n\n## Overview\nThe Claude-Flow coordination system manages multiple AI agents working together on complex tasks. It provides intelligent task distribution, resource management, and inter-agent communication.\n\n## Agent Types and Capabilities\n- **Researcher**: Web search, information gathering, knowledge synthesis\n- **Coder**: Code analysis, development, debugging, testing\n- **Analyst**: Data processing, pattern recognition, insights generation\n- **Coordinator**: Task planning, resource allocation, workflow management\n- **General**: Multi-purpose agent with balanced capabilities\n\n## Task Management\n- **Priority Levels**: 1 (lowest) to 10 (highest)\n- **Dependencies**: Tasks can depend on completion of other tasks\n- **Parallel Execution**: Independent tasks run concurrently\n- **Load Balancing**: Automatic distribution based on agent capacity\n\n## Coordination Commands\n\\`\\`\\`bash\n# Agent Management\nnpx claude-flow agent spawn <type> --name <name> --priority <1-10>\nnpx claude-flow agent list\nnpx claude-flow agent info <agent-id>\nnpx claude-flow agent terminate <agent-id>\n\n# Task Management  \nnpx claude-flow task create <type> <description> --priority <1-10> --deps <task-ids>\nnpx claude-flow task list --verbose\nnpx claude-flow task status <task-id>\nnpx claude-flow task cancel <task-id>\n\n# System Monitoring\nnpx claude-flow status --verbose\nnpx claude-flow monitor --interval 5000\n\\`\\`\\`\n\n## Workflow Execution\nWorkflows are defined in JSON format and can orchestrate complex multi-agent operations:\n\\`\\`\\`bash\nnpx claude-flow workflow examples/research-workflow.json\nnpx claude-flow workflow examples/development-config.json --async\n\\`\\`\\`\n\n## Advanced Features\n- **Circuit Breakers**: Automatic failure handling and recovery\n- **Work Stealing**: Dynamic load redistribution for efficiency\n- **Resource Limits**: Memory and CPU usage constraints\n- **Metrics Collection**: Performance monitoring and optimization\n\n## Configuration\nCoordination settings in \\`claude-flow.config.json\\`:\n\\`\\`\\`json\n{\n  \"orchestrator\": {\n    \"maxConcurrentTasks\": 10,\n    \"taskTimeout\": 300000,\n    \"defaultPriority\": 5\n  },\n  \"agents\": {\n    \"maxAgents\": 20,\n    \"defaultCapabilities\": [\"research\", \"code\", \"terminal\"],\n    \"resourceLimits\": {\n      \"memory\": \"1GB\",\n      \"cpu\": \"50%\"\n    }\n  }\n}\n\\`\\`\\`\n\n## Communication Patterns\n- **Direct Messaging**: Agent-to-agent communication\n- **Event Broadcasting**: System-wide notifications\n- **Shared Memory**: Common information access\n- **Task Handoff**: Seamless work transfer between agents\n\n## Best Practices\n- Start with general agents and specialize as needed\n- Use descriptive task names and clear requirements\n- Monitor system resources during heavy workloads\n- Implement proper error handling in workflows\n- Regular cleanup of completed tasks and inactive agents\n\n## Troubleshooting\n- Check agent health with \\`npx claude-flow status\\`\n- View detailed logs with \\`npx claude-flow monitor\\`\n- Restart stuck agents with terminate/spawn cycle\n- Use \\`--verbose\\` flags for detailed diagnostic information\n`;\n}\n\nfunction createAgentsReadme(): string {\n  return `# Agent Memory Storage\n\n## Purpose\nThis directory stores agent-specific memory data, configurations, and persistent state information for individual Claude agents in the orchestration system.\n\n## Structure\nEach agent gets its own subdirectory for isolated memory storage:\n\n\\`\\`\\`\nmemory/agents/\n\u251C\u2500\u2500 agent_001/\n\u2502   \u251C\u2500\u2500 state.json           # Agent state and configuration\n\u2502   \u251C\u2500\u2500 knowledge.md         # Agent-specific knowledge base\n\u2502   \u251C\u2500\u2500 tasks.json          # Completed and active tasks\n\u2502   \u2514\u2500\u2500 calibration.json    # Agent-specific calibrations\n\u251C\u2500\u2500 agent_002/\n\u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 shared/\n    \u251C\u2500\u2500 common_knowledge.md  # Shared knowledge across agents\n    \u2514\u2500\u2500 global_config.json  # Global agent configurations\n\\`\\`\\`\n\n## Usage Guidelines\n1. **Agent Isolation**: Each agent should only read/write to its own directory\n2. **Shared Resources**: Use the \\`shared/\\` directory for cross-agent information\n3. **State Persistence**: Update state.json whenever agent status changes\n4. **Knowledge Sharing**: Document discoveries in knowledge.md files\n5. **Cleanup**: Remove directories for terminated agents periodically\n\n## Last Updated\n${new Date().toISOString()}\n`;\n}\n\nfunction createSessionsReadme(): string {\n  return `# Session Memory Storage\n\n## Purpose\nThis directory stores session-based memory data, conversation history, and contextual information for development sessions using the Claude-Flow orchestration system.\n\n## Structure\nSessions are organized by date and session ID for easy retrieval:\n\n\\`\\`\\`\nmemory/sessions/\n\u251C\u2500\u2500 2024-01-10/\n\u2502   \u251C\u2500\u2500 session_001/\n\u2502   \u2502   \u251C\u2500\u2500 metadata.json        # Session metadata and configuration\n\u2502   \u2502   \u251C\u2500\u2500 conversation.md      # Full conversation history\n\u2502   \u2502   \u251C\u2500\u2500 decisions.md         # Key decisions and rationale\n\u2502   \u2502   \u251C\u2500\u2500 artifacts/           # Generated files and outputs\n\u2502   \u2502   \u2514\u2500\u2500 coordination_state/  # Coordination system snapshots\n\u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 shared/\n    \u251C\u2500\u2500 patterns.md              # Common session patterns\n    \u2514\u2500\u2500 templates/               # Session template files\n\\`\\`\\`\n\n## Usage Guidelines\n1. **Session Isolation**: Each session gets its own directory\n2. **Metadata Completeness**: Always fill out session metadata\n3. **Conversation Logging**: Document all significant interactions\n4. **Artifact Organization**: Structure generated files clearly\n5. **State Preservation**: Snapshot coordination state regularly\n\n## Last Updated\n${new Date().toISOString()}\n`;\n}\n"],
  "mappings": "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",
  "names": ["import_chalk", "colors", "chalk", "EventBus", "Logger", "err", "statusCommand"]
}
