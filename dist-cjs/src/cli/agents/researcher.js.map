{"version":3,"sources":["../../../../src/cli/agents/researcher.ts"],"sourcesContent":["/**\r\n * Researcher Agent - Specialized in information gathering and research\r\n */\r\n\r\nimport { BaseAgent } from './base-agent.js';\r\nimport type {\r\n  AgentCapabilities,\r\n  AgentConfig,\r\n  AgentEnvironment,\r\n  TaskDefinition,\r\n} from '../../swarm/types.js';\r\nimport type { ILogger } from '../../core/logger.js';\r\nimport type { IEventBus } from '../../core/event-bus.js';\r\nimport type { DistributedMemorySystem } from '../../memory/distributed-memory.js';\r\n\r\nexport class ResearcherAgent extends BaseAgent {\r\n  constructor(\r\n    id: string,\r\n    config: AgentConfig,\r\n    environment: AgentEnvironment,\r\n    logger: ILogger,\r\n    eventBus: IEventBus,\r\n    memory: DistributedMemorySystem,\r\n  ) {\r\n    super(id, 'researcher', config, environment, logger, eventBus, memory);\r\n  }\r\n\r\n  protected getDefaultCapabilities(): AgentCapabilities {\r\n    return {\r\n      codeGeneration: false,\r\n      codeReview: false,\r\n      testing: false,\r\n      documentation: true,\r\n      research: true,\r\n      analysis: true,\r\n      webSearch: true,\r\n      apiIntegration: true,\r\n      fileSystem: true,\r\n      terminalAccess: false,\r\n      languages: [],\r\n      frameworks: [],\r\n      domains: [\r\n        'research',\r\n        'information-gathering',\r\n        'data-collection',\r\n        'market-analysis',\r\n        'competitive-intelligence',\r\n        'academic-research',\r\n        'fact-checking',\r\n        'trend-analysis',\r\n        'literature-review',\r\n      ],\r\n      tools: [\r\n        'web-search',\r\n        'document-analyzer',\r\n        'data-extractor',\r\n        'citation-generator',\r\n        'summary-generator',\r\n        'trend-tracker',\r\n        'fact-checker',\r\n        'source-validator',\r\n        'research-planner',\r\n      ],\r\n      maxConcurrentTasks: 5,\r\n      maxMemoryUsage: 512 * 1024 * 1024, // 512MB\r\n      maxExecutionTime: 900000, // 15 minutes\r\n      reliability: 0.92,\r\n      speed: 0.85,\r\n      quality: 0.95,\r\n    };\r\n  }\r\n\r\n  protected getDefaultConfig(): Partial<AgentConfig> {\r\n    return {\r\n      autonomyLevel: 0.8,\r\n      learningEnabled: true,\r\n      adaptationEnabled: true,\r\n      maxTasksPerHour: 20,\r\n      maxConcurrentTasks: 5,\r\n      timeoutThreshold: 900000,\r\n      reportingInterval: 30000,\r\n      heartbeatInterval: 10000,\r\n      permissions: ['web-access', 'file-read', 'api-access', 'search-engines', 'database-read'],\r\n      trustedAgents: [],\r\n      expertise: {\r\n        research: 0.95,\r\n        analysis: 0.9,\r\n        documentation: 0.85,\r\n        'data-collection': 0.92,\r\n        'fact-checking': 0.88,\r\n      },\r\n      preferences: {\r\n        verbose: true,\r\n        detailed: true,\r\n        citeSources: true,\r\n        validateFacts: true,\r\n        crossReference: true,\r\n      },\r\n    };\r\n  }\r\n\r\n  override async executeTask(task: TaskDefinition): Promise<any> {\r\n    this.logger.info('Researcher executing task', {\r\n      agentId: this.id,\r\n      taskType: task.type,\r\n      taskId: task.id,\r\n    });\r\n\r\n    try {\r\n      switch (task.type) {\r\n        case 'research':\r\n          return await this.performResearch(task);\r\n        case 'analysis':\r\n          return await this.analyzeData(task);\r\n        case 'fact-check':\r\n          return await this.verifyFacts(task);\r\n        case 'literature-review':\r\n          return await this.conductLiteratureReview(task);\r\n        case 'market-analysis':\r\n          return await this.analyzeMarket(task);\r\n        default:\r\n          return await this.performGeneralResearch(task);\r\n      }\r\n    } catch (error) {\r\n      this.logger.error('Research task failed', {\r\n        agentId: this.id,\r\n        taskId: task.id,\r\n        error: error instanceof Error ? error.message : String(error),\r\n      });\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  private async performResearch(task: TaskDefinition): Promise<any> {\r\n    const query = task.parameters?.query || task.description;\r\n    const sources = task.parameters?.sources || ['web', 'academic', 'news'];\r\n    const depth = task.parameters?.depth || 'moderate';\r\n\r\n    this.logger.info('Starting research task', {\r\n      query,\r\n      sources,\r\n      depth,\r\n    });\r\n\r\n    const results = {\r\n      query,\r\n      sources: [] as any[],\r\n      summary: '',\r\n      findings: [] as string[],\r\n      recommendations: [] as string[],\r\n      confidence: 0,\r\n      metadata: {\r\n        searchTime: new Date(),\r\n        totalSources: 0,\r\n        sourcesAnalyzed: 0,\r\n        researchDepth: depth,\r\n      },\r\n    };\r\n\r\n    // Store research progress\r\n    await this.memory.store(\r\n      `research:${task.id}:progress`,\r\n      {\r\n        status: 'in-progress',\r\n        startTime: new Date(),\r\n        query,\r\n      },\r\n      {\r\n        type: 'research-progress',\r\n        tags: ['research', this.id],\r\n        partition: 'tasks',\r\n      },\r\n    );\r\n\r\n    // Simulate research process\r\n    await this.delay(2000);\r\n\r\n    results.summary = `Research findings for: ${query}`;\r\n    results.findings = [\r\n      'Key insight 1 based on research',\r\n      'Important trend identified',\r\n      'Relevant data points discovered',\r\n    ];\r\n    results.recommendations = ['Recommendation based on findings', 'Suggested next steps'];\r\n    results.confidence = 0.85;\r\n    results.metadata.totalSources = 15;\r\n    results.metadata.sourcesAnalyzed = 12;\r\n\r\n    // Store final results\r\n    await this.memory.store(`research:${task.id}:results`, results, {\r\n      type: 'research-results',\r\n      tags: ['research', 'completed', this.id],\r\n      partition: 'tasks',\r\n    });\r\n\r\n    return results;\r\n  }\r\n\r\n  private async analyzeData(task: TaskDefinition): Promise<any> {\r\n    const data = task.input?.data;\r\n    const analysisType = task.input?.type || 'general';\r\n\r\n    this.logger.info('Analyzing data', {\r\n      analysisType,\r\n      dataSize: data ? Object.keys(data).length : 0,\r\n    });\r\n\r\n    const analysis = {\r\n      type: analysisType,\r\n      insights: [] as string[],\r\n      patterns: [] as any[],\r\n      anomalies: [] as any[],\r\n      confidence: 0,\r\n      methodology: analysisType,\r\n      timestamp: new Date(),\r\n    };\r\n\r\n    // Simulate analysis\r\n    await this.delay(1500);\r\n\r\n    analysis.insights = [\r\n      'Pattern A shows significant correlation',\r\n      'Trend B indicates growth potential',\r\n      'Factor C requires attention',\r\n    ];\r\n    analysis.confidence = 0.82;\r\n\r\n    return analysis;\r\n  }\r\n\r\n  private async verifyFacts(task: TaskDefinition): Promise<any> {\r\n    const claims = task.input?.claims || [];\r\n    const sources = task.input?.sources || ['reliable', 'academic'];\r\n\r\n    this.logger.info('Fact-checking claims', {\r\n      claimsCount: claims.length,\r\n      sources,\r\n    });\r\n\r\n    const verification = {\r\n      claims: [] as any[],\r\n      overallAccuracy: 0,\r\n      sourcesChecked: [] as string[],\r\n      methodology: 'cross-reference',\r\n      timestamp: new Date(),\r\n    };\r\n\r\n    // Simulate fact-checking\r\n    await this.delay(3000);\r\n\r\n    verification.overallAccuracy = 0.88;\r\n    verification.sourcesChecked = ['Source A', 'Source B', 'Source C'];\r\n\r\n    return verification;\r\n  }\r\n\r\n  private async conductLiteratureReview(task: TaskDefinition): Promise<any> {\r\n    const topic = task.input?.topic || task.description;\r\n    const timeframe = task.input?.timeframe || '5-years';\r\n    const scope = task.input?.scope || 'broad';\r\n\r\n    this.logger.info('Conducting literature review', {\r\n      topic,\r\n      timeframe,\r\n      scope,\r\n    });\r\n\r\n    const review = {\r\n      topic,\r\n      timeframe,\r\n      scope,\r\n      papers: [] as any[],\r\n      keyFindings: [] as string[],\r\n      gaps: [] as any[],\r\n      recommendations: [] as any[],\r\n      confidence: 0,\r\n      methodology: 'systematic-review',\r\n      timestamp: new Date(),\r\n    };\r\n\r\n    // Simulate literature review\r\n    await this.delay(4000);\r\n\r\n    review.keyFindings = [\r\n      'Consistent finding across multiple studies',\r\n      'Emerging trend in recent publications',\r\n      'Contradictory results require further investigation',\r\n    ];\r\n    review.confidence = 0.9;\r\n\r\n    return review;\r\n  }\r\n\r\n  private async analyzeMarket(task: TaskDefinition): Promise<any> {\r\n    const market = task.input?.market || 'general';\r\n    const metrics = task.input?.metrics || ['size', 'growth', 'competition'];\r\n\r\n    this.logger.info('Analyzing market', {\r\n      market,\r\n      metrics,\r\n    });\r\n\r\n    const analysis = {\r\n      market,\r\n      metrics: {},\r\n      trends: [] as string[],\r\n      opportunities: [] as any[],\r\n      threats: [] as any[],\r\n      confidence: 0,\r\n      timestamp: new Date(),\r\n    };\r\n\r\n    // Simulate market analysis\r\n    await this.delay(2500);\r\n\r\n    analysis.trends = [\r\n      'Growing demand in segment X',\r\n      'Declining interest in feature Y',\r\n      'Emerging technology Z shows promise',\r\n    ];\r\n    analysis.confidence = 0.83;\r\n\r\n    return analysis;\r\n  }\r\n\r\n  private async performGeneralResearch(task: TaskDefinition): Promise<any> {\r\n    this.logger.info('Performing general research', {\r\n      description: task.description,\r\n    });\r\n\r\n    // Default research approach\r\n    return await this.performResearch(task);\r\n  }\r\n\r\n  private async delay(ms: number): Promise<void> {\r\n    return new Promise((resolve) => setTimeout(resolve, ms));\r\n  }\r\n\r\n  override getAgentStatus(): any {\r\n    return {\r\n      ...super.getAgentStatus(),\r\n      specialization: 'Research & Information Gathering',\r\n      researchCapabilities: [\r\n        'Web Research',\r\n        'Academic Literature Review',\r\n        'Market Analysis',\r\n        'Fact Checking',\r\n        'Data Collection',\r\n        'Trend Analysis',\r\n      ],\r\n      currentResearchProjects: this.getCurrentTasks().length,\r\n      averageResearchTime: '8-15 minutes',\r\n      preferredSources: ['Academic', 'Government', 'Industry Reports', 'News'],\r\n      lastResearchCompleted: this.getLastTaskCompletedTime(),\r\n    };\r\n  }\r\n}\r\n\r\nexport const createResearcherAgent = (\r\n  id: string,\r\n  config: Partial<AgentConfig>,\r\n  environment: Partial<AgentEnvironment>,\r\n  logger: ILogger,\r\n  eventBus: IEventBus,\r\n  memory: DistributedMemorySystem,\r\n): ResearcherAgent => {\r\n  const defaultConfig = {\r\n    autonomyLevel: 0.8,\r\n    learningEnabled: true,\r\n    adaptationEnabled: true,\r\n    maxTasksPerHour: 10,\r\n    maxConcurrentTasks: 3,\r\n    timeoutThreshold: 600000,\r\n    reportingInterval: 120000,\r\n    heartbeatInterval: 60000,\r\n    permissions: ['web-search', 'data-access', 'file-read', 'api-access', 'research-tools'],\r\n    trustedAgents: [],\r\n    expertise: {\r\n      'information-gathering': 0.95,\r\n      'fact-checking': 0.92,\r\n      'data-analysis': 0.88,\r\n      'literature-review': 0.9,\r\n      'market-research': 0.85,\r\n    },\r\n    preferences: {\r\n      searchDepth: 'comprehensive',\r\n      sourceVerification: 'rigorous',\r\n      reportingDetail: 'detailed',\r\n      timeInvestment: 'thorough',\r\n    },\r\n  };\r\n  const defaultEnv = {\r\n    runtime: 'deno' as const,\r\n    version: '1.40.0',\r\n    workingDirectory: './agents/researcher',\r\n    tempDirectory: './tmp/researcher',\r\n    logDirectory: './logs/researcher',\r\n    apiEndpoints: {},\r\n    credentials: {},\r\n    availableTools: ['web-search', 'document-reader', 'data-extractor', 'citation-generator'],\r\n    toolConfigs: {},\r\n  };\r\n\r\n  return new ResearcherAgent(\r\n    id,\r\n    { ...defaultConfig, ...config } as AgentConfig,\r\n    { ...defaultEnv, ...environment } as AgentEnvironment,\r\n    logger,\r\n    eventBus,\r\n    memory,\r\n  );\r\n};\r\n"],"names":["BaseAgent","ResearcherAgent","id","config","environment","logger","eventBus","memory","getDefaultCapabilities","codeGeneration","codeReview","testing","documentation","research","analysis","webSearch","apiIntegration","fileSystem","terminalAccess","languages","frameworks","domains","tools","maxConcurrentTasks","maxMemoryUsage","maxExecutionTime","reliability","speed","quality","getDefaultConfig","autonomyLevel","learningEnabled","adaptationEnabled","maxTasksPerHour","timeoutThreshold","reportingInterval","heartbeatInterval","permissions","trustedAgents","expertise","preferences","verbose","detailed","citeSources","validateFacts","crossReference","executeTask","task","info","agentId","taskType","type","taskId","performResearch","analyzeData","verifyFacts","conductLiteratureReview","analyzeMarket","performGeneralResearch","error","Error","message","String","query","parameters","description","sources","depth","results","summary","findings","recommendations","confidence","metadata","searchTime","Date","totalSources","sourcesAnalyzed","researchDepth","store","status","startTime","tags","partition","delay","data","input","analysisType","dataSize","Object","keys","length","insights","patterns","anomalies","methodology","timestamp","claims","claimsCount","verification","overallAccuracy","sourcesChecked","topic","timeframe","scope","review","papers","keyFindings","gaps","market","metrics","trends","opportunities","threats","ms","Promise","resolve","setTimeout","getAgentStatus","specialization","researchCapabilities","currentResearchProjects","getCurrentTasks","averageResearchTime","preferredSources","lastResearchCompleted","getLastTaskCompletedTime","createResearcherAgent","defaultConfig","searchDepth","sourceVerification","reportingDetail","timeInvestment","defaultEnv","runtime","version","workingDirectory","tempDirectory","logDirectory","apiEndpoints","credentials","availableTools","toolConfigs"],"mappings":"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"}