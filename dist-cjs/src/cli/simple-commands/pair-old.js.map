{"version":3,"sources":["../../../../src/cli/simple-commands/pair-old.js"],"sourcesContent":["/**\r\n * Pair Programming Command\r\n * Interactive pair programming with AI assistance and real-time verification\r\n */\r\n\r\nimport fs from 'fs/promises';\r\nimport path from 'path';\r\nimport { spawn, exec } from 'child_process';\r\nimport { promisify } from 'util';\r\nimport readline from 'readline';\r\n\r\nconst execAsync = promisify(exec);\r\n\r\nclass PairProgrammingSession {\r\n  constructor(options = {}) {\r\n    this.sessionId = `pair_${Date.now()}`;\r\n    this.mode = options.mode || 'switch';\r\n    this.agent = options.agent || 'auto';\r\n    this.verify = options.verify || false;\r\n    this.test = options.test || false;\r\n    this.threshold = options.threshold || 0.95;\r\n    this.startTime = new Date();\r\n    this.status = 'active';\r\n    this.currentRole = 'driver';\r\n    this.verificationScores = [];\r\n    this.testResults = [];\r\n    this.fileWatchers = new Map();\r\n    this.rl = null;\r\n  }\r\n\r\n  async start() {\r\n    await this.saveSession();\r\n    this.showWelcome();\r\n    \r\n    if (this.verify) {\r\n      await this.startVerification();\r\n    }\r\n    \r\n    if (this.test) {\r\n      await this.startTestWatcher();\r\n    }\r\n    \r\n    await this.startInteractiveMode();\r\n  }\r\n\r\n  showWelcome() {\r\n    console.log('\\nüöÄ Starting Pair Programming Session');\r\n    console.log('‚îÅ'.repeat(50));\r\n    console.log(`Session ID: ${this.sessionId}`);\r\n    console.log(`Mode: ${this.mode}`);\r\n    console.log(`Agent: ${this.agent}`);\r\n    console.log(`Verification: ${this.verify ? '‚úÖ Enabled' : '‚ùå Disabled'}`);\r\n    console.log(`Testing: ${this.test ? '‚úÖ Enabled' : '‚ùå Disabled'}`);\r\n    console.log('‚îÅ'.repeat(50));\r\n\r\n    // Show mode details\r\n    switch (this.mode) {\r\n      case 'driver':\r\n        console.log('\\nüë§ You are the DRIVER - Write code while AI assists');\r\n        console.log('ü§ñ AI is the NAVIGATOR - Providing guidance and suggestions');\r\n        break;\r\n      case 'navigator':\r\n        console.log('\\nü§ñ AI is the DRIVER - Writing code based on your guidance');\r\n        console.log('üë§ You are the NAVIGATOR - Providing high-level direction');\r\n        break;\r\n      case 'switch':\r\n        console.log('\\nüîÑ SWITCH MODE - Roles alternate every 10 minutes');\r\n        console.log(`üë§ Current role: ${this.currentRole.toUpperCase()} (you)`);\r\n        console.log('ü§ñ AI role: ' + (this.currentRole === 'driver' ? 'NAVIGATOR' : 'DRIVER'));\r\n        this.startRoleTimer();\r\n        break;\r\n    }\r\n\r\n    this.showCommands();\r\n  }\r\n\r\n  showCommands() {\r\n    console.log('\\nüìù Session Commands:');\r\n    console.log('  /help      - Show available commands');\r\n    console.log('  /switch    - Switch driver/navigator roles');\r\n    console.log('  /suggest   - Get AI suggestions');\r\n    console.log('  /review    - Request code review');\r\n    console.log('  /test      - Run tests manually');\r\n    console.log('  /verify    - Run verification check');\r\n    console.log('  /status    - Show session status');\r\n    console.log('  /metrics   - Show quality metrics');\r\n    console.log('  /commit    - Commit with verification');\r\n    console.log('  /end       - End session');\r\n    console.log('  /exit      - Exit (same as /end)');\r\n  }\r\n\r\n  async startVerification() {\r\n    console.log('\\n‚úÖ Verification System Active');\r\n    console.log(`  ‚Ä¢ Threshold: ${this.threshold}`);\r\n    console.log('  ‚Ä¢ Real-time validation enabled');\r\n    console.log('  ‚Ä¢ Auto-rollback on failures');\r\n    \r\n    // Start verification loop\r\n    this.verificationInterval = setInterval(async () => {\r\n      await this.runVerification();\r\n    }, 30000); // Run every 30 seconds\r\n  }\r\n\r\n  async runVerification() {\r\n    console.log('\\nüîç Running verification check...');\r\n    \r\n    const checks = [\r\n      { name: 'Type Check', command: 'npm run typecheck 2>&1 || true' },\r\n      { name: 'Linting', command: 'npm run lint 2>&1 || true' },\r\n      { name: 'Build', command: 'npm run build 2>&1 || true' }\r\n    ];\r\n    \r\n    let totalScore = 0;\r\n    let passedChecks = 0;\r\n    \r\n    for (const check of checks) {\r\n      try {\r\n        const { stdout } = await execAsync(check.command);\r\n        const passed = !stdout.toLowerCase().includes('error');\r\n        const score = passed ? 1.0 : 0.5;\r\n        \r\n        totalScore += score;\r\n        if (passed) passedChecks++;\r\n        \r\n        console.log(`  ${passed ? '‚úÖ' : '‚ö†Ô∏è'} ${check.name}: ${score.toFixed(2)}`);\r\n      } catch (error) {\r\n        console.log(`  ‚ùå ${check.name}: 0.00 (failed)`);\r\n      }\r\n    }\r\n    \r\n    const averageScore = totalScore / checks.length;\r\n    this.verificationScores.push(averageScore);\r\n    \r\n    console.log(`\\nüìä Verification Score: ${averageScore.toFixed(2)}/${this.threshold}`);\r\n    \r\n    if (averageScore < this.threshold) {\r\n      console.log('‚ö†Ô∏è Verification threshold not met!');\r\n      if (this.verify && averageScore < 0.7) {\r\n        console.log('üîÑ Consider reverting recent changes');\r\n      }\r\n    } else {\r\n      console.log('‚úÖ Verification passed!');\r\n    }\r\n    \r\n    return averageScore;\r\n  }\r\n\r\n  async startTestWatcher() {\r\n    console.log('\\nüß™ Test Watcher Active');\r\n    console.log('  ‚Ä¢ Tests run on file changes');\r\n    console.log('  ‚Ä¢ Coverage tracking enabled');\r\n    \r\n    // Run initial test\r\n    await this.runTests();\r\n    \r\n    // Watch for file changes (simplified version)\r\n    this.testInterval = setInterval(async () => {\r\n      // In a real implementation, this would watch actual file changes\r\n      // For now, we'll just run tests periodically during the session\r\n    }, 60000); // Check every minute\r\n  }\r\n\r\n  async runTests() {\r\n    console.log('\\nüß™ Running tests...');\r\n    \r\n    try {\r\n      const { stdout } = await execAsync('npm test 2>&1 || true');\r\n      const lines = stdout.split('\\n');\r\n      \r\n      // Parse test results\r\n      const summaryLine = lines.find(l => l.includes('Tests:') || l.includes('PASS') || l.includes('FAIL'));\r\n      \r\n      if (summaryLine) {\r\n        console.log(`  ${summaryLine.trim()}`);\r\n        \r\n        // Extract coverage if available\r\n        const coverageLine = lines.find(l => l.includes('Coverage'));\r\n        if (coverageLine) {\r\n          console.log(`  ${coverageLine.trim()}`);\r\n        }\r\n        \r\n        this.testResults.push({\r\n          timestamp: new Date(),\r\n          passed: stdout.includes('PASS'),\r\n          summary: summaryLine\r\n        });\r\n        \r\n        return stdout.includes('PASS');\r\n      } else {\r\n        console.log('  ‚ö†Ô∏è No test results found');\r\n        return false;\r\n      }\r\n    } catch (error) {\r\n      console.log('  ‚ùå Test execution failed:', error.message);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  startRoleTimer() {\r\n    if (this.mode !== 'switch') return;\r\n    \r\n    this.roleTimer = setTimeout(() => {\r\n      this.switchRoles();\r\n      this.startRoleTimer(); // Restart timer\r\n    }, 10 * 60 * 1000); // 10 minutes\r\n  }\r\n\r\n  switchRoles() {\r\n    const oldRole = this.currentRole;\r\n    this.currentRole = this.currentRole === 'driver' ? 'navigator' : 'driver';\r\n    \r\n    console.log('\\nüîÑ Role Switch!');\r\n    console.log(`  Previous role: ${oldRole.toUpperCase()}`);\r\n    console.log(`  New role: ${this.currentRole.toUpperCase()}`);\r\n    console.log('  Take a moment to transition...\\n');\r\n  }\r\n\r\n  async startInteractiveMode() {\r\n    this.rl = readline.createInterface({\r\n      input: process.stdin,\r\n      output: process.stdout,\r\n      prompt: '\\nüíª pair> '\r\n    });\r\n\r\n    console.log('\\nüí° Interactive mode active. Type /help for commands.\\n');\r\n    \r\n    this.rl.prompt();\r\n\r\n    this.rl.on('line', async (line) => {\r\n      const input = line.trim();\r\n      \r\n      if (input.startsWith('/')) {\r\n        await this.handleCommand(input);\r\n      } else if (input) {\r\n        // Handle regular input as code discussion\r\n        console.log('ü§ñ AI: Processing your input...');\r\n        // In a real implementation, this would send to AI\r\n      }\r\n      \r\n      this.rl.prompt();\r\n    });\r\n\r\n    this.rl.on('close', () => {\r\n      this.end();\r\n    });\r\n  }\r\n\r\n  async handleCommand(command) {\r\n    const [cmd, ...args] = command.split(' ');\r\n    \r\n    switch (cmd) {\r\n      case '/help':\r\n        this.showCommands();\r\n        break;\r\n        \r\n      case '/switch':\r\n        this.switchRoles();\r\n        break;\r\n        \r\n      case '/suggest':\r\n        console.log('ü§ñ AI Suggestion: Consider using async/await for better readability');\r\n        break;\r\n        \r\n      case '/review':\r\n        console.log('üîç Starting code review...');\r\n        await this.runVerification();\r\n        break;\r\n        \r\n      case '/test':\r\n        await this.runTests();\r\n        break;\r\n        \r\n      case '/verify':\r\n        await this.runVerification();\r\n        break;\r\n        \r\n      case '/status':\r\n        await this.showStatus();\r\n        break;\r\n        \r\n      case '/metrics':\r\n        this.showMetrics();\r\n        break;\r\n        \r\n      case '/commit':\r\n        await this.commitWithVerification();\r\n        break;\r\n        \r\n      case '/end':\r\n      case '/exit':\r\n        await this.end();\r\n        process.exit(0);\r\n        break;\r\n        \r\n      default:\r\n        console.log(`‚ùå Unknown command: ${cmd}`);\r\n        console.log('üí° Type /help for available commands');\r\n    }\r\n  }\r\n\r\n  async showStatus() {\r\n    const duration = Math.floor((Date.now() - this.startTime) / 1000 / 60);\r\n    \r\n    console.log('\\nüìä Session Status');\r\n    console.log('‚îÅ'.repeat(40));\r\n    console.log(`Session ID: ${this.sessionId}`);\r\n    console.log(`Duration: ${duration} minutes`);\r\n    console.log(`Current Role: ${this.currentRole.toUpperCase()}`);\r\n    console.log(`Mode: ${this.mode}`);\r\n    console.log(`Status: ${this.status}`);\r\n    \r\n    if (this.verify && this.verificationScores.length > 0) {\r\n      const avgScore = this.verificationScores.reduce((a, b) => a + b, 0) / this.verificationScores.length;\r\n      console.log(`Average Verification: ${avgScore.toFixed(2)}`);\r\n    }\r\n    \r\n    if (this.test && this.testResults.length > 0) {\r\n      const passed = this.testResults.filter(r => r.passed).length;\r\n      console.log(`Tests Passed: ${passed}/${this.testResults.length}`);\r\n    }\r\n  }\r\n\r\n  showMetrics() {\r\n    console.log('\\nüìà Quality Metrics');\r\n    console.log('‚îÅ'.repeat(40));\r\n    \r\n    if (this.verificationScores.length > 0) {\r\n      console.log('\\nVerification History:');\r\n      this.verificationScores.slice(-5).forEach((score, i) => {\r\n        const bar = '‚ñà'.repeat(Math.floor(score * 20));\r\n        console.log(`  ${i + 1}. ${bar} ${score.toFixed(2)}`);\r\n      });\r\n    }\r\n    \r\n    if (this.testResults.length > 0) {\r\n      console.log('\\nTest Results:');\r\n      this.testResults.slice(-5).forEach((result, i) => {\r\n        console.log(`  ${i + 1}. ${result.passed ? '‚úÖ' : '‚ùå'} ${new Date(result.timestamp).toLocaleTimeString()}`);\r\n      });\r\n    }\r\n  }\r\n\r\n  async commitWithVerification() {\r\n    console.log('\\nüîç Pre-commit verification...');\r\n    \r\n    const score = await this.runVerification();\r\n    \r\n    if (score >= this.threshold) {\r\n      console.log('‚úÖ Verification passed! Ready to commit.');\r\n      console.log('üí° Run: git commit -m \"your message\"');\r\n    } else {\r\n      console.log('‚ùå Verification failed! Please fix issues before committing.');\r\n    }\r\n  }\r\n\r\n  async end() {\r\n    console.log('\\nüõë Ending pair programming session...');\r\n    \r\n    // Clear intervals\r\n    if (this.verificationInterval) clearInterval(this.verificationInterval);\r\n    if (this.testInterval) clearInterval(this.testInterval);\r\n    if (this.roleTimer) clearTimeout(this.roleTimer);\r\n    if (this.rl) this.rl.close();\r\n    \r\n    // Update session\r\n    this.status = 'completed';\r\n    await this.saveSession();\r\n    \r\n    // Show summary\r\n    const duration = Math.floor((Date.now() - this.startTime) / 1000 / 60);\r\n    console.log('\\n‚ú® Session Complete!');\r\n    console.log('‚îÅ'.repeat(40));\r\n    console.log(`Duration: ${duration} minutes`);\r\n    \r\n    if (this.verificationScores.length > 0) {\r\n      const avgScore = this.verificationScores.reduce((a, b) => a + b, 0) / this.verificationScores.length;\r\n      console.log(`Average Verification: ${avgScore.toFixed(2)}`);\r\n    }\r\n    \r\n    if (this.testResults.length > 0) {\r\n      const passed = this.testResults.filter(r => r.passed).length;\r\n      console.log(`Test Success Rate: ${((passed / this.testResults.length) * 100).toFixed(0)}%`);\r\n    }\r\n    \r\n    console.log('\\nüëã Thanks for pair programming!\\n');\r\n  }\r\n\r\n  async saveSession() {\r\n    const sessionPath = '.claude-flow/sessions/pair';\r\n    await fs.mkdir(sessionPath, { recursive: true });\r\n    \r\n    const sessionData = {\r\n      id: this.sessionId,\r\n      mode: this.mode,\r\n      agent: this.agent,\r\n      verify: this.verify,\r\n      test: this.test,\r\n      threshold: this.threshold,\r\n      startTime: this.startTime.toISOString(),\r\n      status: this.status,\r\n      currentRole: this.currentRole,\r\n      verificationScores: this.verificationScores,\r\n      testResults: this.testResults\r\n    };\r\n    \r\n    await fs.writeFile(\r\n      path.join(sessionPath, `${this.sessionId}.json`),\r\n      JSON.stringify(sessionData, null, 2)\r\n    );\r\n  }\r\n}\r\n\r\nasync function pairCommand(args = [], flags = {}) {\r\n  console.log('\\nüë• Pair Programming Session');\r\n  console.log('‚îÅ'.repeat(50));\r\n\r\n  // Handle help flag\r\n  if (flags.help || args.includes('--help')) {\r\n    showHelp();\r\n    return;\r\n  }\r\n\r\n  // Handle background execution\r\n  if (flags.background || flags.bg) {\r\n    return startBackgroundSession(args, flags);\r\n  }\r\n\r\n  // Handle start flag\r\n  if (flags.start) {\r\n    const session = new PairProgrammingSession({\r\n      mode: flags.mode || 'switch',\r\n      agent: flags.agent || 'auto',\r\n      verify: flags.verify || false,\r\n      test: flags.test || false,\r\n      threshold: parseFloat(flags.threshold) || 0.95\r\n    });\r\n    \r\n    return await session.start();\r\n  }\r\n\r\n  // Handle status flag\r\n  if (flags.status) {\r\n    return showSessionStatus();\r\n  }\r\n\r\n  // Handle end flag\r\n  if (flags.end) {\r\n    return endSession(flags.sessionId || 'current');\r\n  }\r\n\r\n  // Default: show help\r\n  showHelp();\r\n}\r\n\r\nfunction showHelp() {\r\n  console.log(`\r\nüìö USAGE:\r\n  claude-flow pair [options]\r\n\r\n‚öôÔ∏è OPTIONS:\r\n  --start              Start a new pair programming session\r\n  --end                End current session\r\n  --status             Show session status\r\n  --mode <type>        Programming mode: driver, navigator, switch (default: switch)\r\n  --agent <name>       AI pair partner (default: auto-select)\r\n  --verify             Enable real-time verification\r\n  --test               Run tests after each change\r\n  --threshold <n>      Verification threshold (default: 0.95)\r\n  --background, --bg   Run in background\r\n  --help               Show this help message\r\n\r\nüìù MODES:\r\n  driver     You write code, AI assists\r\n  navigator  AI writes code, you guide\r\n  switch     Automatically alternate roles every 10 minutes\r\n\r\nüéØ SESSION COMMANDS:\r\n  /help      Show available commands\r\n  /switch    Switch driver/navigator roles\r\n  /suggest   Get AI suggestions\r\n  /review    Request code review\r\n  /test      Run tests manually\r\n  /verify    Run verification check\r\n  /status    Show session status\r\n  /metrics   Show quality metrics\r\n  /commit    Commit with verification\r\n  /end       End session\r\n\r\nüí° EXAMPLES:\r\n  claude-flow pair --start\r\n  claude-flow pair --start --mode driver --verify\r\n  claude-flow pair --start --verify --test\r\n  claude-flow pair --start --agent senior-dev --test\r\n  claude-flow pair --status\r\n  claude-flow pair --end\r\n\r\nüéØ QUICK START:\r\n  npx claude-flow@alpha pair --start --verify --test\r\n\r\nüìö For detailed documentation, see:\r\n  .claude/commands/pair/README.md\r\n`);\r\n}\r\n\r\nasync function startBackgroundSession(args, flags) {\r\n  console.log('\\nüîÑ Starting pair session in background...');\r\n  \r\n  const child = spawn(process.argv[0], [\r\n    process.argv[1],\r\n    'pair',\r\n    '--start',\r\n    ...args.filter(arg => arg !== '--background' && arg !== '--bg')\r\n  ], {\r\n    detached: true,\r\n    stdio: 'ignore'\r\n  });\r\n\r\n  child.unref();\r\n  \r\n  const pid = child.pid;\r\n  console.log(`‚úÖ Background session started (PID: ${pid})`);\r\n  console.log('\\nüìä Monitor with: claude-flow pair --status');\r\n  console.log('üõë Stop with: claude-flow pair --end\\n');\r\n}\r\n\r\nasync function showSessionStatus() {\r\n  try {\r\n    const sessionPath = '.claude-flow/sessions/pair';\r\n    const files = await fs.readdir(sessionPath);\r\n    const sessions = [];\r\n\r\n    for (const file of files) {\r\n      if (file.endsWith('.json')) {\r\n        const data = await fs.readFile(path.join(sessionPath, file), 'utf8');\r\n        sessions.push(JSON.parse(data));\r\n      }\r\n    }\r\n\r\n    if (sessions.length === 0) {\r\n      console.log('\\n‚ùå No active pair programming sessions\\n');\r\n      return;\r\n    }\r\n\r\n    console.log('\\nüìä Pair Programming Sessions:');\r\n    console.log('‚îÅ'.repeat(50));\r\n    \r\n    for (const session of sessions.filter(s => s.status === 'active')) {\r\n      const duration = Math.floor((Date.now() - new Date(session.startTime).getTime()) / 1000 / 60);\r\n      console.log(`\\nüîπ Session: ${session.id}`);\r\n      console.log(`   Mode: ${session.mode}`);\r\n      console.log(`   Agent: ${session.agent}`);\r\n      console.log(`   Duration: ${duration} minutes`);\r\n      console.log(`   Status: ${session.status}`);\r\n      console.log(`   Verification: ${session.verify ? '‚úÖ' : '‚ùå'}`);\r\n      console.log(`   Testing: ${session.test ? '‚úÖ' : '‚ùå'}`);\r\n      \r\n      if (session.verificationScores && session.verificationScores.length > 0) {\r\n        const avgScore = session.verificationScores.reduce((a, b) => a + b, 0) / session.verificationScores.length;\r\n        console.log(`   Avg Verification: ${avgScore.toFixed(2)}`);\r\n      }\r\n    }\r\n    \r\n    console.log('‚îÅ'.repeat(50));\r\n  } catch (error) {\r\n    console.log('\\n‚ùå No active pair programming sessions\\n');\r\n  }\r\n}\r\n\r\nasync function endSession(sessionId) {\r\n  console.log(`\\nüõë Ending pair programming session: ${sessionId}`);\r\n  \r\n  try {\r\n    const sessionPath = '.claude-flow/sessions/pair';\r\n    \r\n    if (sessionId === 'current') {\r\n      // End most recent active session\r\n      const files = await fs.readdir(sessionPath);\r\n      for (const file of files.filter(f => f.endsWith('.json'))) {\r\n        const data = await fs.readFile(path.join(sessionPath, file), 'utf8');\r\n        const session = JSON.parse(data);\r\n        if (session.status === 'active') {\r\n          sessionId = session.id;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    \r\n    const sessionFile = path.join(sessionPath, `${sessionId}.json`);\r\n    const data = await fs.readFile(sessionFile, 'utf8');\r\n    const session = JSON.parse(data);\r\n    \r\n    session.status = 'completed';\r\n    session.endTime = new Date().toISOString();\r\n    \r\n    await fs.writeFile(sessionFile, JSON.stringify(session, null, 2));\r\n    \r\n    console.log('‚úÖ Session ended successfully');\r\n    console.log(`\\nüìä Session Summary:`);\r\n    console.log(`  Duration: ${Math.floor((new Date(session.endTime) - new Date(session.startTime)) / 1000 / 60)} minutes`);\r\n    console.log(`  Mode: ${session.mode}`);\r\n    console.log(`  Agent: ${session.agent}\\n`);\r\n  } catch (error) {\r\n    console.log('‚ùå Failed to end session:', error.message);\r\n  }\r\n}\r\n\r\nexport default pairCommand;"],"names":["fs","path","spawn","exec","promisify","readline","execAsync","PairProgrammingSession","options","sessionId","Date","now","mode","agent","verify","test","threshold","startTime","status","currentRole","verificationScores","testResults","fileWatchers","Map","rl","start","saveSession","showWelcome","startVerification","startTestWatcher","startInteractiveMode","console","log","repeat","toUpperCase","startRoleTimer","showCommands","verificationInterval","setInterval","runVerification","checks","name","command","totalScore","passedChecks","check","stdout","passed","toLowerCase","includes","score","toFixed","error","averageScore","length","push","runTests","testInterval","lines","split","summaryLine","find","l","trim","coverageLine","timestamp","summary","message","roleTimer","setTimeout","switchRoles","oldRole","createInterface","input","process","stdin","output","prompt","on","line","startsWith","handleCommand","end","cmd","args","showStatus","showMetrics","commitWithVerification","exit","duration","Math","floor","avgScore","reduce","a","b","filter","r","slice","forEach","i","bar","result","toLocaleTimeString","clearInterval","clearTimeout","close","sessionPath","mkdir","recursive","sessionData","id","toISOString","writeFile","join","JSON","stringify","pairCommand","flags","help","showHelp","background","bg","startBackgroundSession","session","parseFloat","showSessionStatus","endSession","child","argv","arg","detached","stdio","unref","pid","files","readdir","sessions","file","endsWith","data","readFile","parse","s","getTime","f","sessionFile","endTime"],"mappings":"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"}