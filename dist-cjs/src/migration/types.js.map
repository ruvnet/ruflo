{"version":3,"sources":["../../../src/migration/types.ts"],"sourcesContent":["/**\r\n * Migration type definitions\r\n */\r\n\r\nexport type MigrationStrategy = 'full' | 'selective' | 'merge';\r\n\r\nexport interface MigrationOptions {\r\n  projectPath: string;\r\n  strategy: MigrationStrategy;\r\n  backupDir?: string;\r\n  force?: boolean;\r\n  dryRun?: boolean;\r\n  preserveCustom?: boolean;\r\n  skipValidation?: boolean;\r\n}\r\n\r\nexport interface MigrationAnalysis {\r\n  projectPath: string;\r\n  hasClaudeFolder: boolean;\r\n  hasOptimizedPrompts: boolean;\r\n  customCommands: string[];\r\n  customConfigurations: Record<string, any>;\r\n  conflictingFiles: string[];\r\n  migrationRisks: MigrationRisk[];\r\n  recommendations: string[];\r\n  timestamp: Date;\r\n}\r\n\r\nexport interface MigrationRisk {\r\n  level: 'low' | 'medium' | 'high';\r\n  description: string;\r\n  file?: string;\r\n  mitigation?: string;\r\n}\r\n\r\nexport interface MigrationBackup {\r\n  timestamp: Date;\r\n  version: string;\r\n  files: BackupFile[];\r\n  metadata: Record<string, any>;\r\n}\r\n\r\nexport interface BackupFile {\r\n  path: string;\r\n  content: string;\r\n  checksum: string;\r\n  permissions?: string;\r\n}\r\n\r\nexport interface MigrationResult {\r\n  success: boolean;\r\n  filesModified: string[];\r\n  filesCreated: string[];\r\n  filesBackedUp: string[];\r\n  errors: MigrationError[];\r\n  warnings: string[];\r\n  rollbackPath?: string;\r\n}\r\n\r\nexport interface MigrationError {\r\n  file?: string;\r\n  error: string;\r\n  stack?: string;\r\n}\r\n\r\nexport interface ValidationResult {\r\n  valid: boolean;\r\n  checks: ValidationCheck[];\r\n  errors: string[];\r\n  warnings: string[];\r\n}\r\n\r\nexport interface ValidationCheck {\r\n  name: string;\r\n  passed: boolean;\r\n  message?: string;\r\n  details?: any;\r\n}\r\n\r\nexport interface MigrationManifest {\r\n  version: string;\r\n  files: {\r\n    commands: Record<string, CommandMigration>;\r\n    configurations: Record<string, ConfigMigration>;\r\n    templates: Record<string, TemplateMigration>;\r\n  };\r\n  dependencies?: string[];\r\n}\r\n\r\nexport interface CommandMigration {\r\n  source: string;\r\n  target: string;\r\n  transform?: 'copy' | 'merge' | 'replace';\r\n  priority?: number;\r\n}\r\n\r\nexport interface ConfigMigration {\r\n  source: string;\r\n  target: string;\r\n  merge?: boolean;\r\n  transform?: (config: any) => any;\r\n}\r\n\r\nexport interface TemplateMigration {\r\n  source: string;\r\n  target: string;\r\n  variables?: Record<string, string>;\r\n}\r\n\r\nexport interface MigrationProgress {\r\n  total: number;\r\n  completed: number;\r\n  current: string;\r\n  phase: 'analyzing' | 'backing-up' | 'migrating' | 'validating' | 'complete';\r\n  errors: number;\r\n  warnings: number;\r\n}\r\n"],"names":[],"mappings":"AA6GA,WAOC"}