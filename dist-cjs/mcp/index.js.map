{
  "version": 3,
  "sources": ["../../src/mcp/index.ts"],
  "sourcesContent": ["/**\n * MCP (Model Context Protocol) Module\n * Export all MCP components for easy integration\n */\n\n// Core MCP Server\nexport { MCPServer, type IMCPServer } from './server.js';\n\n// Lifecycle Management\nexport {\n  MCPLifecycleManager,\n  LifecycleState,\n  type LifecycleEvent,\n  type HealthCheckResult,\n  type LifecycleManagerConfig,\n} from './lifecycle-manager.js';\n\n// Tool Registry and Management\nexport {\n  ToolRegistry,\n  type ToolCapability,\n  type ToolMetrics,\n  type ToolDiscoveryQuery,\n} from './tools.js';\n\n// Protocol Management\nexport {\n  MCPProtocolManager,\n  type ProtocolVersionInfo,\n  type CompatibilityResult,\n  type NegotiationResult,\n} from './protocol-manager.js';\n\n// Authentication and Authorization\nexport {\n  AuthManager,\n  type IAuthManager,\n  type AuthContext,\n  type AuthResult,\n  type TokenInfo,\n  type TokenGenerationOptions,\n  type AuthSession,\n  Permissions,\n} from './auth.js';\n\n// Performance Monitoring\nexport {\n  MCPPerformanceMonitor,\n  type PerformanceMetrics,\n  type RequestMetrics,\n  type AlertRule,\n  type Alert,\n  type OptimizationSuggestion,\n} from './performance-monitor.js';\n\n// Orchestration Integration\nexport {\n  MCPOrchestrationIntegration,\n  type OrchestrationComponents,\n  type MCPOrchestrationConfig,\n  type IntegrationStatus,\n} from './orchestration-integration.js';\n\n// Transport Implementations\nexport { type ITransport } from './transports/base.js';\nexport { StdioTransport } from './transports/stdio.js';\nexport { HttpTransport } from './transports/http.js';\n\n// Request Routing\nexport { RequestRouter } from './router.js';\n\n// Session Management\nexport { SessionManager, type ISessionManager } from './session-manager.js';\n\n// Load Balancing\nexport { LoadBalancer, type ILoadBalancer, RequestQueue } from './load-balancer.js';\n\n// Tool Implementations\nexport { createClaudeFlowTools, type ClaudeFlowToolContext } from './claude-flow-tools.js';\nexport { createSwarmTools, type SwarmToolContext } from './swarm-tools.js';\n\n/**\n * MCP Integration Factory\n * Provides a simple way to create a complete MCP integration\n */\nexport class MCPIntegrationFactory {\n  /**\n   * Create a complete MCP integration with all components\n   */\n  static async createIntegration(config: {\n    mcpConfig: import('../utils/types.js').MCPConfig;\n    orchestrationConfig?: Partial<MCPOrchestrationConfig>;\n    components?: Partial<OrchestrationComponents>;\n    logger: import('../core/logger.js').ILogger;\n  }): Promise<MCPOrchestrationIntegration> {\n    const { mcpConfig, orchestrationConfig = {}, components = {}, logger } = config;\n\n    const integration = new MCPOrchestrationIntegration(\n      mcpConfig,\n      {\n        enabledIntegrations: {\n          orchestrator: true,\n          swarm: true,\n          agents: true,\n          resources: true,\n          memory: true,\n          monitoring: true,\n          terminals: true,\n        },\n        autoStart: true,\n        healthCheckInterval: 30000,\n        reconnectAttempts: 3,\n        reconnectDelay: 5000,\n        enableMetrics: true,\n        enableAlerts: true,\n        ...orchestrationConfig,\n      },\n      components,\n      logger,\n    );\n\n    return integration;\n  }\n\n  /**\n   * Create a standalone MCP server (without orchestration integration)\n   */\n  static async createStandaloneServer(config: {\n    mcpConfig: import('../utils/types.js').MCPConfig;\n    logger: import('../core/logger.js').ILogger;\n    enableLifecycleManagement?: boolean;\n    enablePerformanceMonitoring?: boolean;\n  }): Promise<{\n    server: MCPServer;\n    lifecycleManager?: MCPLifecycleManager;\n    performanceMonitor?: MCPPerformanceMonitor;\n  }> {\n    const {\n      mcpConfig,\n      logger,\n      enableLifecycleManagement = true,\n      enablePerformanceMonitoring = true,\n    } = config;\n\n    const eventBus = new (await import('node:events')).EventEmitter();\n    const server = new MCPServer(mcpConfig, eventBus, logger);\n\n    let lifecycleManager: MCPLifecycleManager | undefined;\n    let performanceMonitor: MCPPerformanceMonitor | undefined;\n\n    if (enableLifecycleManagement) {\n      lifecycleManager = new MCPLifecycleManager(mcpConfig, logger, () => server);\n    }\n\n    if (enablePerformanceMonitoring) {\n      performanceMonitor = new MCPPerformanceMonitor(logger);\n    }\n\n    return {\n      server,\n      lifecycleManager,\n      performanceMonitor,\n    };\n  }\n\n  /**\n   * Create a development/testing MCP setup\n   */\n  static async createDevelopmentSetup(logger: import('../core/logger.js').ILogger): Promise<{\n    server: MCPServer;\n    lifecycleManager: MCPLifecycleManager;\n    performanceMonitor: MCPPerformanceMonitor;\n    protocolManager: MCPProtocolManager;\n  }> {\n    const mcpConfig: import('../utils/types.js').MCPConfig = {\n      transport: 'stdio',\n      enableMetrics: true,\n      auth: {\n        enabled: false,\n        method: 'token',\n      },\n    };\n\n    const { server, lifecycleManager, performanceMonitor } = await this.createStandaloneServer({\n      mcpConfig,\n      logger,\n      enableLifecycleManagement: true,\n      enablePerformanceMonitoring: true,\n    });\n\n    const protocolManager = new MCPProtocolManager(logger);\n\n    return {\n      server,\n      lifecycleManager: lifecycleManager!,\n      performanceMonitor: performanceMonitor!,\n      protocolManager,\n    };\n  }\n}\n\n/**\n * Default MCP configuration for common use cases\n */\nexport const DefaultMCPConfigs = {\n  /**\n   * Development configuration with stdio transport\n   */\n  development: {\n    transport: 'stdio' as const,\n    enableMetrics: true,\n    auth: {\n      enabled: false,\n      method: 'token' as const,\n    },\n  },\n\n  /**\n   * Production configuration with HTTP transport and authentication\n   */\n  production: {\n    transport: 'http' as const,\n    host: '0.0.0.0',\n    port: 3000,\n    tlsEnabled: true,\n    enableMetrics: true,\n    auth: {\n      enabled: true,\n      method: 'token' as const,\n    },\n    loadBalancer: {\n      enabled: true,\n      maxRequestsPerSecond: 100,\n      maxConcurrentRequests: 50,\n    },\n    sessionTimeout: 3600000, // 1 hour\n    maxSessions: 1000,\n  },\n\n  /**\n   * Testing configuration with minimal features\n   */\n  testing: {\n    transport: 'stdio' as const,\n    enableMetrics: false,\n    auth: {\n      enabled: false,\n      method: 'token' as const,\n    },\n  },\n} as const;\n\n/**\n * MCP Utility Functions\n */\nexport const MCPUtils = {\n  /**\n   * Validate MCP protocol version\n   */\n  isValidProtocolVersion(version: import('../utils/types.js').MCPProtocolVersion): boolean {\n    return (\n      typeof version.major === 'number' &&\n      typeof version.minor === 'number' &&\n      typeof version.patch === 'number' &&\n      version.major > 0\n    );\n  },\n\n  /**\n   * Compare two protocol versions\n   */\n  compareVersions(\n    a: import('../utils/types.js').MCPProtocolVersion,\n    b: import('../utils/types.js').MCPProtocolVersion,\n  ): number {\n    if (a.major !== b.major) return a.major - b.major;\n    if (a.minor !== b.minor) return a.minor - b.minor;\n    return a.patch - b.patch;\n  },\n\n  /**\n   * Format protocol version as string\n   */\n  formatVersion(version: import('../utils/types.js').MCPProtocolVersion): string {\n    return `${version.major}.${version.minor}.${version.patch}`;\n  },\n\n  /**\n   * Parse protocol version from string\n   */\n  parseVersion(versionString: string): import('../utils/types.js').MCPProtocolVersion {\n    const parts = versionString.split('.').map((p) => parseInt(p, 10));\n    if (parts.length !== 3 || parts.some((p) => isNaN(p))) {\n      throw new Error(`Invalid version string: ${versionString}`);\n    }\n    return {\n      major: parts[0],\n      minor: parts[1],\n      patch: parts[2],\n    };\n  },\n\n  /**\n   * Generate a random session ID\n   */\n  generateSessionId(): string {\n    return `mcp_session_${Date.now()}_${Math.random().toString(36).substring(2, 15)}`;\n  },\n\n  /**\n   * Generate a random request ID\n   */\n  generateRequestId(): string {\n    return `mcp_req_${Date.now()}_${Math.random().toString(36).substring(2, 15)}`;\n  },\n};\n"],
  "mappings": "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",
  "names": []
}
