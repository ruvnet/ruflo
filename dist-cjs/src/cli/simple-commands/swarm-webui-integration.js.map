{"version":3,"sources":["../../../../src/cli/simple-commands/swarm-webui-integration.js"],"sourcesContent":["/**\r\n * Swarm Orchestration WebUI Integration\r\n * Integrates ruv-swarm capabilities with the cross-platform WebUI\r\n */\r\n\r\nimport { compat } from '../runtime-detector.js';\r\n\r\nexport class SwarmWebUIIntegration {\r\n  constructor(ui) {\r\n    this.ui = ui;\r\n    this.swarmActive = false;\r\n    this.swarmId = null;\r\n    this.agents = new Map();\r\n    this.tasks = new Map();\r\n  }\r\n\r\n  /**\r\n   * Initialize swarm integration\r\n   */\r\n  async initializeSwarm(topology = 'hierarchical', maxAgents = 8) {\r\n    try {\r\n      // Check if ruv-swarm is available\r\n      const hasSwarm = await this.checkSwarmAvailability();\r\n      if (!hasSwarm) {\r\n        this.ui.addLog('warning', 'ruv-swarm not available - using mock swarm');\r\n        this.initializeMockSwarm();\r\n        return;\r\n      }\r\n\r\n      // Initialize actual swarm\r\n      this.ui.addLog('info', `Initializing ${topology} swarm with ${maxAgents} agents...`);\r\n\r\n      // This would integrate with actual ruv-swarm MCP tools\r\n      // For now, simulate swarm initialization\r\n      this.swarmActive = true;\r\n      this.swarmId = `swarm-${Date.now()}`;\r\n\r\n      this.ui.addLog('success', `Swarm ${this.swarmId} initialized successfully`);\r\n\r\n      // Update UI with swarm status\r\n      this.updateSwarmStatus();\r\n    } catch (err) {\r\n      this.ui.addLog('error', `Failed to initialize swarm: ${err.message}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if ruv-swarm MCP tools are available\r\n   */\r\n  async checkSwarmAvailability() {\r\n    try {\r\n      // This would check for actual MCP connection\r\n      // For demo purposes, simulate availability\r\n      return compat.getEnv('CLAUDE_FLOW_SWARM_ENABLED') === 'true';\r\n    } catch (err) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initialize mock swarm for demonstration\r\n   */\r\n  initializeMockSwarm() {\r\n    this.swarmActive = true;\r\n    this.swarmId = 'mock-swarm';\r\n\r\n    // Create mock agents\r\n    const agentTypes = ['researcher', 'coder', 'analyst', 'coordinator', 'tester'];\r\n    agentTypes.forEach((type, index) => {\r\n      const agentId = `agent-${type}-${index}`;\r\n      this.agents.set(agentId, {\r\n        id: agentId,\r\n        type,\r\n        name: `${type.charAt(0).toUpperCase() + type.slice(1)} Agent`,\r\n        status: 'idle',\r\n        tasks: 0,\r\n        capabilities: this.getAgentCapabilities(type),\r\n        spawnTime: new Date(),\r\n      });\r\n    });\r\n\r\n    // Create mock tasks\r\n    const mockTasks = [\r\n      {\r\n        description: 'Analyze system requirements',\r\n        priority: 'high',\r\n        assignedTo: 'agent-researcher-0',\r\n      },\r\n      {\r\n        description: 'Implement authentication module',\r\n        priority: 'high',\r\n        assignedTo: 'agent-coder-1',\r\n      },\r\n      { description: 'Performance analysis', priority: 'medium', assignedTo: 'agent-analyst-2' },\r\n      {\r\n        description: 'Coordinate deployment',\r\n        priority: 'medium',\r\n        assignedTo: 'agent-coordinator-3',\r\n      },\r\n      { description: 'Run integration tests', priority: 'low', assignedTo: 'agent-tester-4' },\r\n    ];\r\n\r\n    mockTasks.forEach((task, index) => {\r\n      const taskId = `task-${index}`;\r\n      this.tasks.set(taskId, {\r\n        id: taskId,\r\n        ...task,\r\n        status: index < 2 ? 'in_progress' : 'pending',\r\n        created: new Date(),\r\n        swarmId: this.swarmId,\r\n      });\r\n    });\r\n\r\n    this.ui.addLog('success', 'Mock swarm initialized with 5 agents and 5 tasks');\r\n  }\r\n\r\n  /**\r\n   * Get capabilities for different agent types\r\n   */\r\n  getAgentCapabilities(type) {\r\n    const capabilities = {\r\n      researcher: ['data_analysis', 'web_search', 'documentation'],\r\n      coder: ['javascript', 'python', 'typescript', 'git'],\r\n      analyst: ['performance', 'metrics', 'optimization'],\r\n      coordinator: ['task_management', 'scheduling', 'communication'],\r\n      tester: ['unit_testing', 'integration_testing', 'qa'],\r\n    };\r\n    return capabilities[type] || [];\r\n  }\r\n\r\n  /**\r\n   * Update swarm status in UI\r\n   */\r\n  updateSwarmStatus() {\r\n    if (!this.swarmActive) return;\r\n\r\n    // Update UI agents with swarm data\r\n    this.ui.agents = Array.from(this.agents.values());\r\n    this.ui.tasks = Array.from(this.tasks.values());\r\n\r\n    // Update system stats\r\n    this.ui.systemStats.activeAgents = this.ui.agents.filter((a) => a.status === 'working').length;\r\n    this.ui.systemStats.totalTasks = this.ui.tasks.length;\r\n    this.ui.systemStats.completedTasks = this.ui.tasks.filter(\r\n      (t) => t.status === 'completed',\r\n    ).length;\r\n  }\r\n\r\n  /**\r\n   * Spawn new agent\r\n   */\r\n  async spawnAgent(type, name = null) {\r\n    if (!this.swarmActive) {\r\n      this.ui.addLog('warning', 'Swarm not active - cannot spawn agent');\r\n      return null;\r\n    }\r\n\r\n    const agentId = `agent-${type}-${Date.now()}`;\r\n    const agent = {\r\n      id: agentId,\r\n      type,\r\n      name: name || `${type.charAt(0).toUpperCase() + type.slice(1)} Agent`,\r\n      status: 'idle',\r\n      tasks: 0,\r\n      capabilities: this.getAgentCapabilities(type),\r\n      spawnTime: new Date(),\r\n    };\r\n\r\n    this.agents.set(agentId, agent);\r\n    this.updateSwarmStatus();\r\n\r\n    this.ui.addLog('success', `Spawned ${type} agent: ${agent.name}`);\r\n    return agentId;\r\n  }\r\n\r\n  /**\r\n   * Create new task\r\n   */\r\n  async createTask(description, priority = 'medium', assignedTo = null) {\r\n    if (!this.swarmActive) {\r\n      this.ui.addLog('warning', 'Swarm not active - cannot create task');\r\n      return null;\r\n    }\r\n\r\n    const taskId = `task-${Date.now()}`;\r\n    const task = {\r\n      id: taskId,\r\n      description,\r\n      priority,\r\n      assignedTo,\r\n      status: 'pending',\r\n      created: new Date(),\r\n      swarmId: this.swarmId,\r\n    };\r\n\r\n    this.tasks.set(taskId, task);\r\n    this.updateSwarmStatus();\r\n\r\n    this.ui.addLog('success', `Created task: ${description}`);\r\n    return taskId;\r\n  }\r\n\r\n  /**\r\n   * Assign task to agent\r\n   */\r\n  async assignTask(taskId, agentId) {\r\n    const task = this.tasks.get(taskId);\r\n    const agent = this.agents.get(agentId);\r\n\r\n    if (!task || !agent) {\r\n      this.ui.addLog('error', 'Invalid task or agent ID');\r\n      return false;\r\n    }\r\n\r\n    task.assignedTo = agentId;\r\n    task.status = 'in_progress';\r\n    agent.tasks++;\r\n    agent.status = 'working';\r\n\r\n    this.updateSwarmStatus();\r\n    this.ui.addLog('info', `Assigned task \"${task.description}\" to ${agent.name}`);\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Complete task\r\n   */\r\n  async completeTask(taskId) {\r\n    const task = this.tasks.get(taskId);\r\n    if (!task) {\r\n      this.ui.addLog('error', 'Invalid task ID');\r\n      return false;\r\n    }\r\n\r\n    task.status = 'completed';\r\n    task.completed = new Date();\r\n\r\n    if (task.assignedTo) {\r\n      const agent = this.agents.get(task.assignedTo);\r\n      if (agent) {\r\n        agent.tasks = Math.max(0, agent.tasks - 1);\r\n        if (agent.tasks === 0) {\r\n          agent.status = 'idle';\r\n        }\r\n      }\r\n    }\r\n\r\n    this.updateSwarmStatus();\r\n    this.ui.addLog('success', `Completed task: ${task.description}`);\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Get swarm metrics for display\r\n   */\r\n  getSwarmMetrics() {\r\n    if (!this.swarmActive) {\r\n      return null;\r\n    }\r\n\r\n    const totalAgents = this.agents.size;\r\n    const activeAgents = Array.from(this.agents.values()).filter(\r\n      (a) => a.status === 'working',\r\n    ).length;\r\n    const idleAgents = totalAgents - activeAgents;\r\n\r\n    const totalTasks = this.tasks.size;\r\n    const completedTasks = Array.from(this.tasks.values()).filter(\r\n      (t) => t.status === 'completed',\r\n    ).length;\r\n    const pendingTasks = Array.from(this.tasks.values()).filter(\r\n      (t) => t.status === 'pending',\r\n    ).length;\r\n    const inProgressTasks = Array.from(this.tasks.values()).filter(\r\n      (t) => t.status === 'in_progress',\r\n    ).length;\r\n\r\n    return {\r\n      swarmId: this.swarmId,\r\n      agents: {\r\n        total: totalAgents,\r\n        active: activeAgents,\r\n        idle: idleAgents,\r\n      },\r\n      tasks: {\r\n        total: totalTasks,\r\n        completed: completedTasks,\r\n        inProgress: inProgressTasks,\r\n        pending: pendingTasks,\r\n      },\r\n      efficiency: totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Stop swarm\r\n   */\r\n  async stopSwarm() {\r\n    if (!this.swarmActive) return;\r\n\r\n    this.swarmActive = false;\r\n    this.agents.clear();\r\n    this.tasks.clear();\r\n    this.swarmId = null;\r\n\r\n    this.ui.addLog('info', 'Swarm stopped and cleaned up');\r\n    this.updateSwarmStatus();\r\n  }\r\n}\r\n\r\nexport default SwarmWebUIIntegration;\r\n"],"names":["compat","SwarmWebUIIntegration","ui","swarmActive","swarmId","agents","Map","tasks","initializeSwarm","topology","maxAgents","hasSwarm","checkSwarmAvailability","addLog","initializeMockSwarm","Date","now","updateSwarmStatus","err","message","getEnv","agentTypes","forEach","type","index","agentId","set","id","name","charAt","toUpperCase","slice","status","capabilities","getAgentCapabilities","spawnTime","mockTasks","description","priority","assignedTo","task","taskId","created","researcher","coder","analyst","coordinator","tester","Array","from","values","systemStats","activeAgents","filter","a","length","totalTasks","completedTasks","t","spawnAgent","agent","createTask","assignTask","get","completeTask","completed","Math","max","getSwarmMetrics","totalAgents","size","idleAgents","pendingTasks","inProgressTasks","total","active","idle","inProgress","pending","efficiency","round","stopSwarm","clear"],"mappings":"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"}