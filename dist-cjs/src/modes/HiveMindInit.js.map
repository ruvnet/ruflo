{"version":3,"sources":["../../../src/modes/HiveMindInit.ts"],"sourcesContent":["/**\r\n * HiveMindInit - Hive Mind initialization mode\r\n * Sets up collective intelligence with Queen-Worker coordination\r\n */\r\n\r\nimport { IInitMode, InitConfig, InitResult } from '../types/interfaces.js';\r\n\r\nexport class HiveMindInit implements IInitMode {\r\n  getDescription(): string {\r\n    return 'Hive Mind initialization with collective intelligence, Queen-Worker coordination, and adaptive learning';\r\n  }\r\n\r\n  getRequiredComponents(): string[] {\r\n    return ['ConfigManager', 'DatabaseManager', 'TopologyManager', 'AgentRegistry', 'HiveMindCore', 'ConsensusEngine'];\r\n  }\r\n\r\n  validate(): boolean {\r\n    return true; // Hive Mind mode is always valid\r\n  }\r\n\r\n  async initialize(config: InitConfig): Promise<InitResult> {\r\n    const components: string[] = [];\r\n\r\n    try {\r\n      // Basic initialization\r\n      if (config.configManager) {\r\n        components.push('ConfigManager');\r\n      }\r\n\r\n      if (config.databaseManager) {\r\n        await config.databaseManager.initialize();\r\n        components.push('DatabaseManager');\r\n      }\r\n\r\n      // Use mesh topology for maximum connectivity in hive mind\r\n      if (config.topologyManager) {\r\n        await config.topologyManager.configure('mesh', []);\r\n        components.push('TopologyManager');\r\n      }\r\n\r\n      if (config.agentRegistry) {\r\n        await config.agentRegistry.initialize();\r\n        components.push('AgentRegistry');\r\n      }\r\n\r\n      // Initialize consensus engine with proof-of-learning\r\n      if (config.consensusEngine) {\r\n        await config.consensusEngine.setAlgorithm('proof-of-learning');\r\n        components.push('ConsensusEngine');\r\n      }\r\n\r\n      // Spawn Queen and specialized worker agents\r\n      if (config.agentRegistry) {\r\n        // Queen agent (strategic coordinator)\r\n        await config.agentRegistry.spawn('coordinator', {\r\n          capabilities: ['strategic-planning', 'objective-setting', 'delegation', 'adaptation'],\r\n          metadata: {\r\n            role: 'queen',\r\n            authority: 'high',\r\n            specialization: 'collective-intelligence'\r\n          }\r\n        });\r\n\r\n        // Research workers\r\n        for (let i = 0; i < 2; i++) {\r\n          await config.agentRegistry.spawn('researcher', {\r\n            capabilities: ['research', 'analysis', 'data-gathering', 'pattern-recognition'],\r\n            metadata: {\r\n              role: 'worker',\r\n              specialization: 'research',\r\n              pool: 'research-pool'\r\n            }\r\n          });\r\n        }\r\n\r\n        // Development workers\r\n        for (let i = 0; i < 2; i++) {\r\n          await config.agentRegistry.spawn('coder', {\r\n            capabilities: ['programming', 'debugging', 'refactoring', 'architecture'],\r\n            metadata: {\r\n              role: 'worker',\r\n              specialization: 'development',\r\n              pool: 'development-pool'\r\n            }\r\n          });\r\n        }\r\n\r\n        // Testing workers\r\n        await config.agentRegistry.spawn('tester', {\r\n          capabilities: ['testing', 'quality-assurance', 'validation', 'performance-testing'],\r\n          metadata: {\r\n            role: 'worker',\r\n            specialization: 'testing',\r\n            pool: 'testing-pool'\r\n          }\r\n        });\r\n\r\n        // Optimization workers\r\n        await config.agentRegistry.spawn('optimizer', {\r\n          capabilities: ['performance-optimization', 'resource-management', 'bottleneck-analysis'],\r\n          metadata: {\r\n            role: 'worker',\r\n            specialization: 'optimization',\r\n            pool: 'optimization-pool'\r\n          }\r\n        });\r\n\r\n        components.push('HiveMindAgents');\r\n      }\r\n\r\n      // Initialize Hive Mind Core\r\n      if (config.hiveMindCore) {\r\n        await config.hiveMindCore.initialize();\r\n        components.push('HiveMindCore');\r\n      }\r\n\r\n      // Set up collective intelligence memory structures\r\n      if (config.databaseManager) {\r\n        await config.databaseManager.store('hive-mind-config', {\r\n          initialized: true,\r\n          mode: 'hive-mind',\r\n          queenEnabled: true,\r\n          workerPools: ['research', 'development', 'testing', 'optimization'],\r\n          consensusAlgorithm: 'proof-of-learning',\r\n          adaptationRate: 0.1,\r\n          timestamp: new Date().toISOString()\r\n        }, 'hive-mind');\r\n\r\n        // Initialize objective tracking\r\n        await config.databaseManager.store('objectives', {\r\n          active: [],\r\n          completed: [],\r\n          strategies: {}\r\n        }, 'hive-mind');\r\n\r\n        components.push('HiveMindMemory');\r\n      }\r\n\r\n      // Set up initial collective objective\r\n      if (config.hiveMindCore) {\r\n        const initialObjective = await config.hiveMindCore.setObjective({\r\n          description: 'Establish collective intelligence coordination',\r\n          goals: [\r\n            { description: 'Optimize inter-agent communication', metric: 'latency', target: 100, weight: 0.3 },\r\n            { description: 'Maximize task success rate', metric: 'success_rate', target: 0.95, weight: 0.4 },\r\n            { description: 'Efficient resource utilization', metric: 'efficiency', target: 0.8, weight: 0.3 }\r\n          ],\r\n          constraints: [\r\n            { type: 'resource', description: 'Maximum 8 concurrent agents', value: 8 },\r\n            { type: 'time', description: 'Continuous operation', value: 'ongoing' }\r\n          ],\r\n          priority: 'high'\r\n        });\r\n\r\n        components.push('InitialObjective');\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        mode: 'hive-mind',\r\n        components,\r\n        topology: 'mesh',\r\n        message: 'Hive Mind initialization completed successfully - Collective intelligence active',\r\n        metadata: {\r\n          queenEnabled: true,\r\n          workerPools: 4,\r\n          totalAgents: 7,\r\n          consensusAlgorithm: 'proof-of-learning',\r\n          collectiveIntelligence: true,\r\n          adaptiveLearning: true\r\n        }\r\n      };\r\n\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        mode: 'hive-mind',\r\n        components,\r\n        error: error instanceof Error ? error.message : String(error),\r\n        message: 'Hive Mind initialization failed'\r\n      };\r\n    }\r\n  }\r\n}"],"names":["HiveMindInit","getDescription","getRequiredComponents","validate","initialize","config","components","configManager","push","databaseManager","topologyManager","configure","agentRegistry","consensusEngine","setAlgorithm","spawn","capabilities","metadata","role","authority","specialization","i","pool","hiveMindCore","store","initialized","mode","queenEnabled","workerPools","consensusAlgorithm","adaptationRate","timestamp","Date","toISOString","active","completed","strategies","initialObjective","setObjective","description","goals","metric","target","weight","constraints","type","value","priority","success","topology","message","totalAgents","collectiveIntelligence","adaptiveLearning","error","Error","String"],"mappings":"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"}