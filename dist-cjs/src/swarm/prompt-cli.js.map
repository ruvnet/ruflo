{"version":3,"sources":["../../../src/swarm/prompt-cli.ts"],"sourcesContent":["#!/usr/bin/env node\r\n\r\nimport { Command } from '../commander-fix.js';\r\nimport * as path from 'path';\r\nimport { copyPrompts, copyPromptsEnhanced } from './prompt-copier-enhanced.js';\r\nimport {\r\n  PromptConfigManager,\r\n  PromptPathResolver,\r\n  PromptValidator,\r\n  createProgressBar,\r\n  formatFileSize,\r\n  formatDuration,\r\n} from './prompt-utils.js';\r\nimport { logger } from '../core/logger.js';\r\n\r\nconst program = new Command();\r\n\r\nprogram\r\n  .name('prompt-copier')\r\n  .description('Robust prompt copying mechanism for Claude-Flow')\r\n  .version('1.0.0');\r\n\r\nprogram\r\n  .command('copy')\r\n  .description('Copy prompts from source to destination')\r\n  .option('-s, --source <path>', 'Source directory')\r\n  .option('-d, --destination <path>', 'Destination directory')\r\n  .option('-p, --profile <name>', 'Configuration profile to use')\r\n  .option('--no-backup', 'Disable backup creation')\r\n  .option('--no-verify', 'Disable file verification')\r\n  .option('--no-parallel', 'Disable parallel processing')\r\n  .option('--workers <number>', 'Number of worker threads', parseInt)\r\n  .option(\r\n    '--conflict <strategy>',\r\n    'Conflict resolution strategy',\r\n    /^(skip|overwrite|backup|merge)$/,\r\n  )\r\n  .option('--include <patterns>', 'Include patterns (comma-separated)')\r\n  .option('--exclude <patterns>', 'Exclude patterns (comma-separated)')\r\n  .option('--dry-run', 'Show what would be copied without actually copying')\r\n  .option('--enhanced', 'Use enhanced copier with worker threads')\r\n  .action(async (options) => {\r\n    try {\r\n      const configManager = new PromptConfigManager();\r\n      const config = await configManager.loadConfig();\r\n\r\n      let copyOptions;\r\n\r\n      if (options.profile) {\r\n        const profileOptions = configManager.getProfile(options.profile);\r\n        copyOptions = {\r\n          source: options.source || config.sourceDirectories[0],\r\n          destination: options.destination || config.destinationDirectory,\r\n          ...profileOptions,\r\n        };\r\n      } else {\r\n        copyOptions = {\r\n          source: options.source || config.sourceDirectories[0],\r\n          destination: options.destination || config.destinationDirectory,\r\n          backup: options.backup,\r\n          verify: options.verify,\r\n          parallel: options.parallel,\r\n          maxWorkers: options.workers || config.defaultOptions.maxWorkers,\r\n          conflictResolution: options.conflict || config.defaultOptions.conflictResolution,\r\n          includePatterns: options.include\r\n            ? options.include.split(',')\r\n            : config.defaultOptions.includePatterns,\r\n          excludePatterns: options.exclude\r\n            ? options.exclude.split(',')\r\n            : config.defaultOptions.excludePatterns,\r\n          dryRun: options.dryRun,\r\n        };\r\n      }\r\n\r\n      // Create progress bar\r\n      let progressBar: ReturnType<typeof createProgressBar> | null = null;\r\n\r\n      copyOptions.progressCallback = (progress) => {\r\n        if (!progressBar) {\r\n          progressBar = createProgressBar(progress.total);\r\n        }\r\n        progressBar.update(progress.completed);\r\n\r\n        if (progress.completed === progress.total) {\r\n          progressBar.complete();\r\n        }\r\n      };\r\n\r\n      console.log('Starting prompt copy operation...');\r\n      console.log(`Source: ${copyOptions.source}`);\r\n      console.log(`Destination: ${copyOptions.destination}`);\r\n      console.log(`Options: ${JSON.stringify(copyOptions, null, 2)}`);\r\n\r\n      const copyFunction = options.enhanced ? copyPromptsEnhanced : copyPrompts;\r\n      const result = await copyFunction(copyOptions);\r\n\r\n      console.log('\\n=== Copy Results ===');\r\n      console.log(`Success: ${result.success ? '‚úÖ' : '‚ùå'}`);\r\n      console.log(`Total files: ${result.totalFiles}`);\r\n      console.log(`Copied: ${result.copiedFiles}`);\r\n      console.log(`Failed: ${result.failedFiles}`);\r\n      console.log(`Skipped: ${result.skippedFiles}`);\r\n      console.log(`Duration: ${formatDuration(result.duration)}`);\r\n\r\n      if (result.backupLocation) {\r\n        console.log(`Backup manifest: ${result.backupLocation}`);\r\n      }\r\n\r\n      if (result.errors.length > 0) {\r\n        console.log('\\n=== Errors ===');\r\n        result.errors.forEach((error) => {\r\n          console.log(`‚ùå ${error.file}: ${error.error} (${error.phase})`);\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Copy operation failed:', error);\r\n      process.exit(1);\r\n    }\r\n  });\r\n\r\nprogram\r\n  .command('discover')\r\n  .description('Discover prompt directories in the current project')\r\n  .option('-b, --base <path>', 'Base path to search from', process.cwd())\r\n  .action(async (options) => {\r\n    try {\r\n      const resolver = new PromptPathResolver(options.base);\r\n      const directories = await resolver.discoverPromptDirectories();\r\n\r\n      console.log('Discovered prompt directories:');\r\n      directories.forEach((dir) => {\r\n        console.log(`  üìÅ ${dir}`);\r\n      });\r\n\r\n      if (directories.length === 0) {\r\n        console.log('  No prompt directories found');\r\n      }\r\n    } catch (error) {\r\n      console.error('Discovery failed:', error);\r\n      process.exit(1);\r\n    }\r\n  });\r\n\r\nprogram\r\n  .command('validate <path>')\r\n  .description('Validate prompt files')\r\n  .option('--recursive', 'Validate recursively')\r\n  .action(async (filePath, options) => {\r\n    try {\r\n      const stats = await require('fs').promises.stat(filePath);\r\n      const files: string[] = [];\r\n\r\n      if (stats.isFile()) {\r\n        files.push(filePath);\r\n      } else if (stats.isDirectory()) {\r\n        // Scan directory for prompt files\r\n        const scanDir = async (dir: string) => {\r\n          const entries = await require('fs').promises.readdir(dir, { withFileTypes: true });\r\n\r\n          for (const entry of entries) {\r\n            const fullPath = path.join(dir, entry.name);\r\n\r\n            if (\r\n              entry.isFile() &&\r\n              (entry.name.endsWith('.md') ||\r\n                entry.name.endsWith('.txt') ||\r\n                entry.name.endsWith('.prompt'))\r\n            ) {\r\n              files.push(fullPath);\r\n            } else if (entry.isDirectory() && options.recursive) {\r\n              await scanDir(fullPath);\r\n            }\r\n          }\r\n        };\r\n\r\n        await scanDir(filePath);\r\n      }\r\n\r\n      console.log(`Validating ${files.length} files...`);\r\n\r\n      let validFiles = 0;\r\n      let invalidFiles = 0;\r\n\r\n      for (const file of files) {\r\n        const result = await PromptValidator.validatePromptFile(file);\r\n\r\n        if (result.valid) {\r\n          validFiles++;\r\n          console.log(`‚úÖ ${file}`);\r\n        } else {\r\n          invalidFiles++;\r\n          console.log(`‚ùå ${file}`);\r\n          result.issues.forEach((issue) => {\r\n            console.log(`   - ${issue}`);\r\n          });\r\n        }\r\n\r\n        if (result.metadata && Object.keys(result.metadata).length > 0) {\r\n          console.log(`   Metadata: ${JSON.stringify(result.metadata)}`);\r\n        }\r\n      }\r\n\r\n      console.log(`\\nValidation complete: ${validFiles} valid, ${invalidFiles} invalid`);\r\n    } catch (error) {\r\n      console.error('Validation failed:', error);\r\n      process.exit(1);\r\n    }\r\n  });\r\n\r\nprogram\r\n  .command('config')\r\n  .description('Manage configuration')\r\n  .option('--init', 'Initialize default configuration')\r\n  .option('--show', 'Show current configuration')\r\n  .option('--profiles', 'List available profiles')\r\n  .action(async (options) => {\r\n    try {\r\n      const configManager = new PromptConfigManager();\r\n\r\n      if (options.init) {\r\n        await configManager.saveConfig();\r\n        console.log('‚úÖ Configuration initialized');\r\n      } else if (options.show) {\r\n        const config = await configManager.loadConfig();\r\n        console.log(JSON.stringify(config, null, 2));\r\n      } else if (options.profiles) {\r\n        const config = await configManager.loadConfig();\r\n        const profiles = configManager.listProfiles();\r\n\r\n        console.log('Available profiles:');\r\n        profiles.forEach((profile) => {\r\n          console.log(`  üìã ${profile}`);\r\n          const profileOptions = configManager.getProfile(profile);\r\n          Object.entries(profileOptions).forEach(([key, value]) => {\r\n            console.log(`     ${key}: ${JSON.stringify(value)}`);\r\n          });\r\n        });\r\n      } else {\r\n        console.log('Use --init, --show, or --profiles');\r\n      }\r\n    } catch (error) {\r\n      console.error('Configuration operation failed:', error);\r\n      process.exit(1);\r\n    }\r\n  });\r\n\r\nprogram\r\n  .command('rollback <manifest>')\r\n  .description('Rollback from backup')\r\n  .action(async (manifestPath) => {\r\n    try {\r\n      const { PromptCopier } = await import('./prompt-copier.js');\r\n      const copier = new PromptCopier({\r\n        source: '',\r\n        destination: '',\r\n      });\r\n\r\n      await copier.restoreFromBackup(manifestPath);\r\n      console.log('‚úÖ Rollback completed');\r\n    } catch (error) {\r\n      console.error('Rollback failed:', error);\r\n      process.exit(1);\r\n    }\r\n  });\r\n\r\nprogram\r\n  .command('sync')\r\n  .description('Synchronize prompts between directories')\r\n  .option('-s, --source <path>', 'Source directory')\r\n  .option('-d, --destination <path>', 'Destination directory')\r\n  .option('--bidirectional', 'Enable bidirectional sync')\r\n  .option('--delete', 'Delete files not present in source')\r\n  .action(async (options) => {\r\n    try {\r\n      // This would implement incremental sync functionality\r\n      console.log('Sync functionality not yet implemented');\r\n      console.log('Options:', options);\r\n    } catch (error) {\r\n      console.error('Sync failed:', error);\r\n      process.exit(1);\r\n    }\r\n  });\r\n\r\n// Handle uncaught errors\r\nprocess.on('uncaughtException', (error) => {\r\n  console.error('Uncaught exception:', error);\r\n  process.exit(1);\r\n});\r\n\r\nprocess.on('unhandledRejection', (reason) => {\r\n  console.error('Unhandled rejection:', reason);\r\n  process.exit(1);\r\n});\r\n\r\nif (require.main === module) {\r\n  program.parse();\r\n}\r\n\r\nexport { program };\r\n"],"names":["Command","path","copyPrompts","copyPromptsEnhanced","PromptConfigManager","PromptPathResolver","PromptValidator","createProgressBar","formatDuration","program","name","description","version","command","option","parseInt","action","options","configManager","config","loadConfig","copyOptions","profile","profileOptions","getProfile","source","sourceDirectories","destination","destinationDirectory","backup","verify","parallel","maxWorkers","workers","defaultOptions","conflictResolution","conflict","includePatterns","include","split","excludePatterns","exclude","dryRun","progressBar","progressCallback","progress","total","update","completed","complete","console","log","JSON","stringify","copyFunction","enhanced","result","success","totalFiles","copiedFiles","failedFiles","skippedFiles","duration","backupLocation","errors","length","forEach","error","file","phase","process","exit","cwd","resolver","base","directories","discoverPromptDirectories","dir","filePath","stats","require","promises","stat","files","isFile","push","isDirectory","scanDir","entries","readdir","withFileTypes","entry","fullPath","join","endsWith","recursive","validFiles","invalidFiles","validatePromptFile","valid","issues","issue","metadata","Object","keys","init","saveConfig","show","profiles","listProfiles","key","value","manifestPath","PromptCopier","copier","restoreFromBackup","on","reason","main","module","parse"],"mappings":"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"}