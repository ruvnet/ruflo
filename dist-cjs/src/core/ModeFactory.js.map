{"version":3,"sources":["../../../src/core/ModeFactory.ts"],"sourcesContent":["/**\r\n * ModeFactory - Creates specific initialization modes\r\n * Implements the Factory pattern for different initialization strategies\r\n */\r\n\r\nimport { IInitMode, InitMode } from '../types/interfaces.js';\r\nimport { StandardInit } from '../modes/StandardInit.js';\r\nimport { GitHubInit } from '../modes/GitHubInit.js';\r\nimport { HiveMindInit } from '../modes/HiveMindInit.js';\r\nimport { SparcInit } from '../modes/SparcInit.js';\r\nimport { NeuralInit } from '../modes/NeuralInit.js';\r\nimport { EnterpriseInit } from '../modes/EnterpriseInit.js';\r\n\r\nexport class ModeFactory {\r\n  private modes: Map<InitMode, () => IInitMode> = new Map();\r\n\r\n  constructor() {\r\n    this.registerModes();\r\n  }\r\n\r\n  /**\r\n   * Register all available initialization modes\r\n   */\r\n  private registerModes(): void {\r\n    this.modes.set('standard', () => new StandardInit());\r\n    this.modes.set('github', () => new GitHubInit());\r\n    this.modes.set('hive-mind', () => new HiveMindInit());\r\n    this.modes.set('sparc', () => new SparcInit());\r\n    this.modes.set('neural', () => new NeuralInit());\r\n    this.modes.set('enterprise', () => new EnterpriseInit());\r\n  }\r\n\r\n  /**\r\n   * Create a specific initialization mode\r\n   */\r\n  createMode(mode: InitMode): IInitMode {\r\n    const modeFactory = this.modes.get(mode);\r\n\r\n    if (!modeFactory) {\r\n      throw new Error(`Unknown initialization mode: ${mode}. Available modes: ${this.getAvailableModes().join(', ')}`);\r\n    }\r\n\r\n    return modeFactory();\r\n  }\r\n\r\n  /**\r\n   * Get list of available initialization modes\r\n   */\r\n  getAvailableModes(): InitMode[] {\r\n    return Array.from(this.modes.keys());\r\n  }\r\n\r\n  /**\r\n   * Get mode descriptions\r\n   */\r\n  getModeDescriptions(): Record<InitMode, string> {\r\n    const descriptions: Partial<Record<InitMode, string>> = {};\r\n\r\n    for (const mode of this.getAvailableModes()) {\r\n      try {\r\n        const modeInstance = this.createMode(mode);\r\n        descriptions[mode] = modeInstance.getDescription();\r\n      } catch (error) {\r\n        descriptions[mode] = `Error loading mode: ${error}`;\r\n      }\r\n    }\r\n\r\n    return descriptions as Record<InitMode, string>;\r\n  }\r\n\r\n  /**\r\n   * Validate if a mode exists and is functional\r\n   */\r\n  validateMode(mode: InitMode): boolean {\r\n    try {\r\n      const modeInstance = this.createMode(mode);\r\n      return modeInstance.validate();\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get required components for a specific mode\r\n   */\r\n  getRequiredComponents(mode: InitMode): string[] {\r\n    try {\r\n      const modeInstance = this.createMode(mode);\r\n      return modeInstance.getRequiredComponents();\r\n    } catch (error) {\r\n      return [];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Register a custom initialization mode\r\n   */\r\n  registerCustomMode(mode: InitMode, factory: () => IInitMode): void {\r\n    this.modes.set(mode, factory);\r\n  }\r\n\r\n  /**\r\n   * Remove a registered mode\r\n   */\r\n  unregisterMode(mode: InitMode): boolean {\r\n    return this.modes.delete(mode);\r\n  }\r\n}"],"names":["StandardInit","GitHubInit","HiveMindInit","SparcInit","NeuralInit","EnterpriseInit","ModeFactory","modes","Map","registerModes","set","createMode","mode","modeFactory","get","Error","getAvailableModes","join","Array","from","keys","getModeDescriptions","descriptions","modeInstance","getDescription","error","validateMode","validate","getRequiredComponents","registerCustomMode","factory","unregisterMode","delete"],"mappings":"AAMA,SAASA,YAAY,QAAQ,2BAA2B;AACxD,SAASC,UAAU,QAAQ,yBAAyB;AACpD,SAASC,YAAY,QAAQ,2BAA2B;AACxD,SAASC,SAAS,QAAQ,wBAAwB;AAClD,SAASC,UAAU,QAAQ,yBAAyB;AACpD,SAASC,cAAc,QAAQ,6BAA6B;AAE5D,OAAO,MAAMC;IACHC,QAAwC,IAAIC,MAAM;IAE1D,aAAc;QACZ,IAAI,CAACC,aAAa;IACpB;IAKQA,gBAAsB;QAC5B,IAAI,CAACF,KAAK,CAACG,GAAG,CAAC,YAAY,IAAM,IAAIV;QACrC,IAAI,CAACO,KAAK,CAACG,GAAG,CAAC,UAAU,IAAM,IAAIT;QACnC,IAAI,CAACM,KAAK,CAACG,GAAG,CAAC,aAAa,IAAM,IAAIR;QACtC,IAAI,CAACK,KAAK,CAACG,GAAG,CAAC,SAAS,IAAM,IAAIP;QAClC,IAAI,CAACI,KAAK,CAACG,GAAG,CAAC,UAAU,IAAM,IAAIN;QACnC,IAAI,CAACG,KAAK,CAACG,GAAG,CAAC,cAAc,IAAM,IAAIL;IACzC;IAKAM,WAAWC,IAAc,EAAa;QACpC,MAAMC,cAAc,IAAI,CAACN,KAAK,CAACO,GAAG,CAACF;QAEnC,IAAI,CAACC,aAAa;YAChB,MAAM,IAAIE,MAAM,CAAC,6BAA6B,EAAEH,KAAK,mBAAmB,EAAE,IAAI,CAACI,iBAAiB,GAAGC,IAAI,CAAC,OAAO;QACjH;QAEA,OAAOJ;IACT;IAKAG,oBAAgC;QAC9B,OAAOE,MAAMC,IAAI,CAAC,IAAI,CAACZ,KAAK,CAACa,IAAI;IACnC;IAKAC,sBAAgD;QAC9C,MAAMC,eAAkD,CAAC;QAEzD,KAAK,MAAMV,QAAQ,IAAI,CAACI,iBAAiB,GAAI;YAC3C,IAAI;gBACF,MAAMO,eAAe,IAAI,CAACZ,UAAU,CAACC;gBACrCU,YAAY,CAACV,KAAK,GAAGW,aAAaC,cAAc;YAClD,EAAE,OAAOC,OAAO;gBACdH,YAAY,CAACV,KAAK,GAAG,CAAC,oBAAoB,EAAEa,OAAO;YACrD;QACF;QAEA,OAAOH;IACT;IAKAI,aAAad,IAAc,EAAW;QACpC,IAAI;YACF,MAAMW,eAAe,IAAI,CAACZ,UAAU,CAACC;YACrC,OAAOW,aAAaI,QAAQ;QAC9B,EAAE,OAAOF,OAAO;YACd,OAAO;QACT;IACF;IAKAG,sBAAsBhB,IAAc,EAAY;QAC9C,IAAI;YACF,MAAMW,eAAe,IAAI,CAACZ,UAAU,CAACC;YACrC,OAAOW,aAAaK,qBAAqB;QAC3C,EAAE,OAAOH,OAAO;YACd,OAAO,EAAE;QACX;IACF;IAKAI,mBAAmBjB,IAAc,EAAEkB,OAAwB,EAAQ;QACjE,IAAI,CAACvB,KAAK,CAACG,GAAG,CAACE,MAAMkB;IACvB;IAKAC,eAAenB,IAAc,EAAW;QACtC,OAAO,IAAI,CAACL,KAAK,CAACyB,MAAM,CAACpB;IAC3B;AACF"}