{"version":3,"sources":["../../../../../src/cli/simple-commands/github/init.js"],"sourcesContent":["#!/usr/bin/env node\r\n/**\r\n * GitHub init command - Initialize GitHub-specific hooks and checkpoint system\r\n */\r\n\r\nimport { existsSync } from 'fs';\r\nimport { access, constants, mkdir, readFile, writeFile } from 'fs/promises';\r\nimport { join, dirname } from 'path';\r\nimport { printSuccess, printError, printWarning, printInfo } from '../../utils.js';\r\nimport { spawn } from 'child_process';\r\nimport { promisify } from 'util';\r\nconst exec = promisify(spawn);\r\n\r\n/**\r\n * Create GitHub-specific checkpoint hooks\r\n */\r\nasync function createGitHubCheckpointHooks() {\r\n  const helpersDir = join(process.cwd(), '.claude', 'helpers');\r\n  const checkpointHooksPath = join(helpersDir, 'github-checkpoint-hooks.sh');\r\n  \r\n  const content = `#!/bin/bash\r\n# GitHub-specific checkpoint hook functions for Claude settings.json\r\n\r\n# Function to handle pre-edit checkpoints\r\npre_edit_checkpoint() {\r\n    local tool_input=\"$1\"\r\n    local file=$(echo \"$tool_input\" | jq -r '.file_path // empty')\r\n    \r\n    if [ -n \"$file\" ]; then\r\n        local checkpoint_branch=\"checkpoint/pre-edit-$(date +%Y%m%d-%H%M%S)\"\r\n        local current_branch=$(git branch --show-current)\r\n        \r\n        # Create checkpoint\r\n        git add -A\r\n        git stash push -m \"Pre-edit checkpoint for $file\" >/dev/null 2>&1\r\n        git branch \"$checkpoint_branch\"\r\n        \r\n        # Store metadata\r\n        mkdir -p .claude/checkpoints\r\n        cat > \".claude/checkpoints/$(date +%s).json\" <<EOF\r\n{\r\n  \"branch\": \"$checkpoint_branch\",\r\n  \"file\": \"$file\",\r\n  \"timestamp\": \"$(date -u +%Y-%m-%dT%H:%M:%SZ)\",\r\n  \"type\": \"pre-edit\",\r\n  \"original_branch\": \"$current_branch\"\r\n}\r\nEOF\r\n        \r\n        # Restore working directory\r\n        git stash pop --quiet >/dev/null 2>&1 || true\r\n        \r\n        echo \"‚úÖ Created checkpoint: $checkpoint_branch for $file\"\r\n    fi\r\n}\r\n\r\n# Function to handle post-edit checkpoints with GitHub release\r\npost_edit_checkpoint() {\r\n    local tool_input=\"$1\"\r\n    local file=$(echo \"$tool_input\" | jq -r '.file_path // empty')\r\n    \r\n    if [ -n \"$file\" ] && [ -f \"$file\" ]; then\r\n        # Check if file was modified - first check if file is tracked\r\n        if ! git ls-files --error-unmatch \"$file\" >/dev/null 2>&1; then\r\n            # File is not tracked, add it first\r\n            git add \"$file\"\r\n        fi\r\n        \r\n        # Now check if there are changes\r\n        if git diff --cached --quiet \"$file\" 2>/dev/null && git diff --quiet \"$file\" 2>/dev/null; then\r\n            echo \"‚ÑπÔ∏è  No changes to checkpoint for $file\"\r\n        else\r\n            local tag_name=\"checkpoint-$(date +%Y%m%d-%H%M%S)\"\r\n            local current_branch=$(git branch --show-current)\r\n            \r\n            # Create commit\r\n            git add \"$file\"\r\n            if git commit -m \"üîñ Checkpoint: Edit $file\r\n\r\nAutomatic checkpoint created by Claude\r\n- File: $file\r\n- Branch: $current_branch\r\n- Timestamp: $(date -u +%Y-%m-%dT%H:%M:%SZ)\r\n\r\n[Auto-checkpoint]\" --quiet; then\r\n                # Create tag only if commit succeeded\r\n                git tag -a \"$tag_name\" -m \"Checkpoint after editing $file\"\r\n                \r\n                # Store metadata\r\n                mkdir -p .claude/checkpoints\r\n                local diff_stats=$(git diff HEAD~1 --stat | tr '\\\\n' ' ' | sed 's/\"/\\\\\\\\\"/g')\r\n                cat > \".claude/checkpoints/$(date +%s).json\" <<EOF\r\n{\r\n  \"tag\": \"$tag_name\",\r\n  \"file\": \"$file\",\r\n  \"timestamp\": \"$(date -u +%Y-%m-%dT%H:%M:%SZ)\",\r\n  \"type\": \"post-edit\",\r\n  \"branch\": \"$current_branch\",\r\n  \"diff_summary\": \"$diff_stats\"\r\n}\r\nEOF\r\n                \r\n                echo \"‚úÖ Created checkpoint: $tag_name for $file\"\r\n            else\r\n                echo \"‚ÑπÔ∏è  No commit created (no changes or commit failed)\"\r\n            fi\r\n        fi\r\n    fi\r\n}\r\n\r\n# Function to handle task checkpoints with GitHub release\r\ntask_checkpoint() {\r\n    local user_prompt=\"$1\"\r\n    local task=$(echo \"$user_prompt\" | head -c 100 | tr '\\\\n' ' ')\r\n    \r\n    if [ -n \"$task\" ]; then\r\n        local checkpoint_name=\"task-$(date +%Y%m%d-%H%M%S)\"\r\n        \r\n        # Commit current state\r\n        git add -A\r\n        git commit -m \"üîñ Task checkpoint: $task...\" --quiet || true\r\n        \r\n        # Create GitHub release if gh CLI is available\r\n        if command -v gh &> /dev/null; then\r\n            echo \"üöÄ Creating GitHub release for checkpoint...\"\r\n            gh release create \"$checkpoint_name\" \\\\\r\n                --title \"Checkpoint: $(date +'%Y-%m-%d %H:%M')\" \\\\\r\n                --notes \"Task: $task\r\n\r\n## Checkpoint Details\r\n- Branch: $(git branch --show-current)\r\n- Commit: $(git rev-parse HEAD)\r\n- Files changed: $(git diff HEAD~1 --stat | wc -l) files\r\n\r\n## Rollback Instructions\r\n\\`\\`\\`bash\r\n# To rollback to this checkpoint:\r\ngit checkout $checkpoint_name\r\n\\`\\`\\`\" \\\\\r\n                --prerelease || echo \"‚ö†Ô∏è  Failed to create GitHub release\"\r\n        fi\r\n        \r\n        # Store metadata\r\n        mkdir -p .claude/checkpoints\r\n        cat > \".claude/checkpoints/task-$(date +%s).json\" <<EOF\r\n{\r\n  \"checkpoint\": \"$checkpoint_name\",\r\n  \"task\": \"$task\",\r\n  \"timestamp\": \"$(date -u +%Y-%m-%dT%H:%M:%SZ)\",\r\n  \"commit\": \"$(git rev-parse HEAD)\",\r\n  \"github_release\": \"$(command -v gh &> /dev/null && echo 'true' || echo 'false')\"\r\n}\r\nEOF\r\n        \r\n        echo \"‚úÖ Created task checkpoint: $checkpoint_name\"\r\n    fi\r\n}\r\n\r\n# Function to handle session end with GitHub summary\r\nsession_end_checkpoint() {\r\n    local session_id=\"session-$(date +%Y%m%d-%H%M%S)\"\r\n    local summary_file=\".claude/checkpoints/summary-$session_id.md\"\r\n    \r\n    mkdir -p .claude/checkpoints\r\n    \r\n    # Create detailed summary\r\n    cat > \"$summary_file\" <<EOF\r\n# Session Summary - $(date +'%Y-%m-%d %H:%M:%S')\r\n\r\n## Checkpoints Created\r\n$(find .claude/checkpoints -name '*.json' -mtime -1 -exec basename {} \\\\; | sort)\r\n\r\n## Files Modified\r\n$(git diff --name-only $(git log --format=%H -n 1 --before=\"1 hour ago\" 2>/dev/null) 2>/dev/null || echo \"No files tracked\")\r\n\r\n## Recent Commits\r\n$(git log --oneline -10 --grep=\"Checkpoint\" || echo \"No checkpoint commits\")\r\n\r\n## GitHub Releases Created\r\n$(gh release list --limit 10 | grep \"checkpoint-\" || echo \"No GitHub releases\")\r\n\r\n## Rollback Instructions\r\nTo rollback to a specific checkpoint:\r\n\\`\\`\\`bash\r\n# List all checkpoints\r\ngit tag -l 'checkpoint-*' | sort -r\r\n\r\n# List GitHub releases\r\ngh release list\r\n\r\n# Rollback to a checkpoint\r\ngit checkout checkpoint-YYYYMMDD-HHMMSS\r\n\r\n# Or download release\r\ngh release download checkpoint-YYYYMMDD-HHMMSS\r\n\r\n# Or reset to a checkpoint (destructive)\r\ngit reset --hard checkpoint-YYYYMMDD-HHMMSS\r\n\\`\\`\\`\r\nEOF\r\n    \r\n    # Create final checkpoint\r\n    git add -A\r\n    git commit -m \"üèÅ Session end checkpoint: $session_id\" --quiet || true\r\n    git tag -a \"session-end-$session_id\" -m \"End of Claude session\"\r\n    \r\n    # Create GitHub session summary if gh is available\r\n    if command -v gh &> /dev/null; then\r\n        echo \"üìä Creating GitHub session summary...\"\r\n        gh release create \"session-$session_id\" \\\\\r\n            --title \"Session Summary: $(date +'%Y-%m-%d %H:%M')\" \\\\\r\n            --notes-file \"$summary_file\" \\\\\r\n            --prerelease || echo \"‚ö†Ô∏è  Failed to create GitHub session summary\"\r\n    fi\r\n    \r\n    echo \"‚úÖ Session summary saved to: $summary_file\"\r\n    echo \"üìå Final checkpoint: session-end-$session_id\"\r\n}\r\n\r\n# Main entry point\r\ncase \"$1\" in\r\n    pre-edit)\r\n        pre_edit_checkpoint \"$2\"\r\n        ;;\r\n    post-edit)\r\n        post_edit_checkpoint \"$2\"\r\n        ;;\r\n    task)\r\n        task_checkpoint \"$2\"\r\n        ;;\r\n    session-end)\r\n        session_end_checkpoint\r\n        ;;\r\n    *)\r\n        echo \"Usage: $0 {pre-edit|post-edit|task|session-end} [input]\"\r\n        exit 1\r\n        ;;\r\nesac\r\n`;\r\n  \r\n  await writeFile(checkpointHooksPath, content, { mode: 0o755 });\r\n  return checkpointHooksPath;\r\n}\r\n\r\n/**\r\n * Create GitHub-specific settings.json\r\n */\r\nasync function createGitHubSettingsJson() {\r\n  const settingsPath = join(process.cwd(), '.claude', 'settings.json');\r\n  \r\n  const settings = {\r\n    env: {\r\n      CLAUDE_FLOW_AUTO_COMMIT: 'false',\r\n      CLAUDE_FLOW_AUTO_PUSH: 'false',\r\n      CLAUDE_FLOW_HOOKS_ENABLED: 'true',\r\n      CLAUDE_FLOW_TELEMETRY_ENABLED: 'true',\r\n      CLAUDE_FLOW_REMOTE_EXECUTION: 'true',\r\n      CLAUDE_FLOW_GITHUB_INTEGRATION: 'true',\r\n      CLAUDE_FLOW_CHECKPOINTS_ENABLED: 'true',\r\n      CREATE_GH_RELEASE: 'true'\r\n    },\r\n    permissions: {\r\n      allow: [\r\n        'Bash(npx claude-flow *)',\r\n        'Bash(npm run lint)',\r\n        'Bash(npm run test:*)',\r\n        'Bash(npm test *)',\r\n        'Bash(git status)',\r\n        'Bash(git diff *)',\r\n        'Bash(git log *)',\r\n        'Bash(git add *)',\r\n        'Bash(git commit *)',\r\n        'Bash(git push)',\r\n        'Bash(git config *)',\r\n        'Bash(git tag *)',\r\n        'Bash(git branch *)',\r\n        'Bash(git checkout *)',\r\n        'Bash(git stash *)',\r\n        'Bash(git reset *)',\r\n        'Bash(git rev-parse *)',\r\n        'Bash(git ls-files *)',\r\n        'Bash(gh *)',\r\n        'Bash(node *)',\r\n        'Bash(which *)',\r\n        'Bash(pwd)',\r\n        'Bash(ls *)',\r\n        'Bash(jq *)',\r\n        'Bash(test *)',\r\n        'Bash(find *)',\r\n        'Bash(grep *)',\r\n        'Bash(sed *)',\r\n        'Bash(awk *)',\r\n        'Bash(curl *)',\r\n        'Bash(mkdir *)',\r\n        'Bash(cd *)',\r\n        'Bash(cat *)',\r\n        'Bash(echo *)',\r\n        'Bash(npx claude-flow@alpha *)',\r\n        'Bash(./claude-flow *)',\r\n        'Bash(./.claude/helpers/*)'\r\n      ],\r\n      deny: [\r\n        'Bash(rm -rf /)',\r\n        'Bash(curl * | bash)',\r\n        'Bash(wget * | sh)',\r\n        'Bash(eval *)'\r\n      ]\r\n    },\r\n    hooks: {\r\n      PreToolUse: [\r\n        {\r\n          matcher: 'Bash',\r\n          hooks: [\r\n            {\r\n              type: 'command',\r\n              command: 'cat | jq -r \\'.tool_input.command // empty\\' | tr \\'\\\\n\\' \\'\\\\0\\' | xargs -0 -I {} npx claude-flow@alpha hooks pre-command --command \\'{}\\' --validate-safety true --prepare-resources true'\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          matcher: 'Write|Edit|MultiEdit',\r\n          hooks: [\r\n            {\r\n              type: 'command',\r\n              command: 'cat | jq -r \\'.tool_input.file_path // .tool_input.path // empty\\' | tr \\'\\\\n\\' \\'\\\\0\\' | xargs -0 -I {} npx claude-flow@alpha hooks pre-edit --file \\'{}\\' --auto-assign-agents true --load-context true'\r\n            },\r\n            {\r\n              type: 'command',\r\n              command: 'bash .claude/helpers/github-checkpoint-hooks.sh pre-edit \"{{tool_input}}\"'\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      PostToolUse: [\r\n        {\r\n          matcher: 'Bash',\r\n          hooks: [\r\n            {\r\n              type: 'command',\r\n              command: 'cat | jq -r \\'.tool_input.command // empty\\' | tr \\'\\\\n\\' \\'\\\\0\\' | xargs -0 -I {} npx claude-flow@alpha hooks post-command --command \\'{}\\' --track-metrics true --store-results true'\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          matcher: 'Write|Edit|MultiEdit',\r\n          hooks: [\r\n            {\r\n              type: 'command',\r\n              command: 'cat | jq -r \\'.tool_input.file_path // .tool_input.path // empty\\' | tr \\'\\\\n\\' \\'\\\\0\\' | xargs -0 -I {} npx claude-flow@alpha hooks post-edit --file \\'{}\\' --format true --update-memory true'\r\n            },\r\n            {\r\n              type: 'command',\r\n              command: 'bash .claude/helpers/github-checkpoint-hooks.sh post-edit \"{{tool_input}}\"'\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      UserPromptSubmit: [\r\n        {\r\n          hooks: [\r\n            {\r\n              type: 'command',\r\n              command: 'bash .claude/helpers/github-checkpoint-hooks.sh task \"{{user_prompt}}\"'\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      Stop: [\r\n        {\r\n          hooks: [\r\n            {\r\n              type: 'command',\r\n              command: 'npx claude-flow@alpha hooks session-end --generate-summary true --persist-state true --export-metrics true'\r\n            },\r\n            {\r\n              type: 'command',\r\n              command: 'bash .claude/helpers/github-checkpoint-hooks.sh session-end'\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      PreCompact: [\r\n        {\r\n          matcher: 'manual',\r\n          hooks: [\r\n            {\r\n              type: 'command',\r\n              command: '/bin/bash -c \\'INPUT=$(cat); CUSTOM=$(echo \"$INPUT\" | jq -r \".custom_instructions // \\\"\\\"\"); echo \"üîÑ PreCompact Guidance:\"; echo \"üìã IMPORTANT: Review CLAUDE.md in project root for:\"; echo \"   ‚Ä¢ 54 available agents and concurrent usage patterns\"; echo \"   ‚Ä¢ Swarm coordination strategies (hierarchical, mesh, adaptive)\"; echo \"   ‚Ä¢ SPARC methodology workflows with batchtools optimization\"; echo \"   ‚Ä¢ Critical concurrent execution rules (GOLDEN RULE: 1 MESSAGE = ALL OPERATIONS)\"; if [ -n \"$CUSTOM\" ]; then echo \"üéØ Custom compact instructions: $CUSTOM\"; fi; echo \"‚úÖ Ready for compact operation\"\\''\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          matcher: 'auto',\r\n          hooks: [\r\n            {\r\n              type: 'command',\r\n              command: '/bin/bash -c \\'echo \"üîÑ Auto-Compact Guidance (Context Window Full):\"; echo \"üìã CRITICAL: Before compacting, ensure you understand:\"; echo \"   ‚Ä¢ All 54 agents available in .claude/agents/ directory\"; echo \"   ‚Ä¢ Concurrent execution patterns from CLAUDE.md\"; echo \"   ‚Ä¢ Batchtools optimization for 300% performance gains\"; echo \"   ‚Ä¢ Swarm coordination strategies for complex tasks\"; echo \"‚ö° Apply GOLDEN RULE: Always batch operations in single messages\"; echo \"‚úÖ Auto-compact proceeding with full agent context\"\\''\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    includeCoAuthoredBy: true,\r\n    enabledMcpjsonServers: ['claude-flow', 'ruv-swarm']\r\n  };\r\n  \r\n  await writeFile(settingsPath, JSON.stringify(settings, null, 2));\r\n  return settingsPath;\r\n}\r\n\r\n/**\r\n * Initialize GitHub-specific hooks and checkpoint system\r\n */\r\nexport async function githubInitCommand(flags = {}) {\r\n  try {\r\n    console.log('üêô Initializing GitHub-specific hooks and checkpoint system...\\n');\r\n    \r\n    // Check if we're in a git repository\r\n    try {\r\n      const { execSync } = await import('child_process');\r\n      execSync('git rev-parse --git-dir', { stdio: 'ignore' });\r\n    } catch (error) {\r\n      printError('‚ùå Not in a git repository. Please initialize git first.');\r\n      return;\r\n    }\r\n    \r\n    // Check if gh CLI is available\r\n    let ghAvailable = false;\r\n    try {\r\n      const { execSync } = await import('child_process');\r\n      execSync('gh --version', { stdio: 'ignore' });\r\n      ghAvailable = true;\r\n      printSuccess('‚úÖ GitHub CLI detected');\r\n    } catch (error) {\r\n      printWarning('‚ö†Ô∏è  GitHub CLI not found. Some features will be limited.');\r\n      console.log('   Install gh: https://cli.github.com/');\r\n    }\r\n    \r\n    // Create .claude directory structure\r\n    const claudeDir = join(process.cwd(), '.claude');\r\n    const helpersDir = join(claudeDir, 'helpers');\r\n    const checkpointsDir = join(claudeDir, 'checkpoints');\r\n    \r\n    await mkdir(claudeDir, { recursive: true });\r\n    await mkdir(helpersDir, { recursive: true });\r\n    await mkdir(checkpointsDir, { recursive: true });\r\n    \r\n    // Check if settings.json already exists\r\n    const settingsPath = join(claudeDir, 'settings.json');\r\n    if (existsSync(settingsPath) && !flags.force) {\r\n      printWarning('‚ö†Ô∏è  settings.json already exists. Use --force to overwrite.');\r\n      return;\r\n    }\r\n    \r\n    // Create GitHub checkpoint hooks\r\n    const hooksPath = await createGitHubCheckpointHooks();\r\n    printSuccess(`‚úÖ Created GitHub checkpoint hooks: ${hooksPath}`);\r\n    \r\n    // Copy standard checkpoint manager\r\n    const checkpointManagerPath = join(helpersDir, 'checkpoint-manager.sh');\r\n    const checkpointManagerContent = await readFile(\r\n      join(dirname(import.meta.url).replace('file://', ''), '..', 'init', 'templates', 'commands', 'helpers', 'checkpoint-manager.sh'),\r\n      'utf8'\r\n    ).catch(() => {\r\n      // Fallback content if template not found\r\n      return `#!/bin/bash\r\n# Checkpoint manager for Claude Flow\r\n# Use github-checkpoint-hooks.sh for checkpoint operations\r\n`;\r\n    });\r\n    \r\n    await writeFile(checkpointManagerPath, checkpointManagerContent, { mode: 0o755 });\r\n    printSuccess(`‚úÖ Created checkpoint manager: ${checkpointManagerPath}`);\r\n    \r\n    // Create GitHub-specific settings.json\r\n    await createGitHubSettingsJson();\r\n    printSuccess(`‚úÖ Created GitHub settings: ${settingsPath}`);\r\n    \r\n    // Initialize first checkpoint\r\n    try {\r\n      const { execSync } = await import('child_process');\r\n      execSync(`bash ${hooksPath} task \"Initialize GitHub checkpoint system\"`, { stdio: 'inherit' });\r\n      printSuccess('‚úÖ Created initial checkpoint');\r\n    } catch (error) {\r\n      printWarning('‚ö†Ô∏è  Could not create initial checkpoint: ' + error.message);\r\n    }\r\n    \r\n    // Show completion message\r\n    console.log('\\n' + '='.repeat(60));\r\n    printSuccess('üéâ GitHub hooks initialized successfully!');\r\n    console.log('='.repeat(60) + '\\n');\r\n    \r\n    console.log('üìã What\\'s been set up:\\n');\r\n    console.log('  1. GitHub-specific checkpoint hooks in .claude/helpers/');\r\n    console.log('  2. Automatic GitHub releases for checkpoints' + (ghAvailable ? ' ‚úÖ' : ' (requires gh CLI)'));\r\n    console.log('  3. Enhanced rollback with GitHub integration');\r\n    console.log('  4. Session summaries with GitHub releases');\r\n    console.log('  5. Full GitHub CLI permissions in settings.json');\r\n    \r\n    console.log('\\nüöÄ Quick Start:\\n');\r\n    console.log('  1. Edit any file - automatic checkpoint created');\r\n    console.log('  2. Start new tasks - task checkpoints with GitHub releases');\r\n    console.log('  3. End sessions - comprehensive GitHub summary');\r\n    \r\n    console.log('\\nüìö Checkpoint Management:\\n');\r\n    console.log('  # List all checkpoints');\r\n    console.log('  .claude/helpers/checkpoint-manager.sh list');\r\n    console.log('');\r\n    console.log('  # View GitHub releases');\r\n    console.log('  gh release list');\r\n    console.log('');\r\n    console.log('  # Rollback to checkpoint');\r\n    console.log('  .claude/helpers/checkpoint-manager.sh rollback checkpoint-YYYYMMDD-HHMMSS');\r\n    console.log('');\r\n    console.log('  # Download release');\r\n    console.log('  gh release download checkpoint-YYYYMMDD-HHMMSS');\r\n    \r\n    if (!ghAvailable) {\r\n      console.log('\\n‚ö†Ô∏è  Note: Install GitHub CLI for full features:');\r\n      console.log('  https://cli.github.com/');\r\n    }\r\n    \r\n    console.log('\\nüí° Pro tip: GitHub releases make it easy to share checkpoints with your team!');\r\n    \r\n  } catch (error) {\r\n    printError(`‚ùå Failed to initialize GitHub hooks: ${error.message}`);\r\n    console.error(error);\r\n  }\r\n}"],"names":["existsSync","mkdir","readFile","writeFile","join","dirname","printSuccess","printError","printWarning","spawn","promisify","exec","createGitHubCheckpointHooks","helpersDir","process","cwd","checkpointHooksPath","content","mode","createGitHubSettingsJson","settingsPath","settings","env","CLAUDE_FLOW_AUTO_COMMIT","CLAUDE_FLOW_AUTO_PUSH","CLAUDE_FLOW_HOOKS_ENABLED","CLAUDE_FLOW_TELEMETRY_ENABLED","CLAUDE_FLOW_REMOTE_EXECUTION","CLAUDE_FLOW_GITHUB_INTEGRATION","CLAUDE_FLOW_CHECKPOINTS_ENABLED","CREATE_GH_RELEASE","permissions","allow","deny","hooks","PreToolUse","matcher","type","command","PostToolUse","UserPromptSubmit","Stop","PreCompact","includeCoAuthoredBy","enabledMcpjsonServers","JSON","stringify","githubInitCommand","flags","console","log","execSync","stdio","error","ghAvailable","claudeDir","checkpointsDir","recursive","force","hooksPath","checkpointManagerPath","checkpointManagerContent","url","replace","catch","message","repeat"],"mappings":"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"}