{
  "version": 3,
  "sources": ["../../src/cli/help-formatter.ts"],
  "sourcesContent": ["/**\n * Standardized CLI Help Formatter\n * Follows Unix/Linux conventions for help output\n */\n\nexport interface CommandInfo {\n  name: string;\n  description: string;\n  usage?: string;\n  commands?: CommandItem[];\n  options?: OptionItem[];\n  examples?: string[];\n  globalOptions?: OptionItem[];\n}\n\nexport interface CommandItem {\n  name: string;\n  description: string;\n  aliases?: string[];\n}\n\nexport interface OptionItem {\n  flags: string;\n  description: string;\n  defaultValue?: string;\n  validValues?: string[];\n}\n\nexport class HelpFormatter {\n  private static readonly INDENT = '    ';\n  private static readonly COLUMN_GAP = 2;\n  private static readonly MIN_DESCRIPTION_COLUMN = 25;\n\n  /**\n   * Format main command help\n   */\n  static formatHelp(info: CommandInfo): string {\n    const sections: string[] = [];\n\n    // NAME section\n    sections.push(this.formatSection('NAME', [`${info.name} - ${info.description}`]));\n\n    // SYNOPSIS section\n    if (info.usage) {\n      sections.push(this.formatSection('SYNOPSIS', [info.usage]));\n    }\n\n    // COMMANDS section\n    if (info.commands && info.commands.length > 0) {\n      sections.push(this.formatSection('COMMANDS', this.formatCommands(info.commands)));\n    }\n\n    // OPTIONS section\n    if (info.options && info.options.length > 0) {\n      sections.push(this.formatSection('OPTIONS', this.formatOptions(info.options)));\n    }\n\n    // GLOBAL OPTIONS section\n    if (info.globalOptions && info.globalOptions.length > 0) {\n      sections.push(this.formatSection('GLOBAL OPTIONS', this.formatOptions(info.globalOptions)));\n    }\n\n    // EXAMPLES section\n    if (info.examples && info.examples.length > 0) {\n      sections.push(this.formatSection('EXAMPLES', info.examples));\n    }\n\n    // Footer\n    if (info.commands && info.commands.length > 0) {\n      sections.push(`Run '${info.name} <command> --help' for more information on a command.`);\n    }\n\n    return sections.join('\\n\\n');\n  }\n\n  /**\n   * Format error message with usage hint\n   */\n  static formatError(error: string, command: string, usage?: string): string {\n    const lines: string[] = [`Error: ${error}`, ''];\n\n    if (usage) {\n      lines.push(`Usage: ${usage}`);\n    }\n\n    lines.push(`Try '${command} --help' for more information.`);\n\n    return lines.join('\\n');\n  }\n\n  /**\n   * Format validation error with valid options\n   */\n  static formatValidationError(\n    value: string,\n    paramName: string,\n    validOptions: string[],\n    command: string,\n  ): string {\n    return this.formatError(\n      `'${value}' is not a valid ${paramName}. Valid options are: ${validOptions.join(', ')}.`,\n      command,\n    );\n  }\n\n  private static formatSection(title: string, content: string[]): string {\n    return `${title}\\n${content.map((line) => `${this.INDENT}${line}`).join('\\n')}`;\n  }\n\n  private static formatCommands(commands: CommandItem[]): string[] {\n    const maxNameLength = Math.max(\n      this.MIN_DESCRIPTION_COLUMN,\n      ...commands.map((cmd) => {\n        const nameLength = cmd.name.length;\n        const aliasLength = cmd.aliases ? ` (${cmd.aliases.join(', ')})`.length : 0;\n        return nameLength + aliasLength;\n      }),\n    );\n\n    return commands.map((cmd) => {\n      let name = cmd.name;\n      if (cmd.aliases && cmd.aliases.length > 0) {\n        name += ` (${cmd.aliases.join(', ')})`;\n      }\n      const padding = ' '.repeat(maxNameLength - name.length + this.COLUMN_GAP);\n      return `${name}${padding}${cmd.description}`;\n    });\n  }\n\n  private static formatOptions(options: OptionItem[]): string[] {\n    const maxFlagsLength = Math.max(\n      this.MIN_DESCRIPTION_COLUMN,\n      ...options.map((opt) => opt.flags.length),\n    );\n\n    return options.map((opt) => {\n      const padding = ' '.repeat(maxFlagsLength - opt.flags.length + this.COLUMN_GAP);\n      let description = opt.description;\n\n      // Add default value\n      if (opt.defaultValue !== undefined) {\n        description += ` [default: ${opt.defaultValue}]`;\n      }\n\n      // Add valid values on next line if present\n      if (opt.validValues && opt.validValues.length > 0) {\n        const validValuesLine =\n          ' '.repeat(maxFlagsLength + this.COLUMN_GAP) + `Valid: ${opt.validValues.join(', ')}`;\n        return `${opt.flags}${padding}${description}\\n${this.INDENT}${validValuesLine}`;\n      }\n\n      return `${opt.flags}${padding}${description}`;\n    });\n  }\n\n  /**\n   * Strip ANSI color codes and emojis from text\n   */\n  static stripFormatting(text: string): string {\n    // Remove ANSI color codes\n    text = text.replace(/\\x1b\\[[0-9;]*m/g, '');\n\n    // Remove common emojis used in the CLI\n    const emojiPattern =\n      /[\\u{1F300}-\\u{1F9FF}]|[\\u{2600}-\\u{27BF}]|[\\u{1F000}-\\u{1F6FF}]|[\\u{1F680}-\\u{1F6FF}]/gu;\n    text = text.replace(emojiPattern, '').trim();\n\n    // Remove multiple spaces\n    text = text.replace(/\\s+/g, ' ');\n\n    return text;\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
