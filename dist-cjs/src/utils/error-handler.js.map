{"version":3,"sources":["../../../src/utils/error-handler.ts"],"sourcesContent":["/**\r\n * Utility for proper error handling in TypeScript\r\n */\r\n\r\nimport {\r\n  getErrorMessage as getErrorMsg,\r\n  getErrorStack as getErrorStk,\r\n  isError as isErr,\r\n} from './type-guards.js';\r\n\r\nexport class AppError extends Error {\r\n  constructor(\r\n    message: string,\r\n    public code?: string,\r\n    public statusCode?: number,\r\n  ) {\r\n    super(message);\r\n    this.name = 'AppError';\r\n    Object.setPrototypeOf(this, AppError.prototype);\r\n  }\r\n}\r\n\r\n// Re-export from type-guards for backward compatibility\r\nexport const isError = isErr;\r\nexport const getErrorMessage = getErrorMsg;\r\nexport const getErrorStack = getErrorStk;\r\n\r\nexport function handleError(error: unknown, context?: string): never {\r\n  const message = getErrorMessage(error);\r\n  const stack = getErrorStack(error);\r\n\r\n  console.error(`Error${context ? ` in ${context}` : ''}: ${message}`);\r\n  if (stack && process.env.NODE_ENV === 'development') {\r\n    console.error('Stack trace:', stack);\r\n  }\r\n\r\n  process.exit(1);\r\n}\r\n"],"names":["getErrorMessage","getErrorMsg","getErrorStack","getErrorStk","isError","isErr","AppError","Error","message","code","statusCode","name","Object","setPrototypeOf","prototype","handleError","error","context","stack","console","process","env","NODE_ENV","exit"],"mappings":"AAIA,SACEA,mBAAmBC,WAAW,EAC9BC,iBAAiBC,WAAW,EAC5BC,WAAWC,KAAK,QACX,mBAAmB;AAE1B,OAAO,MAAMC,iBAAiBC;;;IAC5B,YACEC,OAAe,EACf,AAAOC,IAAa,EACpB,AAAOC,UAAmB,CAC1B;QACA,KAAK,CAACF,eAHCC,OAAAA,WACAC,aAAAA;QAGP,IAAI,CAACC,IAAI,GAAG;QACZC,OAAOC,cAAc,CAAC,IAAI,EAAEP,SAASQ,SAAS;IAChD;AACF;AAGA,OAAO,MAAMV,UAAUC,MAAM;AAC7B,OAAO,MAAML,kBAAkBC,YAAY;AAC3C,OAAO,MAAMC,gBAAgBC,YAAY;AAEzC,OAAO,SAASY,YAAYC,KAAc,EAAEC,OAAgB;IAC1D,MAAMT,UAAUR,gBAAgBgB;IAChC,MAAME,QAAQhB,cAAcc;IAE5BG,QAAQH,KAAK,CAAC,CAAC,KAAK,EAAEC,UAAU,CAAC,IAAI,EAAEA,SAAS,GAAG,GAAG,EAAE,EAAET,SAAS;IACnE,IAAIU,SAASE,QAAQC,GAAG,CAACC,QAAQ,KAAK,eAAe;QACnDH,QAAQH,KAAK,CAAC,gBAAgBE;IAChC;IAEAE,QAAQG,IAAI,CAAC;AACf"}