{
  "version": 3,
  "sources": ["../../src/coordination/metrics.ts"],
  "sourcesContent": ["/**\n * Metrics and monitoring for coordination performance\n */\n\nimport type { ILogger } from '../core/logger.js';\nimport type { IEventBus } from '../core/event-bus.js';\nimport { SystemEvents } from '../utils/types.js';\n\nexport interface CoordinationMetrics {\n  timestamp: Date;\n\n  // Task metrics\n  taskMetrics: {\n    totalTasks: number;\n    activeTasks: number;\n    completedTasks: number;\n    failedTasks: number;\n    cancelledTasks: number;\n    avgTaskDuration: number;\n    taskThroughput: number; // tasks/minute\n    tasksByPriority: Record<string, number>;\n    tasksByType: Record<string, number>;\n  };\n\n  // Agent metrics\n  agentMetrics: {\n    totalAgents: number;\n    activeAgents: number;\n    idleAgents: number;\n    busyAgents: number;\n    agentUtilization: number; // percentage\n    avgTasksPerAgent: number;\n    agentsByType: Record<string, number>;\n  };\n\n  // Resource metrics\n  resourceMetrics: {\n    totalResources: number;\n    lockedResources: number;\n    freeResources: number;\n    resourceUtilization: number; // percentage\n    avgLockDuration: number;\n    lockContention: number; // waiting requests\n    deadlockCount: number;\n  };\n\n  // Coordination metrics\n  coordinationMetrics: {\n    messagesSent: number;\n    messagesReceived: number;\n    messageLatency: number; // avg ms\n    conflictsDetected: number;\n    conflictsResolved: number;\n    workStealingEvents: number;\n    circuitBreakerTrips: number;\n  };\n\n  // Performance metrics\n  performanceMetrics: {\n    coordinationLatency: number; // avg ms\n    schedulingLatency: number; // avg ms\n    memoryUsage: number; // MB\n    cpuUsage: number; // percentage\n    errorRate: number; // errors/minute\n  };\n}\n\nexport interface MetricsSample {\n  timestamp: Date;\n  metric: string;\n  value: number;\n  tags?: Record<string, string>;\n}\n\n/**\n * Metrics collector for coordination system\n */\nexport class CoordinationMetricsCollector {\n  private samples: MetricsSample[] = [];\n  private taskStartTimes = new Map<string, Date>();\n  private messageStartTimes = new Map<string, Date>();\n  private lockStartTimes = new Map<string, Date>();\n  private collectionInterval?: number;\n\n  // Counters\n  private counters = {\n    totalTasks: 0,\n    completedTasks: 0,\n    failedTasks: 0,\n    cancelledTasks: 0,\n    messagesSent: 0,\n    messagesReceived: 0,\n    conflictsDetected: 0,\n    conflictsResolved: 0,\n    workStealingEvents: 0,\n    circuitBreakerTrips: 0,\n    deadlockCount: 0,\n    errors: 0,\n  };\n\n  // Gauges\n  private gauges = {\n    activeTasks: 0,\n    activeAgents: 0,\n    idleAgents: 0,\n    busyAgents: 0,\n    lockedResources: 0,\n    freeResources: 0,\n    lockContention: 0,\n  };\n\n  // Histograms (for calculating averages)\n  private histograms = {\n    taskDurations: [] as number[],\n    messageDurations: [] as number[],\n    lockDurations: [] as number[],\n    coordinationLatencies: [] as number[],\n    schedulingLatencies: [] as number[],\n  };\n\n  constructor(\n    private logger: ILogger,\n    private eventBus: IEventBus,\n    private collectionIntervalMs = 30000, // 30 seconds\n  ) {\n    this.setupEventHandlers();\n  }\n\n  /**\n   * Start metrics collection\n   */\n  start(): void {\n    this.logger.info('Starting coordination metrics collection');\n\n    this.collectionInterval = setInterval(() => {\n      this.collectMetrics();\n    }, this.collectionIntervalMs);\n  }\n\n  /**\n   * Stop metrics collection\n   */\n  stop(): void {\n    if (this.collectionInterval) {\n      clearInterval(this.collectionInterval);\n      delete this.collectionInterval;\n    }\n\n    this.logger.info('Stopped coordination metrics collection');\n  }\n\n  /**\n   * Record a metric sample\n   */\n  recordMetric(metric: string, value: number, tags?: Record<string, string>): void {\n    const sample: MetricsSample = {\n      timestamp: new Date(),\n      metric,\n      value,\n    };\n\n    if (tags !== undefined) {\n      sample.tags = tags;\n    }\n\n    this.samples.push(sample);\n\n    // Keep only last 10000 samples to prevent memory bloat\n    if (this.samples.length > 10000) {\n      this.samples = this.samples.slice(-5000);\n    }\n  }\n\n  /**\n   * Get current metrics snapshot\n   */\n  getCurrentMetrics(): CoordinationMetrics {\n    const now = new Date();\n    const minuteAgo = new Date(now.getTime() - 60000);\n\n    // Calculate throughput (items per minute)\n    const recentSamples = this.samples.filter((s) => s.timestamp >= minuteAgo);\n    const taskCompletions = recentSamples.filter((s) => s.metric === 'task.completed').length;\n    const errorCount = recentSamples.filter((s) => s.metric === 'error').length;\n\n    return {\n      timestamp: now,\n\n      taskMetrics: {\n        totalTasks: this.counters.totalTasks,\n        activeTasks: this.gauges.activeTasks,\n        completedTasks: this.counters.completedTasks,\n        failedTasks: this.counters.failedTasks,\n        cancelledTasks: this.counters.cancelledTasks,\n        avgTaskDuration: this.average(this.histograms.taskDurations),\n        taskThroughput: taskCompletions,\n        tasksByPriority: this.getTasksByPriority(),\n        tasksByType: this.getTasksByType(),\n      },\n\n      agentMetrics: {\n        totalAgents: this.gauges.activeAgents + this.gauges.idleAgents,\n        activeAgents: this.gauges.activeAgents,\n        idleAgents: this.gauges.idleAgents,\n        busyAgents: this.gauges.busyAgents,\n        agentUtilization: this.calculateAgentUtilization(),\n        avgTasksPerAgent: this.calculateAvgTasksPerAgent(),\n        agentsByType: this.getAgentsByType(),\n      },\n\n      resourceMetrics: {\n        totalResources: this.gauges.lockedResources + this.gauges.freeResources,\n        lockedResources: this.gauges.lockedResources,\n        freeResources: this.gauges.freeResources,\n        resourceUtilization: this.calculateResourceUtilization(),\n        avgLockDuration: this.average(this.histograms.lockDurations),\n        lockContention: this.gauges.lockContention,\n        deadlockCount: this.counters.deadlockCount,\n      },\n\n      coordinationMetrics: {\n        messagesSent: this.counters.messagesSent,\n        messagesReceived: this.counters.messagesReceived,\n        messageLatency: this.average(this.histograms.messageDurations),\n        conflictsDetected: this.counters.conflictsDetected,\n        conflictsResolved: this.counters.conflictsResolved,\n        workStealingEvents: this.counters.workStealingEvents,\n        circuitBreakerTrips: this.counters.circuitBreakerTrips,\n      },\n\n      performanceMetrics: {\n        coordinationLatency: this.average(this.histograms.coordinationLatencies),\n        schedulingLatency: this.average(this.histograms.schedulingLatencies),\n        memoryUsage: this.getMemoryUsage(),\n        cpuUsage: this.getCpuUsage(),\n        errorRate: errorCount,\n      },\n    };\n  }\n\n  /**\n   * Get metric history for a specific metric\n   */\n  getMetricHistory(metric: string, since?: Date): MetricsSample[] {\n    const cutoff = since || new Date(Date.now() - 3600000); // 1 hour ago\n\n    return this.samples.filter((s) => s.metric === metric && s.timestamp >= cutoff);\n  }\n\n  /**\n   * Get top metrics by value\n   */\n  getTopMetrics(limit = 10): Array<{ metric: string; value: number; timestamp: Date }> {\n    const recent = this.samples.filter(\n      (s) => s.timestamp >= new Date(Date.now() - 300000), // 5 minutes\n    );\n\n    const byMetric = new Map<string, number>();\n    const timestamps = new Map<string, Date>();\n\n    for (const sample of recent) {\n      byMetric.set(sample.metric, (byMetric.get(sample.metric) || 0) + sample.value);\n      timestamps.set(sample.metric, sample.timestamp);\n    }\n\n    return Array.from(byMetric.entries())\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, limit)\n      .map(([metric, value]) => ({\n        metric,\n        value,\n        timestamp: timestamps.get(metric)!,\n      }));\n  }\n\n  /**\n   * Set up event handlers to collect metrics\n   */\n  private setupEventHandlers(): void {\n    // Task events\n    this.eventBus.on(SystemEvents.TASK_CREATED, () => {\n      this.counters.totalTasks++;\n      this.recordMetric('task.created', 1);\n    });\n\n    this.eventBus.on(SystemEvents.TASK_STARTED, (data: any) => {\n      this.taskStartTimes.set(data.taskId, new Date());\n      this.gauges.activeTasks++;\n      this.recordMetric('task.started', 1);\n    });\n\n    this.eventBus.on(SystemEvents.TASK_COMPLETED, (data: any) => {\n      this.counters.completedTasks++;\n      this.gauges.activeTasks = Math.max(0, this.gauges.activeTasks - 1);\n\n      const startTime = this.taskStartTimes.get(data.taskId);\n      if (startTime) {\n        const duration = new Date().getTime() - startTime.getTime();\n        this.histograms.taskDurations.push(duration);\n        this.taskStartTimes.delete(data.taskId);\n      }\n\n      this.recordMetric('task.completed', 1);\n    });\n\n    this.eventBus.on(SystemEvents.TASK_FAILED, (data: any) => {\n      this.counters.failedTasks++;\n      this.gauges.activeTasks = Math.max(0, this.gauges.activeTasks - 1);\n      this.taskStartTimes.delete(data.taskId);\n      this.recordMetric('task.failed', 1);\n    });\n\n    this.eventBus.on(SystemEvents.TASK_CANCELLED, (data: any) => {\n      this.counters.cancelledTasks++;\n      this.gauges.activeTasks = Math.max(0, this.gauges.activeTasks - 1);\n      this.taskStartTimes.delete(data.taskId);\n      this.recordMetric('task.cancelled', 1);\n    });\n\n    // Agent events\n    this.eventBus.on(SystemEvents.AGENT_SPAWNED, () => {\n      this.gauges.activeAgents++;\n      this.recordMetric('agent.spawned', 1);\n    });\n\n    this.eventBus.on(SystemEvents.AGENT_TERMINATED, () => {\n      this.gauges.activeAgents = Math.max(0, this.gauges.activeAgents - 1);\n      this.recordMetric('agent.terminated', 1);\n    });\n\n    this.eventBus.on(SystemEvents.AGENT_IDLE, () => {\n      this.gauges.idleAgents++;\n      this.gauges.busyAgents = Math.max(0, this.gauges.busyAgents - 1);\n      this.recordMetric('agent.idle', 1);\n    });\n\n    this.eventBus.on(SystemEvents.AGENT_ACTIVE, () => {\n      this.gauges.busyAgents++;\n      this.gauges.idleAgents = Math.max(0, this.gauges.idleAgents - 1);\n      this.recordMetric('agent.active', 1);\n    });\n\n    // Resource events\n    this.eventBus.on(SystemEvents.RESOURCE_ACQUIRED, (data: any) => {\n      this.lockStartTimes.set(data.resourceId, new Date());\n      this.gauges.lockedResources++;\n      this.gauges.freeResources = Math.max(0, this.gauges.freeResources - 1);\n      this.recordMetric('resource.acquired', 1);\n    });\n\n    this.eventBus.on(SystemEvents.RESOURCE_RELEASED, (data: any) => {\n      this.gauges.freeResources++;\n      this.gauges.lockedResources = Math.max(0, this.gauges.lockedResources - 1);\n\n      const startTime = this.lockStartTimes.get(data.resourceId);\n      if (startTime) {\n        const duration = new Date().getTime() - startTime.getTime();\n        this.histograms.lockDurations.push(duration);\n        this.lockStartTimes.delete(data.resourceId);\n      }\n\n      this.recordMetric('resource.released', 1);\n    });\n\n    // Deadlock events\n    this.eventBus.on(SystemEvents.DEADLOCK_DETECTED, () => {\n      this.counters.deadlockCount++;\n      this.recordMetric('deadlock.detected', 1);\n    });\n\n    // Message events\n    this.eventBus.on(SystemEvents.MESSAGE_SENT, (data: any) => {\n      this.counters.messagesSent++;\n      this.messageStartTimes.set(data.message.id, new Date());\n      this.recordMetric('message.sent', 1);\n    });\n\n    this.eventBus.on(SystemEvents.MESSAGE_RECEIVED, (data: any) => {\n      this.counters.messagesReceived++;\n\n      const startTime = this.messageStartTimes.get(data.message.id);\n      if (startTime) {\n        const duration = new Date().getTime() - startTime.getTime();\n        this.histograms.messageDurations.push(duration);\n        this.messageStartTimes.delete(data.message.id);\n      }\n\n      this.recordMetric('message.received', 1);\n    });\n\n    // Conflict events\n    this.eventBus.on('conflict:resource', () => {\n      this.counters.conflictsDetected++;\n      this.recordMetric('conflict.detected', 1);\n    });\n\n    this.eventBus.on('conflict:resolved', () => {\n      this.counters.conflictsResolved++;\n      this.recordMetric('conflict.resolved', 1);\n    });\n\n    // Work stealing events\n    this.eventBus.on('workstealing:request', () => {\n      this.counters.workStealingEvents++;\n      this.recordMetric('workstealing.event', 1);\n    });\n\n    // Circuit breaker events\n    this.eventBus.on('circuitbreaker:state-change', (data: any) => {\n      if (data.to === 'open') {\n        this.counters.circuitBreakerTrips++;\n        this.recordMetric('circuitbreaker.trip', 1);\n      }\n    });\n\n    // Error events\n    this.eventBus.on(SystemEvents.SYSTEM_ERROR, () => {\n      this.counters.errors++;\n      this.recordMetric('error', 1);\n    });\n  }\n\n  /**\n   * Collect comprehensive metrics\n   */\n  private collectMetrics(): void {\n    const metrics = this.getCurrentMetrics();\n\n    // Emit metrics event\n    this.eventBus.emit('metrics:coordination', metrics);\n\n    // Log summary\n    this.logger.debug('Coordination metrics collected', {\n      activeTasks: metrics.taskMetrics.activeTasks,\n      activeAgents: metrics.agentMetrics.activeAgents,\n      lockedResources: metrics.resourceMetrics.lockedResources,\n      taskThroughput: metrics.taskMetrics.taskThroughput,\n    });\n  }\n\n  /**\n   * Calculate average from array of numbers\n   */\n  private average(values: number[]): number {\n    if (values.length === 0) return 0;\n    return values.reduce((sum, val) => sum + val, 0) / values.length;\n  }\n\n  /**\n   * Get tasks grouped by priority\n   */\n  private getTasksByPriority(): Record<string, number> {\n    const priorities = ['low', 'medium', 'high', 'critical'];\n    const result: Record<string, number> = {};\n\n    for (const priority of priorities) {\n      result[priority] = this.samples.filter(\n        (s) => s.metric === 'task.created' && s.tags?.priority === priority,\n      ).length;\n    }\n\n    return result;\n  }\n\n  /**\n   * Get tasks grouped by type\n   */\n  private getTasksByType(): Record<string, number> {\n    const types = new Set<string>();\n\n    for (const sample of this.samples) {\n      if (sample.metric === 'task.created' && sample.tags?.type) {\n        types.add(sample.tags.type);\n      }\n    }\n\n    const result: Record<string, number> = {};\n    for (const type of types) {\n      result[type] = this.samples.filter(\n        (s) => s.metric === 'task.created' && s.tags?.type === type,\n      ).length;\n    }\n\n    return result;\n  }\n\n  /**\n   * Get agents grouped by type\n   */\n  private getAgentsByType(): Record<string, number> {\n    const types = new Set<string>();\n\n    for (const sample of this.samples) {\n      if (sample.metric === 'agent.spawned' && sample.tags?.type) {\n        types.add(sample.tags.type);\n      }\n    }\n\n    const result: Record<string, number> = {};\n    for (const type of types) {\n      result[type] = this.samples.filter(\n        (s) => s.metric === 'agent.spawned' && s.tags?.type === type,\n      ).length;\n    }\n\n    return result;\n  }\n\n  /**\n   * Calculate agent utilization percentage\n   */\n  private calculateAgentUtilization(): number {\n    const totalAgents = this.gauges.activeAgents + this.gauges.idleAgents;\n    if (totalAgents === 0) return 0;\n    return (this.gauges.busyAgents / totalAgents) * 100;\n  }\n\n  /**\n   * Calculate average tasks per agent\n   */\n  private calculateAvgTasksPerAgent(): number {\n    const totalAgents = this.gauges.activeAgents + this.gauges.idleAgents;\n    if (totalAgents === 0) return 0;\n    return this.gauges.activeTasks / totalAgents;\n  }\n\n  /**\n   * Calculate resource utilization percentage\n   */\n  private calculateResourceUtilization(): number {\n    const totalResources = this.gauges.lockedResources + this.gauges.freeResources;\n    if (totalResources === 0) return 0;\n    return (this.gauges.lockedResources / totalResources) * 100;\n  }\n\n  /**\n   * Get current memory usage in MB\n   */\n  private getMemoryUsage(): number {\n    if (typeof process !== 'undefined' && process.memoryUsage) {\n      return process.memoryUsage().heapUsed / 1024 / 1024;\n    }\n    return 0;\n  }\n\n  /**\n   * Get current CPU usage percentage\n   */\n  private getCpuUsage(): number {\n    if (typeof process !== 'undefined' && process.cpuUsage) {\n      const usage = process.cpuUsage();\n      return (usage.user + usage.system) / 1000000; // Convert to seconds\n    }\n    return 0;\n  }\n\n  /**\n   * Clear all metrics data\n   */\n  clearMetrics(): void {\n    this.samples = [];\n    this.taskStartTimes.clear();\n    this.messageStartTimes.clear();\n    this.lockStartTimes.clear();\n\n    // Reset counters\n    for (const key in this.counters) {\n      (this.counters as any)[key] = 0;\n    }\n\n    // Reset gauges\n    for (const key in this.gauges) {\n      (this.gauges as any)[key] = 0;\n    }\n\n    // Clear histograms\n    for (const key in this.histograms) {\n      (this.histograms as any)[key] = [];\n    }\n\n    this.logger.info('Coordination metrics cleared');\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
