{
  "version": 3,
  "sources": ["../../src/utils/errors.ts"],
  "sourcesContent": ["/**\n * Custom error types for Claude-Flow\n */\n\n/**\n * Base error class for all Claude-Flow errors\n */\nexport class ClaudeFlowError extends Error {\n  constructor(\n    message: string,\n    public readonly code: string,\n    public readonly details?: unknown,\n  ) {\n    super(message);\n    this.name = 'ClaudeFlowError';\n    Error.captureStackTrace(this, this.constructor);\n  }\n\n  toJSON() {\n    return {\n      name: this.name,\n      message: this.message,\n      code: this.code,\n      details: this.details,\n      stack: this.stack,\n    };\n  }\n}\n\n/**\n * Terminal-related errors\n */\nexport class TerminalError extends ClaudeFlowError {\n  constructor(message: string, details?: unknown) {\n    super(message, 'TERMINAL_ERROR', details);\n    this.name = 'TerminalError';\n  }\n}\n\nexport class TerminalSpawnError extends TerminalError {\n  override readonly code = 'TERMINAL_SPAWN_ERROR';\n\n  constructor(message: string, details?: unknown) {\n    super(message, details);\n  }\n}\n\nexport class TerminalCommandError extends TerminalError {\n  override readonly code = 'TERMINAL_COMMAND_ERROR';\n\n  constructor(message: string, details?: unknown) {\n    super(message, details);\n  }\n}\n\n/**\n * Memory-related errors\n */\nexport class MemoryError extends ClaudeFlowError {\n  constructor(message: string, details?: unknown) {\n    super(message, 'MEMORY_ERROR', details);\n    this.name = 'MemoryError';\n  }\n}\n\nexport class MemoryBackendError extends MemoryError {\n  override readonly code = 'MEMORY_BACKEND_ERROR';\n\n  constructor(message: string, details?: unknown) {\n    super(message, details);\n  }\n}\n\nexport class MemoryConflictError extends MemoryError {\n  override readonly code = 'MEMORY_CONFLICT_ERROR';\n\n  constructor(message: string, details?: unknown) {\n    super(message, details);\n  }\n}\n\n/**\n * Coordination-related errors\n */\nexport class CoordinationError extends ClaudeFlowError {\n  constructor(message: string, details?: unknown) {\n    super(message, 'COORDINATION_ERROR', details);\n    this.name = 'CoordinationError';\n  }\n}\n\nexport class DeadlockError extends CoordinationError {\n  override readonly code = 'DEADLOCK_ERROR';\n\n  constructor(\n    message: string,\n    public readonly agents: string[],\n    public readonly resources: string[],\n  ) {\n    super(message, { agents, resources });\n  }\n}\n\nexport class ResourceLockError extends CoordinationError {\n  override readonly code = 'RESOURCE_LOCK_ERROR';\n\n  constructor(message: string, details?: unknown) {\n    super(message, details);\n  }\n}\n\n/**\n * MCP-related errors\n */\nexport class MCPError extends ClaudeFlowError {\n  constructor(message: string, details?: unknown) {\n    super(message, 'MCP_ERROR', details);\n    this.name = 'MCPError';\n  }\n}\n\nexport class MCPTransportError extends MCPError {\n  override readonly code = 'MCP_TRANSPORT_ERROR';\n\n  constructor(message: string, details?: unknown) {\n    super(message, details);\n  }\n}\n\nexport class MCPMethodNotFoundError extends MCPError {\n  override readonly code = 'MCP_METHOD_NOT_FOUND';\n\n  constructor(method: string) {\n    super(`Method not found: ${method}`, { method });\n  }\n}\n\n/**\n * Configuration errors\n */\nexport class ConfigError extends ClaudeFlowError {\n  constructor(message: string, details?: unknown) {\n    super(message, 'CONFIG_ERROR', details);\n    this.name = 'ConfigError';\n  }\n}\n\nexport class ValidationError extends ConfigError {\n  override readonly code = 'VALIDATION_ERROR';\n\n  constructor(message: string, details?: unknown) {\n    super(message, details);\n  }\n}\n\n/**\n * Task-related errors\n */\nexport class TaskError extends ClaudeFlowError {\n  constructor(message: string, details?: unknown) {\n    super(message, 'TASK_ERROR', details);\n    this.name = 'TaskError';\n  }\n}\n\nexport class TaskTimeoutError extends TaskError {\n  override readonly code = 'TASK_TIMEOUT_ERROR';\n\n  constructor(taskId: string, timeout: number) {\n    super(`Task ${taskId} timed out after ${timeout}ms`, { taskId, timeout });\n  }\n}\n\nexport class TaskDependencyError extends TaskError {\n  override readonly code = 'TASK_DEPENDENCY_ERROR';\n\n  constructor(taskId: string, dependencies: string[]) {\n    super(`Task ${taskId} has unmet dependencies`, { taskId, dependencies });\n  }\n}\n\n/**\n * System errors\n */\nexport class SystemError extends ClaudeFlowError {\n  constructor(message: string, details?: unknown) {\n    super(message, 'SYSTEM_ERROR', details);\n    this.name = 'SystemError';\n  }\n}\n\nexport class InitializationError extends SystemError {\n  override readonly code = 'INITIALIZATION_ERROR';\n\n  constructor(componentOrMessage: string, details?: unknown) {\n    // If the message already contains the word \"initialize\", use it as-is\n    const message = componentOrMessage.includes('initialize')\n      ? componentOrMessage\n      : `Failed to initialize ${componentOrMessage}`;\n    super(\n      message,\n      details ? { component: componentOrMessage, ...details } : { component: componentOrMessage },\n    );\n  }\n}\n\nexport class ShutdownError extends SystemError {\n  override readonly code = 'SHUTDOWN_ERROR';\n\n  constructor(message: string, details?: unknown) {\n    super(message, details);\n  }\n}\n\n/**\n * Error utilities\n */\nexport function isClaudeFlowError(error: unknown): error is ClaudeFlowError {\n  return error instanceof ClaudeFlowError;\n}\n\nexport function formatError(error: unknown): string {\n  if (error instanceof Error) {\n    return `${error.name}: ${error.message}`;\n  }\n  return String(error);\n}\n\nexport function getErrorDetails(error: unknown): unknown {\n  if (isClaudeFlowError(error)) {\n    return error.details;\n  }\n  return undefined;\n}\n"],
  "mappings": "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",
  "names": []
}
