{"version":3,"sources":["../../../src/hive-mind/types.ts"],"sourcesContent":["/**\r\n * Hive Mind Type Definitions\r\n *\r\n * Core types and interfaces for the Hive Mind system\r\n */\r\n\r\n// Swarm types\r\nexport type SwarmTopology = 'mesh' | 'hierarchical' | 'ring' | 'star' | 'specs-driven';\r\nexport type QueenMode = 'centralized' | 'distributed' | 'strategic';\r\n\r\nexport interface HiveMindConfig {\r\n  name: string;\r\n  topology: SwarmTopology;\r\n  maxAgents: number;\r\n  queenMode: QueenMode;\r\n  memoryTTL: number;\r\n  consensusThreshold: number;\r\n  autoSpawn: boolean;\r\n  enableConsensus?: boolean;\r\n  enableMemory?: boolean;\r\n  enableCommunication?: boolean;\r\n  enabledFeatures?: string[];\r\n  createdAt?: Date;\r\n}\r\n\r\n// Agent types\r\nexport type AgentType =\r\n  | 'coordinator'\r\n  | 'researcher'\r\n  | 'coder'\r\n  | 'analyst'\r\n  | 'architect'\r\n  | 'tester'\r\n  | 'reviewer'\r\n  | 'optimizer'\r\n  | 'documenter'\r\n  | 'monitor'\r\n  | 'specialist'\r\n  // Maestro specs-driven agent types\r\n  | 'requirements_analyst'\r\n  | 'design_architect'\r\n  | 'task_planner'\r\n  | 'implementation_coder'\r\n  | 'quality_reviewer'\r\n  | 'steering_documenter';\r\n\r\nexport type AgentStatus = 'idle' | 'busy' | 'active' | 'error' | 'offline';\r\n\r\nexport type AgentCapability =\r\n  | 'task_management'\r\n  | 'resource_allocation'\r\n  | 'consensus_building'\r\n  | 'information_gathering'\r\n  | 'pattern_recognition'\r\n  | 'knowledge_synthesis'\r\n  | 'code_generation'\r\n  | 'refactoring'\r\n  | 'debugging'\r\n  | 'data_analysis'\r\n  | 'performance_metrics'\r\n  | 'bottleneck_detection'\r\n  | 'system_design'\r\n  | 'architecture'\r\n  | 'architecture_patterns'\r\n  | 'integration_planning'\r\n  | 'technical_writing'\r\n  | 'test_generation'\r\n  | 'quality_assurance'\r\n  | 'edge_case_detection'\r\n  | 'code_review'\r\n  | 'standards_enforcement'\r\n  | 'best_practices'\r\n  | 'performance_optimization'\r\n  | 'resource_optimization'\r\n  | 'algorithm_improvement'\r\n  | 'documentation_generation'\r\n  | 'api_docs'\r\n  | 'user_guides'\r\n  | 'system_monitoring'\r\n  | 'health_checks'\r\n  | 'alerting'\r\n  | 'domain_expertise'\r\n  | 'custom_capabilities'\r\n  | 'problem_solving'\r\n  // Maestro specs-driven capabilities\r\n  | 'requirements_analysis'\r\n  | 'user_story_creation'\r\n  | 'acceptance_criteria'\r\n  | 'specs_driven_design'\r\n  | 'workflow_orchestration'\r\n  | 'governance';\r\n\r\nexport interface AgentConfig {\r\n  id?: string;\r\n  name: string;\r\n  type: AgentType;\r\n  swarmId: string;\r\n  capabilities: AgentCapability[];\r\n}\r\n\r\nexport interface AgentSpawnOptions {\r\n  type: AgentType;\r\n  name?: string;\r\n  capabilities?: AgentCapability[];\r\n  autoAssign?: boolean;\r\n  config?: Partial<AgentConfig>;\r\n  environment?: Partial<AgentEnvironment>;\r\n}\r\n\r\nexport interface AgentEnvironment {\r\n  workingDirectory?: string;\r\n  environmentVariables?: Record<string, string>;\r\n  resourceLimits?: {\r\n    maxMemory?: number;\r\n    maxCpu?: number;\r\n    timeout?: number;\r\n  };\r\n}\r\n\r\n// Task types\r\nexport type TaskPriority = 'low' | 'medium' | 'high' | 'critical';\r\nexport type TaskStrategy = 'parallel' | 'sequential' | 'adaptive' | 'consensus';\r\nexport type TaskStatus =\r\n  | 'pending'\r\n  | 'assigned'\r\n  | 'in_progress'\r\n  | 'completed'\r\n  | 'failed'\r\n  | 'cancelled';\r\n\r\nexport interface Task {\r\n  id: string;\r\n  swarmId: string;\r\n  description: string;\r\n  priority: TaskPriority;\r\n  strategy: TaskStrategy;\r\n  status: TaskStatus;\r\n  progress: number;\r\n  result?: any;\r\n  error?: string;\r\n  dependencies: string[];\r\n  assignedAgents: string[];\r\n  requireConsensus: boolean;\r\n  consensusAchieved?: boolean;\r\n  maxAgents: number;\r\n  requiredCapabilities: AgentCapability[];\r\n  createdAt: Date;\r\n  assignedAt?: Date;\r\n  startedAt?: Date;\r\n  completedAt?: Date;\r\n  metadata: any;\r\n}\r\n\r\nexport interface TaskSubmitOptions {\r\n  description: string;\r\n  priority: TaskPriority;\r\n  strategy: TaskStrategy;\r\n  dependencies?: string[];\r\n  assignTo?: string;\r\n  requireConsensus?: boolean;\r\n  maxAgents?: number;\r\n  requiredCapabilities?: AgentCapability[];\r\n  metadata?: any;\r\n}\r\n\r\nexport interface TaskAssignment {\r\n  role: string;\r\n  requiredCapabilities: AgentCapability[];\r\n  responsibilities: string[];\r\n  expectedOutput: string;\r\n  timeout: number;\r\n  canRunParallel: boolean;\r\n}\r\n\r\n// Communication types\r\nexport type MessageType =\r\n  | 'direct'\r\n  | 'broadcast'\r\n  | 'consensus'\r\n  | 'query'\r\n  | 'response'\r\n  | 'notification'\r\n  | 'task_assignment'\r\n  | 'progress_update'\r\n  | 'coordination'\r\n  | 'channel';\r\n\r\nexport type MessagePriority = 'low' | 'normal' | 'high' | 'urgent';\r\n\r\nexport interface Message {\r\n  id: string;\r\n  fromAgentId: string;\r\n  toAgentId: string | null;\r\n  swarmId: string;\r\n  type: MessageType;\r\n  content: any;\r\n  priority?: MessagePriority;\r\n  timestamp: Date;\r\n  requiresResponse: boolean;\r\n}\r\n\r\nexport interface CommunicationChannel {\r\n  name: string;\r\n  description: string;\r\n  type: 'public' | 'private';\r\n  subscribers: string[];\r\n  createdAt: Date;\r\n}\r\n\r\nexport interface CommunicationStats {\r\n  totalMessages: number;\r\n  avgLatency: number;\r\n  activeChannels: number;\r\n  messagesByType: Record<MessageType, number>;\r\n  throughput: number;\r\n}\r\n\r\n// Memory types\r\nexport interface MemoryEntry {\r\n  key: string;\r\n  namespace: string;\r\n  value: string;\r\n  ttl?: number;\r\n  createdAt: Date;\r\n  accessCount: number;\r\n  lastAccessedAt: Date;\r\n  expiresAt?: Date;\r\n}\r\n\r\nexport interface MemoryNamespace {\r\n  name: string;\r\n  description: string;\r\n  retentionPolicy: 'persistent' | 'time-based' | 'size-based';\r\n  ttl?: number;\r\n  maxEntries?: number;\r\n  lastOperation?: string;\r\n  lastOperationTime?: Date;\r\n}\r\n\r\nexport interface MemoryStats {\r\n  totalEntries: number;\r\n  totalSize: number;\r\n  byNamespace: Record<\r\n    string,\r\n    {\r\n      entries: number;\r\n      size: number;\r\n      avgTTL: number;\r\n    }\r\n  >;\r\n  cacheHitRate: number;\r\n  avgAccessTime: number;\r\n  hotKeys: string[];\r\n}\r\n\r\nexport interface MemorySearchOptions {\r\n  namespace?: string;\r\n  pattern?: string;\r\n  keyPrefix?: string;\r\n  minAccessCount?: number;\r\n  limit?: number;\r\n  sortBy?: 'access' | 'recent' | 'created';\r\n}\r\n\r\nexport interface MemoryPattern {\r\n  type: 'co-access' | 'temporal' | 'frequency';\r\n  keys: string[];\r\n  confidence: number;\r\n  frequency: number;\r\n}\r\n\r\n// Consensus types\r\nexport interface ConsensusProposal {\r\n  id: string;\r\n  swarmId: string;\r\n  taskId?: string;\r\n  proposal: any;\r\n  requiredThreshold: number;\r\n  deadline?: Date;\r\n  creator?: string;\r\n  metadata?: Record<string, any>;\r\n}\r\n\r\nexport interface ConsensusVote {\r\n  proposalId: string;\r\n  agentId: string;\r\n  vote: boolean;\r\n  reason?: string;\r\n  timestamp: Date;\r\n}\r\n\r\nexport interface ConsensusResult {\r\n  proposalId: string;\r\n  achieved: boolean;\r\n  finalRatio: number;\r\n  totalVotes: number;\r\n  positiveVotes: number;\r\n  negativeVotes: number;\r\n  participationRate: number;\r\n}\r\n\r\nexport interface VotingStrategy {\r\n  name: string;\r\n  description: string;\r\n  threshold: number;\r\n  recommend: (\r\n    proposal: ConsensusProposal,\r\n    analysis: any,\r\n  ) => {\r\n    vote: boolean;\r\n    confidence: number;\r\n    reasoning: string;\r\n    factors: string[];\r\n  };\r\n}\r\n\r\nexport interface ConsensusMetrics {\r\n  totalProposals: number;\r\n  achievedConsensus: number;\r\n  failedConsensus: number;\r\n  avgVotingTime: number;\r\n  avgParticipation: number;\r\n}\r\n\r\n// Orchestration types\r\nexport interface ExecutionPlan {\r\n  taskId: string;\r\n  strategy: TaskStrategy;\r\n  phases: string[];\r\n  phaseAssignments: TaskAssignment[][];\r\n  dependencies: string[];\r\n  checkpoints: any[];\r\n  parallelizable: boolean;\r\n  estimatedDuration: number;\r\n  resourceRequirements: any;\r\n}\r\n\r\nexport interface OrchestrationResult {\r\n  taskId: string;\r\n  success: boolean;\r\n  executionTime: number;\r\n  phaseResults: any[];\r\n  errors?: any[];\r\n}\r\n\r\nexport interface ExecutionResult {\r\n  success: boolean;\r\n  data: any;\r\n  executionTime: number;\r\n  agentId: string;\r\n  metadata?: any;\r\n}\r\n\r\n// Queen types\r\nexport interface QueenDecision {\r\n  id: string;\r\n  taskId: string;\r\n  strategy: CoordinationStrategy;\r\n  selectedAgents: string[];\r\n  executionPlan: any;\r\n  confidence: number;\r\n  rationale: string;\r\n  timestamp: Date;\r\n}\r\n\r\nexport interface CoordinationStrategy {\r\n  name: string;\r\n  description: string;\r\n  phases: string[];\r\n  maxAgents: number;\r\n  coordinationPoints: string[];\r\n  suitable_for: string[];\r\n}\r\n\r\n// Status types\r\nexport interface SwarmStatus {\r\n  swarmId: string;\r\n  name: string;\r\n  topology: SwarmTopology;\r\n  queenMode: QueenMode;\r\n  health: 'healthy' | 'degraded' | 'critical' | 'unknown';\r\n  uptime: number;\r\n  agents: Array<{\r\n    id: string;\r\n    name: string;\r\n    type: AgentType;\r\n    status: AgentStatus;\r\n    currentTask: string | null;\r\n    messageCount: number;\r\n    createdAt: number;\r\n  }>;\r\n  agentsByType: Record<AgentType, number>;\r\n  tasks: Array<{\r\n    id: string;\r\n    description: string;\r\n    status: TaskStatus;\r\n    priority: TaskPriority;\r\n    progress: number;\r\n    assignedAgent: string | null;\r\n  }>;\r\n  taskStats: {\r\n    total: number;\r\n    pending: number;\r\n    inProgress: number;\r\n    completed: number;\r\n    failed: number;\r\n  };\r\n  memoryStats: MemoryStats;\r\n  communicationStats: CommunicationStats;\r\n  performance: {\r\n    avgTaskCompletion: number;\r\n    messageThroughput: number;\r\n    consensusSuccessRate: number;\r\n    memoryHitRate: number;\r\n    agentUtilization: number;\r\n  };\r\n  warnings: string[];\r\n}\r\n\r\n// Neural pattern types\r\nexport interface NeuralPattern {\r\n  id: string;\r\n  swarmId: string;\r\n  patternType: 'coordination' | 'optimization' | 'prediction' | 'behavior';\r\n  patternData: any;\r\n  confidence: number;\r\n  usageCount: number;\r\n  successRate: number;\r\n  createdAt: Date;\r\n  lastUsedAt?: Date;\r\n}\r\n\r\n// Performance types\r\nexport interface PerformanceMetric {\r\n  swarmId: string;\r\n  agentId?: string;\r\n  metricType: string;\r\n  metricValue: number;\r\n  timestamp: Date;\r\n  metadata?: any;\r\n}\r\n"],"names":[],"mappings":"AAibA,WAOC"}