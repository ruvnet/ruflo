{"version":3,"sources":["../../../../../../src/cli/simple-commands/init/claude-commands/sparc-commands.js"],"sourcesContent":["// sparc-commands.js - SPARC-specific slash commands\r\n\r\n// Create SPARC mode slash command\r\nexport function createSparcSlashCommand(mode) {\r\n  // Extract the full description without truncation\r\n  const fullDescription =\r\n    mode.roleDefinition.length > 100\r\n      ? `${mode.roleDefinition.substring(0, 97)}...`\r\n      : mode.roleDefinition;\r\n\r\n  return `---\r\nname: sparc-${mode.slug}\r\ndescription: ${mode.name} - ${fullDescription}\r\n---\r\n\r\n# ${mode.name}\r\n\r\n## Role Definition\r\n${mode.roleDefinition}\r\n\r\n## Custom Instructions\r\n${mode.customInstructions}\r\n\r\n## Available Tools\r\n${\r\n  Array.isArray(mode.groups)\r\n    ? mode.groups\r\n        .map((g) => {\r\n          if (typeof g === 'string') {\r\n            return `- **${g}**: ${getToolDescription(g)}`;\r\n          } else if (Array.isArray(g)) {\r\n            return `- **${g[0]}**: ${g[1]?.description || getToolDescription(g[0])} ${g[1]?.fileRegex ? `(Files matching: ${g[1].fileRegex})` : ''}`;\r\n          }\r\n          return `- ${JSON.stringify(g)}`;\r\n        })\r\n        .join('\\n')\r\n    : 'None'\r\n}\r\n\r\n## Usage\r\n\r\n### Option 1: Using MCP Tools (Preferred in Claude Code)\r\n\\`\\`\\`javascript\r\nmcp__claude-flow__sparc_mode {\r\n  mode: \"${mode.slug}\",\r\n  task_description: \"${getExampleTask(mode.slug)}\",\r\n  options: {\r\n    namespace: \"${mode.slug}\",\r\n    non_interactive: false\r\n  }\r\n}\r\n\\`\\`\\`\r\n\r\n### Option 2: Using NPX CLI (Fallback when MCP not available)\r\n\\`\\`\\`bash\r\n# Use when running from terminal or MCP tools unavailable\r\nnpx claude-flow sparc run ${mode.slug} \"${getExampleTask(mode.slug)}\"\r\n\r\n# For alpha features\r\nnpx claude-flow@alpha sparc run ${mode.slug} \"${getExampleTask(mode.slug)}\"\r\n\r\n# With namespace\r\nnpx claude-flow sparc run ${mode.slug} \"your task\" --namespace ${mode.slug}\r\n\r\n# Non-interactive mode\r\nnpx claude-flow sparc run ${mode.slug} \"your task\" --non-interactive\r\n\\`\\`\\`\r\n\r\n### Option 3: Local Installation\r\n\\`\\`\\`bash\r\n# If claude-flow is installed locally\r\n./claude-flow sparc run ${mode.slug} \"${getExampleTask(mode.slug)}\"\r\n\\`\\`\\`\r\n\r\n## Memory Integration\r\n\r\n### Using MCP Tools (Preferred)\r\n\\`\\`\\`javascript\r\n// Store mode-specific context\r\nmcp__claude-flow__memory_usage {\r\n  action: \"store\",\r\n  key: \"${mode.slug}_context\",\r\n  value: \"important decisions\",\r\n  namespace: \"${mode.slug}\"\r\n}\r\n\r\n// Query previous work\r\nmcp__claude-flow__memory_search {\r\n  pattern: \"${mode.slug}\",\r\n  namespace: \"${mode.slug}\",\r\n  limit: 5\r\n}\r\n\\`\\`\\`\r\n\r\n### Using NPX CLI (Fallback)\r\n\\`\\`\\`bash\r\n# Store mode-specific context\r\nnpx claude-flow memory store \"${mode.slug}_context\" \"important decisions\" --namespace ${mode.slug}\r\n\r\n# Query previous work\r\nnpx claude-flow memory query \"${mode.slug}\" --limit 5\r\n\\`\\`\\`\r\n`;\r\n}\r\n\r\n// Helper function to get tool descriptions\r\nfunction getToolDescription(tool) {\r\n  const toolDescriptions = {\r\n    read: 'File reading and viewing',\r\n    edit: 'File modification and creation',\r\n    browser: 'Web browsing capabilities',\r\n    mcp: 'Model Context Protocol tools',\r\n    command: 'Command execution',\r\n  };\r\n  return toolDescriptions[tool] || 'Tool access';\r\n}\r\n\r\n// Helper function to get example tasks\r\nfunction getExampleTask(slug) {\r\n  const examples = {\r\n    architect: 'design microservices architecture',\r\n    code: 'implement REST API endpoints',\r\n    tdd: 'create user authentication tests',\r\n    debug: 'fix memory leak in service',\r\n    'security-review': 'audit API security',\r\n    'docs-writer': 'create API documentation',\r\n    integration: 'connect payment service',\r\n    'post-deployment-monitoring-mode': 'monitor production metrics',\r\n    'refinement-optimization-mode': 'optimize database queries',\r\n    devops: 'deploy to AWS Lambda',\r\n    'supabase-admin': 'create user authentication schema',\r\n    'spec-pseudocode': 'define payment flow requirements',\r\n    mcp: 'integrate with external API',\r\n    swarm: 'build complete feature with tests',\r\n    sparc: 'orchestrate authentication system',\r\n    ask: 'help me choose the right mode',\r\n    tutorial: 'guide me through SPARC methodology',\r\n  };\r\n  return examples[slug] || 'implement feature';\r\n}\r\n\r\n// Create main SPARC command\r\nexport function createMainSparcCommand(modes) {\r\n  const modeList = modes.map((m) => `- \\`/sparc-${m.slug}\\` - ${m.name}`).join('\\n');\r\n\r\n  // Find the sparc orchestrator mode for its full description\r\n  const sparcMode = modes.find((m) => m.slug === 'sparc');\r\n  const sparcDescription = sparcMode\r\n    ? sparcMode.roleDefinition\r\n    : 'SPARC orchestrator for complex workflows';\r\n  const sparcInstructions = sparcMode ? sparcMode.customInstructions : '';\r\n\r\n  return `---\r\nname: sparc\r\ndescription: Execute SPARC methodology workflows with Claude-Flow\r\n---\r\n\r\n# ‚ö°Ô∏è SPARC Development Methodology\r\n\r\n${sparcDescription}\r\n\r\n## SPARC Workflow\r\n\r\n${sparcInstructions.split('\\n').slice(0, 10).join('\\n')}\r\n\r\n## Available SPARC Modes\r\n\r\n${modeList}\r\n\r\n## Quick Start\r\n\r\n### Option 1: Using MCP Tools (Preferred in Claude Code)\r\n\\`\\`\\`javascript\r\n// Run SPARC orchestrator (default)\r\nmcp__claude-flow__sparc_mode {\r\n  mode: \"sparc\",\r\n  task_description: \"build complete authentication system\"\r\n}\r\n\r\n// Run a specific mode\r\nmcp__claude-flow__sparc_mode {\r\n  mode: \"architect\",\r\n  task_description: \"design API structure\"\r\n}\r\n\r\n// TDD workflow\r\nmcp__claude-flow__sparc_mode {\r\n  mode: \"tdd\",\r\n  task_description: \"implement user authentication\",\r\n  options: {workflow: \"full\"}\r\n}\r\n\\`\\`\\`\r\n\r\n### Option 2: Using NPX CLI (Fallback when MCP not available)\r\n\\`\\`\\`bash\r\n# Run SPARC orchestrator (default)\r\nnpx claude-flow sparc \"build complete authentication system\"\r\n\r\n# Run a specific mode\r\nnpx claude-flow sparc run architect \"design API structure\"\r\nnpx claude-flow sparc run tdd \"implement user service\"\r\n\r\n# Execute full TDD workflow\r\nnpx claude-flow sparc tdd \"implement user authentication\"\r\n\r\n# List all modes with details\r\nnpx claude-flow sparc modes --verbose\r\n\r\n# For alpha features\r\nnpx claude-flow@alpha sparc run <mode> \"your task\"\r\n\\`\\`\\`\r\n\r\n### Option 3: Local Installation\r\n\\`\\`\\`bash\r\n# If claude-flow is installed locally\r\n./claude-flow sparc \"build complete authentication system\"\r\n./claude-flow sparc run architect \"design API structure\"\r\n\\`\\`\\`\r\n\r\n## SPARC Methodology Phases\r\n\r\n1. **üìã Specification**: Define requirements, constraints, and acceptance criteria\r\n2. **üß† Pseudocode**: Create detailed logic flows and algorithmic planning\r\n3. **üèóÔ∏è Architecture**: Design system structure, APIs, and component boundaries\r\n4. **üîÑ Refinement**: Implement with TDD (Red-Green-Refactor cycle)\r\n5. **‚úÖ Completion**: Integrate, document, and validate against requirements\r\n\r\n## Memory Integration\r\n\r\n### Using MCP Tools (Preferred)\r\n\\`\\`\\`javascript\r\n// Store specifications\r\nmcp__claude-flow__memory_usage {\r\n  action: \"store\",\r\n  key: \"spec_auth\",\r\n  value: \"OAuth2 + JWT requirements\",\r\n  namespace: \"spec\"\r\n}\r\n\r\n// Store architectural decisions\r\nmcp__claude-flow__memory_usage {\r\n  action: \"store\",\r\n  key: \"arch_decisions\",\r\n  value: \"Microservices with API Gateway\",\r\n  namespace: \"architecture\"\r\n}\r\n\\`\\`\\`\r\n\r\n### Using NPX CLI (Fallback)\r\n\\`\\`\\`bash\r\n# Store specifications\r\nnpx claude-flow memory store \"spec_auth\" \"OAuth2 + JWT requirements\" --namespace spec\r\n\r\n# Store architectural decisions\r\n./claude-flow memory store \"arch_api\" \"RESTful microservices design\" --namespace arch\r\n\r\n# Query previous work\r\n./claude-flow memory query \"authentication\" --limit 10\r\n\r\n# Export project memory\r\n./claude-flow memory export sparc-project-backup.json\r\n\\`\\`\\`\r\n\r\n## Advanced Swarm Mode\r\n\r\nFor complex tasks requiring multiple agents with timeout-free execution:\r\n\\`\\`\\`bash\r\n# Development swarm with monitoring\r\n./claude-flow swarm \"Build e-commerce platform\" --strategy development --monitor --review\r\n\r\n# Background optimization swarm\r\n./claude-flow swarm \"Optimize system performance\" --strategy optimization --background\r\n\r\n# Distributed research swarm\r\n./claude-flow swarm \"Analyze market trends\" --strategy research --distributed --ui\r\n\\`\\`\\`\r\n\r\n## Non-Interactive Mode\r\n\r\nFor CI/CD integration and automation:\r\n\\`\\`\\`bash\r\n./claude-flow sparc run code \"implement API\" --non-interactive\r\n./claude-flow sparc tdd \"user tests\" --non-interactive --enable-permissions\r\n\\`\\`\\`\r\n\r\n## Best Practices\r\n\r\n‚úÖ **Modular Design**: Keep files under 500 lines\r\n‚úÖ **Environment Safety**: Never hardcode secrets or env values\r\n‚úÖ **Test-First**: Always write tests before implementation\r\n‚úÖ **Memory Usage**: Store important decisions and context\r\n‚úÖ **Task Completion**: All tasks should end with \\`attempt_completion\\`\r\n\r\nSee \\`/claude-flow-help\\` for all available commands.\r\n`;\r\n}\r\n"],"names":["createSparcSlashCommand","mode","fullDescription","roleDefinition","length","substring","slug","name","customInstructions","Array","isArray","groups","map","g","getToolDescription","description","fileRegex","JSON","stringify","join","getExampleTask","tool","toolDescriptions","read","edit","browser","mcp","command","examples","architect","code","tdd","debug","integration","devops","swarm","sparc","ask","tutorial","createMainSparcCommand","modes","modeList","m","sparcMode","find","sparcDescription","sparcInstructions","split","slice"],"mappings":"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"}