{"version":3,"sources":["../../../../../../src/cli/simple-commands/init/templates/verification-claude-md.js"],"sourcesContent":["// verification-claude-md.js - Verification and Pair Programming CLAUDE.md template\r\n\r\nexport function createVerificationClaudeMd() {\r\n  return `# Claude Code Configuration - Truth Verification & Pair Programming Environment\r\n\r\n## ðŸ” VERIFICATION-FIRST DEVELOPMENT\r\n\r\nThis project enforces **\"truth is enforced, not assumed\"** with mandatory verification for all operations.\r\n\r\n### ðŸŽ¯ Truth Verification System Active\r\n- **Threshold**: 0.95 (95% accuracy required)\r\n- **Mode**: Strict verification with auto-rollback\r\n- **Pair Programming**: Real-time collaborative development\r\n- **Background Monitoring**: Continuous validation enabled\r\n\r\n## ðŸš¨ CRITICAL: VERIFICATION COMMANDS\r\n\r\n### Initialize Verification System\r\n\\`\\`\\`bash\r\n# Set verification mode (strict/moderate/development)\r\n./claude-flow verify init strict     # 95% threshold, auto-rollback\r\n./claude-flow verify init moderate   # 85% threshold, no auto-rollback\r\n./claude-flow verify init development # 75% threshold, for prototyping\r\n\\`\\`\\`\r\n\r\n### Run Verification\r\n\\`\\`\\`bash\r\n# Verify specific tasks\r\n./claude-flow verify verify task-123 --agent coder\r\n./claude-flow verify verify task-456 --agent reviewer --threshold 0.90\r\n\r\n# Check truth scores\r\n./claude-flow truth                  # View current truth scores\r\n./claude-flow truth --report         # Generate detailed report\r\n./claude-flow truth --analyze        # Analyze failure patterns\r\n\\`\\`\\`\r\n\r\n### Pair Programming Mode\r\n\\`\\`\\`bash\r\n# Start pair programming with real-time verification\r\n./claude-flow pair --start           # Begin collaborative session\r\n./claude-flow pair --start --mode strict  # Production-quality pairing\r\n./claude-flow pair --verify --threshold 0.90  # Custom threshold\r\n\r\n# Background monitoring (use run_in_background: true)\r\n./claude-flow pair --start --monitor # Continuous monitoring dashboard\r\n\\`\\`\\`\r\n\r\n## ðŸ“Š VERIFICATION REQUIREMENTS BY AGENT TYPE\r\n\r\n### Coder Agents\r\n- **Compile**: Code must compile without errors (35% weight)\r\n- **Test**: All tests must pass (25% weight)\r\n- **Lint**: Code quality checks (20% weight)\r\n- **Typecheck**: Type safety verification (20% weight)\r\n\r\n### Reviewer Agents\r\n- **Code Analysis**: Static code analysis\r\n- **Security Scan**: Vulnerability detection\r\n- **Performance Check**: Regression testing\r\n\r\n### Tester Agents\r\n- **Unit Tests**: Component-level testing\r\n- **Integration Tests**: System-wide validation\r\n- **Coverage Check**: Minimum coverage thresholds\r\n\r\n### Planner Agents\r\n- **Task Decomposition**: Valid task breakdown\r\n- **Dependency Check**: Dependency validation\r\n- **Feasibility**: Resource analysis\r\n\r\n## ðŸ”„ BACKGROUND TASK MANAGEMENT\r\n\r\n### Running Verification in Background\r\n\\`\\`\\`javascript\r\n// Use run_in_background parameter for continuous monitoring\r\n{\r\n  \"tool\": \"Bash\",\r\n  \"command\": \"./claude-flow pair --start --monitor\",\r\n  \"run_in_background\": true  // Enables background execution\r\n}\r\n\\`\\`\\`\r\n\r\n### Managing Background Tasks\r\n\\`\\`\\`bash\r\n# Interactive management\r\n/bashes                      # View all background tasks\r\n\r\n# Check specific verification task\r\n\"Check status of bash_1\"     # Via prompt to Claude\r\n\r\n# Monitor verification output\r\n\"Show output from bash_1\"    # Real-time monitoring\r\n\r\n# Kill verification session\r\n\"Kill bash_1\"                # Stop background verification\r\n\\`\\`\\`\r\n\r\n## ðŸš¨ CRITICAL: CONCURRENT VERIFICATION\r\n\r\n**MANDATORY**: All verification operations MUST be concurrent:\r\n\r\n### âœ… CORRECT - Parallel Verification\r\n\\`\\`\\`javascript\r\n[Single Message]:\r\n  // Initialize verification for multiple tasks\r\n  - Bash(\"./claude-flow verify verify task-1 --agent coder\")\r\n  - Bash(\"./claude-flow verify verify task-2 --agent reviewer\")\r\n  - Bash(\"./claude-flow verify verify task-3 --agent tester\")\r\n  \r\n  // Check all truth scores\r\n  - Bash(\"./claude-flow truth --json\")\r\n  \r\n  // Start monitoring in background\r\n  - Bash(\"./claude-flow pair --start --monitor\", run_in_background: true)\r\n\\`\\`\\`\r\n\r\n### âŒ WRONG - Sequential Verification\r\n\\`\\`\\`javascript\r\nMessage 1: Verify task-1\r\nMessage 2: Verify task-2\r\nMessage 3: Check truth score\r\n// This is 3x slower!\r\n\\`\\`\\`\r\n\r\n## ðŸ“ˆ VERIFICATION METRICS & THRESHOLDS\r\n\r\n### Target Metrics\r\n- **Truth Accuracy Rate**: >95%\r\n- **Integration Success Rate**: >90%\r\n- **Automated Rollback Frequency**: <5%\r\n- **Human Intervention Rate**: <10%\r\n\r\n### Verification Modes\r\n| Mode | Threshold | Auto-Rollback | Use Case |\r\n|------|-----------|---------------|----------|\r\n| **Strict** | 0.95 | âœ… Enabled | Production |\r\n| **Moderate** | 0.85 | âŒ Disabled | Development |\r\n| **Development** | 0.75 | âŒ Disabled | Prototyping |\r\n\r\n## ðŸ¤ PAIR PROGRAMMING WORKFLOW\r\n\r\n### 1. Start Session\r\n\\`\\`\\`bash\r\n# Initialize pair programming with verification\r\n./claude-flow pair --start --mode strict\r\n\\`\\`\\`\r\n\r\n### 2. Real-time Verification Cycle\r\n\\`\\`\\`\r\nDeveloper writes code\r\n    â†“\r\nAI agent reviews in real-time\r\n    â†“\r\nVerification engine checks:\r\n  - Compilation (35%)\r\n  - Tests (25%)\r\n  - Linting (20%)\r\n  - Type safety (20%)\r\n    â†“\r\nTruth score calculated\r\n    â†“\r\nPass (>0.95) â†’ Accept change\r\nFail (<0.95) â†’ Suggest fixes or rollback\r\n\\`\\`\\`\r\n\r\n### 3. Continuous Monitoring\r\n\\`\\`\\`bash\r\n# Monitor in background\r\n./claude-flow pair --start --monitor &\r\n\r\n# Check verification output\r\n/bashes  # Interactive view\r\n\"Check bash_1 output\"  # Via prompt\r\n\\`\\`\\`\r\n\r\n## ðŸ”’ SECURITY & AUDIT FEATURES\r\n\r\n### Cryptographic Verification\r\n- All verification results are cryptographically signed\r\n- SHA256 checksums for integrity\r\n- Immutable audit trail\r\n\r\n### Byzantine Fault Tolerance\r\n- Protection against incorrect agents\r\n- Consensus requirements (2/3+ majority)\r\n- Automatic agent quarantine\r\n\r\n### Audit Trail\r\n\\`\\`\\`bash\r\n# View verification history\r\ncat .swarm/verification-memory.json | jq .history\r\n\r\n# Check agent reliability\r\n./claude-flow truth --agent coder --detailed\r\n\\`\\`\\`\r\n\r\n## ðŸš€ QUICK START VERIFICATION WORKFLOW\r\n\r\n### Step 1: Initialize Project with Verification\r\n\\`\\`\\`bash\r\n# Initialize with verification-first approach\r\nnpx claude-flow@alpha init --verify --pair\r\n\r\n# Set up strict verification\r\n./claude-flow verify init strict\r\n\\`\\`\\`\r\n\r\n### Step 2: Start Development with Pair Programming\r\n\\`\\`\\`bash\r\n# Start pair programming session\r\n./claude-flow pair --start --mode strict --monitor &\r\n\r\n# Monitor verification (background task)\r\n/bashes  # Check bash_1 status\r\n\\`\\`\\`\r\n\r\n### Step 3: Develop with Continuous Verification\r\n\\`\\`\\`bash\r\n# All changes are automatically verified\r\n# Truth scores maintained above 0.95\r\n# Auto-rollback on verification failures\r\n\\`\\`\\`\r\n\r\n### Step 4: Check Truth Metrics\r\n\\`\\`\\`bash\r\n# View current truth scores\r\n./claude-flow truth\r\n\r\n# Generate detailed report\r\n./claude-flow truth --report --export metrics.json\r\n\\`\\`\\`\r\n\r\n## ðŸ“‹ VERIFICATION CHECKLIST\r\n\r\nBefore ANY operation:\r\n- âœ… Is verification system initialized?\r\n- âœ… Is pair programming mode active?\r\n- âœ… Are background monitors running?\r\n- âœ… Is truth threshold configured correctly?\r\n- âœ… Are all agents configured for verification?\r\n\r\n## ðŸ› ï¸ BUILD COMMANDS WITH VERIFICATION\r\n\r\n### Standard Commands (with verification)\r\n- \\`npm run build\\`: Build with verification checks\r\n- \\`npm run test\\`: Test with truth scoring\r\n- \\`npm run lint\\`: Lint with verification tracking\r\n- \\`npm run typecheck\\`: Type check with validation\r\n\r\n### Verification Commands\r\n- \\`./claude-flow verify status\\`: Check system status\r\n- \\`./claude-flow verify verify <task>\\`: Run verification\r\n- \\`./claude-flow truth\\`: View truth scores\r\n- \\`./claude-flow pair --start\\`: Begin pair programming\r\n\r\n## ðŸ’¾ PERSISTENT VERIFICATION MEMORY\r\n\r\nVerification data stored in:\r\n- \\`.swarm/verification-memory.json\\`: Verification history\r\n- \\`.swarm/memory.db\\`: Persistent swarm memory\r\n- \\`.claude/verification-config.json\\`: Custom configuration\r\n\r\n## ðŸŽ¯ AGENT VERIFICATION PATTERNS\r\n\r\n### Full-Stack Development with Verification\r\n\\`\\`\\`javascript\r\n// Deploy agents with verification requirements\r\nTask(\"System architecture\", \"Design with verification\", \"system-architect\")\r\nTask(\"Backend APIs\", \"Implement with 95% accuracy\", \"backend-dev\")\r\nTask(\"Frontend\", \"Build with validation\", \"mobile-dev\")\r\nTask(\"Testing\", \"Comprehensive verification\", \"tester\")\r\nTask(\"Review\", \"Verify all changes\", \"reviewer\")\r\n\\`\\`\\`\r\n\r\n### Verification-First TDD\r\n\\`\\`\\`javascript\r\n// TDD with mandatory verification\r\nTask(\"Write failing tests\", \"Verify test quality\", \"tester\")\r\nTask(\"Implement code\", \"Verify implementation\", \"coder\")\r\nTask(\"Refactor\", \"Verify improvements\", \"reviewer\")\r\nTask(\"Validate\", \"Final verification\", \"production-validator\")\r\n\\`\\`\\`\r\n\r\n## âš¡ PERFORMANCE WITH VERIFICATION\r\n\r\n### Optimized Verification\r\n- **Parallel Checks**: Run all verifications concurrently\r\n- **Cached Results**: Skip unchanged file verification\r\n- **Smart Batching**: Group related verifications\r\n- **Background Execution**: Non-blocking verification\r\n\r\n### Expected Performance\r\n- Verification overhead: <10% for most operations\r\n- Truth score calculation: <500ms\r\n- Rollback execution: <2 seconds\r\n- Background monitoring: Minimal impact\r\n\r\n## ðŸ”„ AUTOMATED WORKFLOWS\r\n\r\n### CI/CD Integration\r\n\\`\\`\\`yaml\r\n# .github/workflows/verification.yml\r\n- name: Run Verification\r\n  run: |\r\n    npx claude-flow verify init strict\r\n    npx claude-flow verify verify \\${{ github.run_id }}\r\n    npx claude-flow truth --threshold 0.95\r\n\\`\\`\\`\r\n\r\n### Pre-commit Hooks\r\n\\`\\`\\`bash\r\n# .git/hooks/pre-commit\r\n#!/bin/bash\r\nnpx claude-flow verify verify pre-commit --agent coder\r\nSCORE=\\$(npx claude-flow truth --json | jq .averageScore)\r\nif [ \"\\$SCORE\" -lt \"0.85\" ]; then\r\n  echo \"âŒ Commit blocked: Truth score \\$SCORE below threshold\"\r\n  exit 1\r\nfi\r\n\\`\\`\\`\r\n\r\n## ðŸ“š DOCUMENTATION\r\n\r\n- [Truth Verification System](https://github.com/ruvnet/claude-flow/wiki/Truth-Verification-System)\r\n- [Pair Programming Guide](https://github.com/ruvnet/claude-flow/wiki/Pair-Programming-System)\r\n- [Background Commands](https://github.com/ruvnet/claude-flow/wiki/background-commands)\r\n- [Agent Verification](https://github.com/ruvnet/claude-flow/wiki/Agent-Verification)\r\n\r\n## ðŸš¨ IMPORTANT REMINDERS\r\n\r\n1. **Truth is Enforced**: Every operation requires verification\r\n2. **Parallel Execution**: All verifications run concurrently\r\n3. **Background Monitoring**: Use run_in_background for continuous checks\r\n4. **Persistent Memory**: All verification data is saved\r\n5. **Auto-Rollback**: Failed verifications trigger automatic recovery\r\n\r\n---\r\n\r\nRemember: **\"Truth is enforced, not assumed\"** - All operations require verification!\r\n`;\r\n}\r\n\r\nexport function createVerificationSettingsJson() {\r\n  return JSON.stringify({\r\n    \"version\": \"1.0.0\",\r\n    \"verification\": {\r\n      \"enabled\": true,\r\n      \"mode\": \"strict\",\r\n      \"threshold\": 0.95,\r\n      \"autoRollback\": true,\r\n      \"requireConsensus\": true\r\n    },\r\n    \"pairProgramming\": {\r\n      \"enabled\": true,\r\n      \"mode\": \"strict\",\r\n      \"realTimeVerification\": true,\r\n      \"continuousMonitoring\": true,\r\n      \"backgroundExecution\": true\r\n    },\r\n    \"agentVerification\": {\r\n      \"coder\": {\r\n        \"checks\": [\"compile\", \"test\", \"lint\", \"typecheck\"],\r\n        \"weights\": {\r\n          \"compile\": 0.35,\r\n          \"test\": 0.25,\r\n          \"lint\": 0.20,\r\n          \"typecheck\": 0.20\r\n        }\r\n      },\r\n      \"reviewer\": {\r\n        \"checks\": [\"code-analysis\", \"security-scan\", \"performance-check\"],\r\n        \"weights\": {\r\n          \"code-analysis\": 0.40,\r\n          \"security-scan\": 0.35,\r\n          \"performance-check\": 0.25\r\n        }\r\n      },\r\n      \"tester\": {\r\n        \"checks\": [\"unit-tests\", \"integration-tests\", \"coverage-check\"],\r\n        \"weights\": {\r\n          \"unit-tests\": 0.35,\r\n          \"integration-tests\": 0.35,\r\n          \"coverage-check\": 0.30\r\n        }\r\n      },\r\n      \"planner\": {\r\n        \"checks\": [\"task-decomposition\", \"dependency-check\", \"feasibility\"],\r\n        \"weights\": {\r\n          \"task-decomposition\": 0.40,\r\n          \"dependency-check\": 0.30,\r\n          \"feasibility\": 0.30\r\n        }\r\n      }\r\n    },\r\n    \"backgroundTasks\": {\r\n      \"autoBackground\": {\r\n        \"enabled\": true,\r\n        \"patterns\": [\r\n          \"./claude-flow pair --start\",\r\n          \"./claude-flow verify verify\",\r\n          \"./claude-flow truth --monitor\",\r\n          \"*--monitor*\",\r\n          \"*--watch*\"\r\n        ]\r\n      }\r\n    },\r\n    \"metrics\": {\r\n      \"targets\": {\r\n        \"truthAccuracy\": 0.95,\r\n        \"integrationSuccess\": 0.90,\r\n        \"rollbackFrequency\": 0.05,\r\n        \"humanIntervention\": 0.10\r\n      }\r\n    },\r\n    \"hooks\": {\r\n      \"pre-commit\": {\r\n        \"enabled\": true,\r\n        \"commands\": [\r\n          \"npx claude-flow verify verify pre-commit --agent coder\"\r\n        ],\r\n        \"threshold\": 0.85\r\n      },\r\n      \"post-task\": {\r\n        \"enabled\": true,\r\n        \"commands\": [\r\n          \"npx claude-flow truth --json\",\r\n          \"npx claude-flow verify status\"\r\n        ]\r\n      }\r\n    }\r\n  }, null, 2);\r\n}"],"names":["createVerificationClaudeMd","createVerificationSettingsJson","JSON","stringify"],"mappings":"AAEA,OAAO,SAASA;IACd,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiVV,CAAC;AACD;AAEA,OAAO,SAASC;IACd,OAAOC,KAAKC,SAAS,CAAC;QACpB,WAAW;QACX,gBAAgB;YACd,WAAW;YACX,QAAQ;YACR,aAAa;YACb,gBAAgB;YAChB,oBAAoB;QACtB;QACA,mBAAmB;YACjB,WAAW;YACX,QAAQ;YACR,wBAAwB;YACxB,wBAAwB;YACxB,uBAAuB;QACzB;QACA,qBAAqB;YACnB,SAAS;gBACP,UAAU;oBAAC;oBAAW;oBAAQ;oBAAQ;iBAAY;gBAClD,WAAW;oBACT,WAAW;oBACX,QAAQ;oBACR,QAAQ;oBACR,aAAa;gBACf;YACF;YACA,YAAY;gBACV,UAAU;oBAAC;oBAAiB;oBAAiB;iBAAoB;gBACjE,WAAW;oBACT,iBAAiB;oBACjB,iBAAiB;oBACjB,qBAAqB;gBACvB;YACF;YACA,UAAU;gBACR,UAAU;oBAAC;oBAAc;oBAAqB;iBAAiB;gBAC/D,WAAW;oBACT,cAAc;oBACd,qBAAqB;oBACrB,kBAAkB;gBACpB;YACF;YACA,WAAW;gBACT,UAAU;oBAAC;oBAAsB;oBAAoB;iBAAc;gBACnE,WAAW;oBACT,sBAAsB;oBACtB,oBAAoB;oBACpB,eAAe;gBACjB;YACF;QACF;QACA,mBAAmB;YACjB,kBAAkB;gBAChB,WAAW;gBACX,YAAY;oBACV;oBACA;oBACA;oBACA;oBACA;iBACD;YACH;QACF;QACA,WAAW;YACT,WAAW;gBACT,iBAAiB;gBACjB,sBAAsB;gBACtB,qBAAqB;gBACrB,qBAAqB;YACvB;QACF;QACA,SAAS;YACP,cAAc;gBACZ,WAAW;gBACX,YAAY;oBACV;iBACD;gBACD,aAAa;YACf;YACA,aAAa;gBACX,WAAW;gBACX,YAAY;oBACV;oBACA;iBACD;YACH;QACF;IACF,GAAG,MAAM;AACX"}