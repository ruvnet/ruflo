{"version":3,"sources":["../../../../../src/cli/commands/hive-mind/pause.ts"],"sourcesContent":["#!/usr/bin/env node\r\n/**\r\n * Hive Mind Pause Command\r\n *\r\n * Pause active swarm sessions\r\n */\r\n\r\nimport { Command } from '../commander-fix.js';\r\nimport chalk from 'chalk';\r\nimport { HiveMindSessionManager } from '../../simple-commands/hive-mind/session-manager.js';\r\nimport inquirer from 'inquirer';\r\n\r\nexport const pauseCommand = new Command('pause')\r\n  .description('Pause active hive mind sessions')\r\n  .option('-s, --session <id>', 'Pause specific session by ID')\r\n  .action(async (options) => {\r\n    const sessionManager = new HiveMindSessionManager();\r\n\r\n    try {\r\n      if (options.session) {\r\n        // Pause specific session\r\n        const sessionId = options.session;\r\n        const session = await sessionManager.getSession(sessionId);\r\n\r\n        if (!session) {\r\n          console.log(chalk.red(`Session ${sessionId} not found`));\r\n          return;\r\n        }\r\n\r\n        if ((session as any).status === 'paused') {\r\n          console.log(chalk.yellow(`Session ${sessionId} is already paused`));\r\n          return;\r\n        }\r\n\r\n        if ((session as any).status !== 'active') {\r\n          console.log(\r\n            chalk.yellow(`Session ${sessionId} is not active (status: ${(session as any).status})`),\r\n          );\r\n          return;\r\n        }\r\n\r\n        console.log(chalk.cyan(`Pausing session ${sessionId}...`));\r\n        const result = await sessionManager.pauseSession(sessionId);\r\n\r\n        if (result) {\r\n          console.log(chalk.green(`✓ Session ${sessionId} paused successfully`));\r\n          console.log(chalk.gray(`Use 'claude-flow hive-mind resume -s ${sessionId}' to resume`));\r\n        } else {\r\n          console.log(chalk.red(`Failed to pause session ${sessionId}`));\r\n        }\r\n      } else {\r\n        // Interactive selection\r\n        const sessions = await sessionManager.getActiveSessions();\r\n        const activeSessions = sessions.filter((s: any) => s.status === 'active');\r\n\r\n        if (activeSessions.length === 0) {\r\n          console.log(chalk.yellow('No active sessions found to pause'));\r\n          return;\r\n        }\r\n\r\n        const { sessionId } = await inquirer.prompt([\r\n          {\r\n            type: 'list',\r\n            name: 'sessionId',\r\n            message: 'Select session to pause:',\r\n            choices: activeSessions.map((s: any) => ({\r\n              name: `${s.swarm_name} (${s.id}) - ${s.completion_percentage}% complete`,\r\n              value: s.id,\r\n            })),\r\n          },\r\n        ]);\r\n\r\n        console.log(chalk.cyan(`Pausing session ${sessionId}...`));\r\n        const result = await sessionManager.pauseSession(sessionId);\r\n\r\n        if (result) {\r\n          console.log(chalk.green(`✓ Session paused successfully`));\r\n          console.log(chalk.gray(`Use 'claude-flow hive-mind resume -s ${sessionId}' to resume`));\r\n        } else {\r\n          console.log(chalk.red(`Failed to pause session`));\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(chalk.red('Error pausing session:'), (error as Error).message);\r\n      process.exit(1);\r\n    } finally {\r\n      sessionManager.close();\r\n    }\r\n  });\r\n"],"names":["Command","chalk","HiveMindSessionManager","inquirer","pauseCommand","description","option","action","options","sessionManager","session","sessionId","getSession","console","log","red","status","yellow","cyan","result","pauseSession","green","gray","sessions","getActiveSessions","activeSessions","filter","s","length","prompt","type","name","message","choices","map","swarm_name","id","completion_percentage","value","error","process","exit","close"],"mappings":"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"}