{
  "version": 3,
  "sources": ["../../../../src/cli/commands/hive-mind/init.ts"],
  "sourcesContent": ["#!/usr/bin/env node\n/**\n * Hive Mind Initialization Command\n *\n * Initializes a new Hive Mind swarm with Queen coordination\n * and collective intelligence capabilities.\n */\n\nimport { Command } from 'commander';\nimport chalk from 'chalk';\nimport ora from 'ora';\nimport { HiveMind } from '../../../hive-mind/core/HiveMind.js';\nimport { HiveMindConfig, SwarmTopology } from '../../../hive-mind/types.js';\nimport { DatabaseManager } from '../../../hive-mind/core/DatabaseManager.js';\nimport { formatSuccess, formatError, formatInfo } from '../../formatter.js';\n\nexport const initCommand = new Command('init')\n  .description('Initialize a new Hive Mind swarm')\n  .option(\n    '-t, --topology <type>',\n    'Swarm topology (mesh, hierarchical, ring, star)',\n    'hierarchical',\n  )\n  .option('-m, --max-agents <number>', 'Maximum agents in swarm', '8')\n  .option('-n, --name <string>', 'Swarm name', 'hive-mind-' + Date.now())\n  .option(\n    '-q, --queen-mode <mode>',\n    'Queen coordination mode (centralized, distributed)',\n    'centralized',\n  )\n  .option('--memory-ttl <seconds>', 'Default memory TTL in seconds', '86400')\n  .option('--consensus-threshold <percent>', 'Consensus threshold percentage', '0.66')\n  .option('--auto-spawn', 'Automatically spawn initial agents', false)\n  .action(async (options) => {\n    const spinner = ora('Initializing Hive Mind...').start();\n\n    try {\n      // Initialize database\n      const db = await DatabaseManager.getInstance();\n      await db.initialize();\n\n      // Create Hive Mind configuration\n      const config: HiveMindConfig = {\n        name: options.name,\n        topology: options.topology as SwarmTopology,\n        maxAgents: parseInt(options.maxAgents, 10),\n        queenMode: options.queenMode,\n        memoryTTL: parseInt(options.memoryTtl, 10),\n        consensusThreshold: parseFloat(options.consensusThreshold),\n        autoSpawn: options.autoSpawn,\n        createdAt: new Date(),\n      };\n\n      // Initialize Hive Mind\n      const hiveMind = new HiveMind(config);\n      const swarmId = await hiveMind.initialize();\n\n      spinner.succeed(formatSuccess('Hive Mind initialized successfully!'));\n\n      console.log('\\n' + chalk.bold('\uD83D\uDC1D Hive Mind Details:'));\n      console.log(formatInfo(`Swarm ID: ${swarmId}`));\n      console.log(formatInfo(`Name: ${config.name}`));\n      console.log(formatInfo(`Topology: ${config.topology}`));\n      console.log(formatInfo(`Queen Mode: ${config.queenMode}`));\n      console.log(formatInfo(`Max Agents: ${config.maxAgents}`));\n      console.log(formatInfo(`Consensus Threshold: ${config.consensusThreshold * 100}%`));\n\n      if (options.autoSpawn) {\n        console.log('\\n' + chalk.bold('\uD83D\uDE80 Auto-spawning initial agents...'));\n        await hiveMind.autoSpawnAgents();\n        console.log(formatSuccess('Initial agents spawned successfully!'));\n      }\n\n      console.log('\\n' + chalk.bold('\uD83D\uDCDD Next Steps:'));\n      console.log(formatInfo('1. Spawn agents: ruv-swarm hive-mind spawn <type>'));\n      console.log(formatInfo('2. Submit task: ruv-swarm hive-mind task \"Your task\"'));\n      console.log(formatInfo('3. Check status: ruv-swarm hive-mind status'));\n      console.log(formatInfo('4. Interactive: ruv-swarm hive-mind wizard'));\n    } catch (error) {\n      spinner.fail(formatError('Failed to initialize Hive Mind'));\n      console.error(formatError((error as Error).message));\n      process.exit(1);\n    }\n  });\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,uBAAwB;AACxB,mBAAkB;AAClB,iBAAgB;AAChB,sBAAyB;AAEzB,6BAAgC;AAChC,uBAAuD;AAEhD,MAAM,cAAc,IAAI,yBAAQ,MAAM,EAC1C,YAAY,kCAAkC,EAC9C;AAAA,EACC;AAAA,EACA;AAAA,EACA;AACF,EACC,OAAO,6BAA6B,2BAA2B,GAAG,EAClE,OAAO,uBAAuB,cAAc,eAAe,KAAK,IAAI,CAAC,EACrE;AAAA,EACC;AAAA,EACA;AAAA,EACA;AACF,EACC,OAAO,0BAA0B,iCAAiC,OAAO,EACzE,OAAO,mCAAmC,kCAAkC,MAAM,EAClF,OAAO,gBAAgB,sCAAsC,KAAK,EAClE,OAAO,OAAO,YAAY;AACzB,QAAM,cAAU,WAAAA,SAAI,2BAA2B,EAAE,MAAM;AAEvD,MAAI;AAEF,UAAM,KAAK,MAAM,uCAAgB,YAAY;AAC7C,UAAM,GAAG,WAAW;AAGpB,UAAM,SAAyB;AAAA,MAC7B,MAAM,QAAQ;AAAA,MACd,UAAU,QAAQ;AAAA,MAClB,WAAW,SAAS,QAAQ,WAAW,EAAE;AAAA,MACzC,WAAW,QAAQ;AAAA,MACnB,WAAW,SAAS,QAAQ,WAAW,EAAE;AAAA,MACzC,oBAAoB,WAAW,QAAQ,kBAAkB;AAAA,MACzD,WAAW,QAAQ;AAAA,MACnB,WAAW,oBAAI,KAAK;AAAA,IACtB;AAGA,UAAM,WAAW,IAAI,yBAAS,MAAM;AACpC,UAAM,UAAU,MAAM,SAAS,WAAW;AAE1C,YAAQ,YAAQ,gCAAc,qCAAqC,CAAC;AAEpE,YAAQ,IAAI,OAAO,aAAAC,QAAM,KAAK,8BAAuB,CAAC;AACtD,YAAQ,QAAI,6BAAW,aAAa,OAAO,EAAE,CAAC;AAC9C,YAAQ,QAAI,6BAAW,SAAS,OAAO,IAAI,EAAE,CAAC;AAC9C,YAAQ,QAAI,6BAAW,aAAa,OAAO,QAAQ,EAAE,CAAC;AACtD,YAAQ,QAAI,6BAAW,eAAe,OAAO,SAAS,EAAE,CAAC;AACzD,YAAQ,QAAI,6BAAW,eAAe,OAAO,SAAS,EAAE,CAAC;AACzD,YAAQ,QAAI,6BAAW,wBAAwB,OAAO,qBAAqB,GAAG,GAAG,CAAC;AAElF,QAAI,QAAQ,WAAW;AACrB,cAAQ,IAAI,OAAO,aAAAA,QAAM,KAAK,2CAAoC,CAAC;AACnE,YAAM,SAAS,gBAAgB;AAC/B,cAAQ,QAAI,gCAAc,sCAAsC,CAAC;AAAA,IACnE;AAEA,YAAQ,IAAI,OAAO,aAAAA,QAAM,KAAK,uBAAgB,CAAC;AAC/C,YAAQ,QAAI,6BAAW,mDAAmD,CAAC;AAC3E,YAAQ,QAAI,6BAAW,sDAAsD,CAAC;AAC9E,YAAQ,QAAI,6BAAW,6CAA6C,CAAC;AACrE,YAAQ,QAAI,6BAAW,4CAA4C,CAAC;AAAA,EACtE,SAAS,OAAO;AACd,YAAQ,SAAK,8BAAY,gCAAgC,CAAC;AAC1D,YAAQ,UAAM,8BAAa,MAAgB,OAAO,CAAC;AACnD,YAAQ,KAAK,CAAC;AAAA,EAChB;AACF,CAAC;",
  "names": ["ora", "chalk"]
}
