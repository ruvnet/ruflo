{
  "version": 3,
  "sources": ["../../src/cli/simple-orchestrator.ts"],
  "sourcesContent": ["/**\n * Simple orchestrator implementation for Node.js compatibility\n */\n\nimport { EventEmitter } from 'events';\nimport express from 'express';\nimport { WebSocketServer } from 'ws';\nimport { createServer } from 'http';\nimport { spawn } from 'child_process';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\nimport cors from 'cors';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\n// Simple in-memory stores\nconst agents = new Map();\nconst tasks = new Map();\nconst memory = new Map();\n\n// Event bus\nconst eventBus = new EventEmitter();\n\n// Component status\nconst componentStatus = {\n  eventBus: false,\n  orchestrator: false,\n  memoryManager: false,\n  terminalPool: false,\n  mcpServer: false,\n  coordinationManager: false,\n  webUI: false,\n};\n\n// Simple MCP server\nfunction startMCPServer(port: number) {\n  console.log(`\uD83C\uDF10 Starting MCP server on port ${port}...`);\n  // In a real implementation, this would start the actual MCP server\n  componentStatus.mcpServer = true;\n  return true;\n}\n\n// Enhanced web UI with console interface\nfunction startWebUI(host: string, port: number) {\n  const app = express();\n  const server = createServer(app);\n  const wss = new WebSocketServer({ server });\n\n  // Add CORS middleware for cross-origin support\n  app.use(\n    cors({\n      origin: '*',\n      methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],\n      allowedHeaders: ['Content-Type', 'Authorization'],\n      credentials: true,\n    }),\n  );\n\n  // Global error handler middleware\n  app.use((err: any, req: express.Request, res: express.Response, next: express.NextFunction) => {\n    console.error('Global error handler:', err);\n    res.status(err.status || 500).json({\n      error: err.message || 'Internal server error',\n      timestamp: new Date().toISOString(),\n    });\n  });\n\n  // Request logging middleware\n  app.use((req, res, next) => {\n    console.log(`${new Date().toISOString()} ${req.method} ${req.path}`);\n    next();\n  });\n\n  // Store CLI output history and active connections\n  const outputHistory: string[] = [];\n  const activeConnections: Set<any> = new Set();\n\n  // CLI output capture system\n  let cliProcess: any = null;\n\n  const consoleHTML = `\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>Claude-Flow Console</title>\n        <style>\n            * {\n                margin: 0;\n                padding: 0;\n                box-sizing: border-box;\n            }\n            body {\n                font-family: 'Consolas', 'Monaco', 'Courier New', monospace;\n                background: #0d1117;\n                color: #c9d1d9;\n                height: 100vh;\n                display: flex;\n                flex-direction: column;\n                overflow: hidden;\n            }\n            .header {\n                background: #161b22;\n                border-bottom: 1px solid #21262d;\n                padding: 10px 20px;\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n            }\n            .title {\n                font-weight: bold;\n                color: #58a6ff;\n            }\n            .connection-status {\n                font-size: 12px;\n                color: #7c3aed;\n            }\n            .console-container {\n                flex: 1;\n                display: flex;\n                flex-direction: column;\n                overflow: hidden;\n            }\n            .console-output {\n                flex: 1;\n                overflow-y: auto;\n                padding: 10px;\n                background: #0d1117;\n                font-size: 13px;\n                line-height: 1.4;\n                white-space: pre-wrap;\n                word-wrap: break-word;\n            }\n            .console-input {\n                background: #161b22;\n                border: none;\n                border-top: 1px solid #21262d;\n                padding: 10px;\n                color: #c9d1d9;\n                font-family: inherit;\n                font-size: 13px;\n                outline: none;\n            }\n            .console-input:focus {\n                background: #21262d;\n            }\n            .prompt {\n                color: #58a6ff;\n                font-weight: bold;\n            }\n            .error {\n                color: #ff7b72;\n            }\n            .success {\n                color: #3fb950;\n            }\n            .warning {\n                color: #ffa657;\n            }\n            .info {\n                color: #79c0ff;\n            }\n            .dim {\n                color: #8b949e;\n            }\n            .scrollbar {\n                scrollbar-width: thin;\n                scrollbar-color: #21262d #0d1117;\n            }\n            .scrollbar::-webkit-scrollbar {\n                width: 8px;\n            }\n            .scrollbar::-webkit-scrollbar-track {\n                background: #0d1117;\n            }\n            .scrollbar::-webkit-scrollbar-thumb {\n                background: #21262d;\n                border-radius: 4px;\n            }\n            .scrollbar::-webkit-scrollbar-thumb:hover {\n                background: #30363d;\n            }\n            .system-status {\n                display: flex;\n                gap: 15px;\n                font-size: 11px;\n            }\n            .status-item {\n                display: flex;\n                align-items: center;\n                gap: 5px;\n            }\n            .status-dot {\n                width: 6px;\n                height: 6px;\n                border-radius: 50%;\n                background: #3fb950;\n            }\n            .status-dot.inactive {\n                background: #f85149;\n            }\n        </style>\n    </head>\n    <body>\n        <div class=\"header\">\n            <div class=\"title\">\uD83E\uDDE0 Claude-Flow Console</div>\n            <div class=\"system-status\">\n                <div class=\"status-item\">\n                    <div class=\"status-dot\" id=\"ws-status\"></div>\n                    <span id=\"ws-text\">Connecting...</span>\n                </div>\n                <div class=\"status-item\">\n                    <div class=\"status-dot\" id=\"cli-status\"></div>\n                    <span id=\"cli-text\">CLI Ready</span>\n                </div>\n            </div>\n        </div>\n        <div class=\"console-container\">\n            <div class=\"console-output scrollbar\" id=\"output\"></div>\n            <input type=\"text\" class=\"console-input\" id=\"input\" placeholder=\"Enter claude-flow command...\" autocomplete=\"off\">\n        </div>\n\n        <script>\n            const output = document.getElementById('output');\n            const input = document.getElementById('input');\n            const wsStatus = document.getElementById('ws-status');\n            const wsText = document.getElementById('ws-text');\n            const cliStatus = document.getElementById('cli-status');\n            const cliText = document.getElementById('cli-text');\n            \n            let ws = null;\n            let commandHistory = [];\n            let historyIndex = -1;\n            let reconnectAttempts = 0;\n            let reconnectTimer = null;\n            let isReconnecting = false;\n            const MAX_RECONNECT_ATTEMPTS = 10;\n            const BASE_RECONNECT_DELAY = 1000;\n            \n            function getReconnectDelay() {\n                // Exponential backoff with jitter\n                const exponentialDelay = Math.min(BASE_RECONNECT_DELAY * Math.pow(2, reconnectAttempts), 30000);\n                const jitter = Math.random() * 0.3 * exponentialDelay;\n                return exponentialDelay + jitter;\n            }\n            \n            function connect() {\n                if (isReconnecting || (ws && ws.readyState === WebSocket.CONNECTING)) {\n                    console.log('Already connecting, skipping duplicate attempt');\n                    return;\n                }\n                \n                isReconnecting = true;\n                const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';\n                const wsUrl = \\`\\${protocol}//\\${window.location.host}\\`;\n                \n                try {\n                    console.log(\\`Attempting WebSocket connection to \\${wsUrl}\\`);\n                    ws = new WebSocket(wsUrl);\n                    \n                    ws.onopen = () => {\n                        console.log('WebSocket connected successfully');\n                        wsStatus.classList.remove('inactive');\n                        wsText.textContent = 'Connected';\n                        reconnectAttempts = 0;\n                        isReconnecting = false;\n                        \n                        if (reconnectTimer) {\n                            clearTimeout(reconnectTimer);\n                            reconnectTimer = null;\n                        }\n                        \n                        appendOutput('\\n<span class=\"success\">\uD83D\uDD17 Connected to Claude-Flow Console</span>\\n');\n                        appendOutput('<span class=\"info\">Type \"help\" for available commands or use any claude-flow command</span>\\n\\n');\n                    };\n                    \n                    ws.onmessage = (event) => {\n                        try {\n                            const data = JSON.parse(event.data);\n                            handleMessage(data);\n                        } catch (error) {\n                            console.error('Failed to parse WebSocket message:', error);\n                            appendOutput(\\`\\n<span class=\"error\">\u274C Invalid message received: \\${(error instanceof Error ? error.message : String(error))}</span>\\n\\`);\n                        }\n                    };\n                    \n                    ws.onclose = (event) => {\n                        console.log(\\`WebSocket closed: code=\\${event.code}, reason=\\${event.reason}\\`);\n                        wsStatus.classList.add('inactive');\n                        wsText.textContent = 'Disconnected';\n                        isReconnecting = false;\n                        \n                        if (reconnectAttempts < MAX_RECONNECT_ATTEMPTS) {\n                            reconnectAttempts++;\n                            const delay = getReconnectDelay();\n                            appendOutput(\\`\\n<span class=\"error\">\uD83D\uDD17 Connection lost. Reconnecting in \\${Math.round(delay/1000)}s... (attempt \\${reconnectAttempts}/\\${MAX_RECONNECT_ATTEMPTS})</span>\\n\\`);\n                            \n                            reconnectTimer = setTimeout(() => {\n                                reconnectTimer = null;\n                                connect();\n                            }, delay);\n                        } else {\n                            appendOutput(\\`\\n<span class=\"error\">\u274C Failed to reconnect after \\${MAX_RECONNECT_ATTEMPTS} attempts. Please refresh the page.</span>\\n\\`);\n                            wsText.textContent = 'Failed to connect';\n                        }\n                    };\n                    \n                    ws.onerror = (error) => {\n                        console.error('WebSocket error:', error);\n                        appendOutput(\\`\\n<span class=\"error\">\u274C WebSocket error: \\${(error instanceof Error ? error.message : String(error)) || 'Connection failed'}</span>\\n\\`);\n                        isReconnecting = false;\n                    };\n                    \n                } catch (error) {\n                    console.error('Failed to create WebSocket:', error);\n                    appendOutput(\\`\\n<span class=\"error\">\u274C Failed to create WebSocket connection: \\${(error instanceof Error ? error.message : String(error))}</span>\\n\\`);\n                    isReconnecting = false;\n                    \n                    // Try reconnect if not exceeded max attempts\n                    if (reconnectAttempts < MAX_RECONNECT_ATTEMPTS) {\n                        reconnectAttempts++;\n                        const delay = getReconnectDelay();\n                        reconnectTimer = setTimeout(() => {\n                            reconnectTimer = null;\n                            connect();\n                        }, delay);\n                    }\n                }\n            }\n            \n            function handleMessage(data) {\n                switch (data.type) {\n                    case 'output':\n                        appendOutput(data.data);\n                        break;\n                    case 'error':\n                        appendOutput('<span class=\"error\">' + data.data + '</span>');\n                        break;\n                    case 'command_complete':\n                        appendOutput('\\n<span class=\"prompt\">claude-flow> </span>');\n                        break;\n                    case 'status':\n                        updateStatus(data.data);\n                        break;\n                }\n            }\n            \n            function appendOutput(text) {\n                output.innerHTML += text;\n                output.scrollTop = output.scrollHeight;\n            }\n            \n            function updateStatus(status) {\n                // Update CLI status based on server response\n                if (status.cliActive) {\n                    cliStatus.classList.remove('inactive');\n                    cliText.textContent = 'CLI Active';\n                } else {\n                    cliStatus.classList.add('inactive');\n                    cliText.textContent = 'CLI Inactive';\n                }\n            }\n            \n            function sendCommand(command) {\n                if (ws && ws.readyState === WebSocket.OPEN) {\n                    appendOutput('<span class=\"prompt\">claude-flow> </span>' + command + '\\n');\n                    ws.send(JSON.stringify({\n                        type: 'command',\n                        data: command\n                    }));\n                    \n                    // Add to history\n                    if (command.trim() && commandHistory[commandHistory.length - 1] !== command) {\n                        commandHistory.push(command);\n                        if (commandHistory.length > 100) {\n                            commandHistory.shift();\n                        }\n                    }\n                    historyIndex = commandHistory.length;\n                }\n            }\n            \n            // Input handling\n            input.addEventListener('keydown', (e) => {\n                if (e.key === 'Enter') {\n                    const command = input.value.trim();\n                    if (command) {\n                        sendCommand(command);\n                        input.value = '';\n                    }\n                } else if (e.key === 'ArrowUp') {\n                    e.preventDefault();\n                    if (historyIndex > 0) {\n                        historyIndex--;\n                        input.value = commandHistory[historyIndex] || '';\n                    }\n                } else if (e.key === 'ArrowDown') {\n                    e.preventDefault();\n                    if (historyIndex < commandHistory.length - 1) {\n                        historyIndex++;\n                        input.value = commandHistory[historyIndex] || '';\n                    } else {\n                        historyIndex = commandHistory.length;\n                        input.value = '';\n                    }\n                } else if (e.key === 'Tab') {\n                    e.preventDefault();\n                    // Basic tab completion for common commands\n                    const value = input.value;\n                    const commands = ['help', 'status', 'agent', 'task', 'memory', 'config', 'start', 'stop'];\n                    const matches = commands.filter(cmd => cmd.startsWith(value));\n                    if (matches.length === 1) {\n                        input.value = matches[0] + ' ';\n                    }\n                }\n            });\n            \n            // Focus input on page load\n            window.addEventListener('load', () => {\n                input.focus();\n                connect();\n            });\n            \n            // Implement heartbeat to detect stale connections\n            setInterval(() => {\n                if (ws && ws.readyState === WebSocket.OPEN) {\n                    ws.send(JSON.stringify({ type: 'ping', timestamp: Date.now() }));\n                }\n            }, 30000); // Ping every 30 seconds\n            \n            // Handle page visibility changes\n            document.addEventListener('visibilitychange', () => {\n                if (!document.hidden && ws && ws.readyState !== WebSocket.OPEN) {\n                    console.log('Page became visible, checking connection...');\n                    reconnectAttempts = 0; // Reset attempts when page becomes visible\n                    connect();\n                }\n            });\n            \n            // Keep input focused\n            document.addEventListener('click', () => {\n                input.focus();\n            });\n        </script>\n    </body>\n    </html>\n  `;\n\n  app.get('/', (req, res) => {\n    res.send(consoleHTML);\n  });\n\n  // API endpoints\n  app.get('/api/status', (req, res) => {\n    res.json({\n      components: componentStatus,\n      metrics: {\n        agents: agents.size,\n        tasks: tasks.size,\n        memory: memory.size,\n        connectedClients: activeConnections.size,\n      },\n    });\n  });\n\n  app.get('/api/history', (req, res) => {\n    const limit = parseInt(req.query.limit as string) || 100;\n    res.json({\n      history: outputHistory.slice(-limit),\n      total: outputHistory.length,\n    });\n  });\n\n  app.post('/api/command', express.json(), (req, res) => {\n    const { command } = req.body;\n    if (!command) {\n      res.status(400).json({ error: 'Command is required' });\n      return;\n    }\n\n    // Execute command and return immediately\n    // Output will be sent via WebSocket\n    try {\n      broadcastToClients({\n        type: 'output',\n        data: `<span class=\"prompt\">API> </span>${command}\\\\n`,\n      });\n\n      executeCliCommand(command, null);\n\n      res.json({ success: true, message: 'Command executed' });\n    } catch (error) {\n      res.status(500).json({ error: error instanceof Error ? error.message : String(error) });\n    }\n  });\n\n  app.get('/api/agents', (req, res) => {\n    const agentList = Array.from(agents.entries()).map(([id, agent]) => ({\n      id,\n      ...agent,\n    }));\n    res.json(agentList);\n  });\n\n  app.get('/api/tasks', (req, res) => {\n    const taskList = Array.from(tasks.entries()).map(([id, task]) => ({\n      id,\n      ...task,\n    }));\n    res.json(taskList);\n  });\n\n  app.get('/api/memory', (req, res) => {\n    const memoryList = Array.from(memory.entries()).map(([key, value]) => ({\n      key,\n      value,\n      type: typeof value,\n      size: JSON.stringify(value).length,\n    }));\n    res.json(memoryList);\n  });\n\n  // Health check endpoint\n  app.get('/health', (req, res) => {\n    res.json({\n      status: 'healthy',\n      timestamp: new Date().toISOString(),\n      uptime: process.uptime(),\n      components: componentStatus,\n    });\n  });\n\n  // WebSocket for real-time CLI interaction\n  wss.on('connection', (ws, req) => {\n    const clientIp = req.headers['x-forwarded-for'] || req.socket.remoteAddress;\n    console.log(`\uD83D\uDD0C WebSocket client connected from ${clientIp}`);\n    activeConnections.add(ws);\n\n    // Send initial status and history\n    ws.send(\n      JSON.stringify({\n        type: 'status',\n        data: { ...componentStatus, cliActive: true },\n      }),\n    );\n\n    // Send recent output history\n    outputHistory.slice(-50).forEach((line) => {\n      ws.send(\n        JSON.stringify({\n          type: 'output',\n          data: line,\n        }),\n      );\n    });\n\n    // Handle incoming commands\n    ws.on('message', (message) => {\n      try {\n        const data = JSON.parse(message.toString());\n        console.log(`Received command from client: ${data.type}`);\n\n        if (data.type === 'command') {\n          handleCliCommand(data.data, ws);\n        } else if (data.type === 'ping') {\n          // Handle ping/pong for connection keepalive\n          ws.send(JSON.stringify({ type: 'pong', timestamp: Date.now() }));\n        }\n      } catch (error) {\n        console.error('Failed to handle WebSocket message:', error);\n        ws.send(\n          JSON.stringify({\n            type: 'error',\n            data: `Invalid message format: ${error instanceof Error ? error.message : String(error)}`,\n            timestamp: new Date().toISOString(),\n          }),\n        );\n      }\n    });\n\n    ws.on('close', () => {\n      console.log('\uD83D\uDD0C WebSocket client disconnected');\n      activeConnections.delete(ws);\n    });\n\n    ws.on('error', (error) => {\n      console.error('WebSocket client error:', error);\n      // Send detailed error information to client before closing\n      try {\n        ws.send(\n          JSON.stringify({\n            type: 'error',\n            data: `Server WebSocket error: ${(error instanceof Error ? error.message : String(error)) || 'Unknown error'}`,\n            timestamp: new Date().toISOString(),\n          }),\n        );\n      } catch (sendError) {\n        console.error('Failed to send error to client:', sendError);\n      }\n      activeConnections.delete(ws);\n    });\n  });\n\n  // Helper function to send response to specific client or broadcast\n  function sendResponse(ws: any, data: any) {\n    if (ws) {\n      ws.send(JSON.stringify(data));\n    } else {\n      broadcastToClients(data);\n    }\n  }\n\n  // CLI command execution handler\n  function handleCliCommand(command: string, ws: any) {\n    try {\n      // Add timestamp and format output\n      const timestamp = new Date().toLocaleTimeString();\n      const logEntry = `[${timestamp}] Executing: ${command}`;\n      outputHistory.push(logEntry);\n\n      // Broadcast to all connected clients\n      broadcastToClients({\n        type: 'output',\n        data: `<span class=\"dim\">[${timestamp}]</span> <span class=\"info\">Executing:</span> ${command}\\\\n`,\n      });\n\n      // Execute the command\n      executeCliCommand(command, ws);\n    } catch (error) {\n      const errorMsg = `Error executing command: ${error instanceof Error ? error.message : String(error)}`;\n      outputHistory.push(errorMsg);\n      sendResponse(ws, {\n        type: 'error',\n        data: errorMsg,\n      });\n    }\n  }\n\n  // Execute CLI commands and capture output\n  function executeCliCommand(command: string, ws: any) {\n    // Handle built-in commands first\n    if (command === 'help') {\n      const helpText = `<span class=\"success\">Available Commands:</span>\n\u2022 <span class=\"info\">help</span> - Show this help message\n\u2022 <span class=\"info\">status</span> - Show system status\n\u2022 <span class=\"info\">agent list</span> - List all agents\n\u2022 <span class=\"info\">agent spawn [type]</span> - Spawn a new agent\n\u2022 <span class=\"info\">task list</span> - List all tasks\n\u2022 <span class=\"info\">memory list</span> - List memory entries\n\u2022 <span class=\"info\">config show</span> - Show configuration\n\u2022 <span class=\"info\">clear</span> - Clear console\n\u2022 <span class=\"info\">version</span> - Show version information\n\n<span class=\"warning\">Note:</span> This is a web console interface for claude-flow CLI commands.\n`;\n      sendResponse(ws, {\n        type: 'output',\n        data: helpText,\n      });\n      sendResponse(ws, { type: 'command_complete' });\n      return;\n    }\n\n    if (command === 'clear') {\n      sendResponse(ws, {\n        type: 'output',\n        data: '\\\\x1b[2J\\\\x1b[H', // ANSI clear screen\n      });\n      sendResponse(ws, { type: 'command_complete' });\n      return;\n    }\n\n    if (command === 'status') {\n      const statusText = `<span class=\"success\">System Status:</span>\n\u2022 Event Bus: <span class=\"${componentStatus.eventBus ? 'success' : 'error'}\">${componentStatus.eventBus ? 'Active' : 'Inactive'}</span>\n\u2022 Orchestrator: <span class=\"${componentStatus.orchestrator ? 'success' : 'error'}\">${componentStatus.orchestrator ? 'Active' : 'Inactive'}</span>\n\u2022 Memory Manager: <span class=\"${componentStatus.memoryManager ? 'success' : 'error'}\">${componentStatus.memoryManager ? 'Active' : 'Inactive'}</span>\n\u2022 Terminal Pool: <span class=\"${componentStatus.terminalPool ? 'success' : 'error'}\">${componentStatus.terminalPool ? 'Active' : 'Inactive'}</span>\n\u2022 MCP Server: <span class=\"${componentStatus.mcpServer ? 'success' : 'error'}\">${componentStatus.mcpServer ? 'Active' : 'Inactive'}</span>\n\u2022 Coordination Manager: <span class=\"${componentStatus.coordinationManager ? 'success' : 'error'}\">${componentStatus.coordinationManager ? 'Active' : 'Inactive'}</span>\n\u2022 Web UI: <span class=\"${componentStatus.webUI ? 'success' : 'error'}\">${componentStatus.webUI ? 'Active' : 'Inactive'}</span>\n\n<span class=\"info\">Metrics:</span>\n\u2022 Active Agents: ${agents.size}\n\u2022 Pending Tasks: ${tasks.size}\n\u2022 Memory Entries: ${memory.size}\n`;\n      sendResponse(ws, {\n        type: 'output',\n        data: statusText,\n      });\n      sendResponse(ws, { type: 'command_complete' });\n      return;\n    }\n\n    // For other commands, spawn a subprocess\n    const args = command.split(' ');\n    const cmd = args[0];\n    const cmdArgs = args.slice(1);\n\n    // Determine the correct claude-flow executable path\n    const rootDir = path.resolve(__dirname, '../..');\n    const cliPath = path.join(rootDir, 'bin', 'claude-flow');\n\n    // Spawn the command\n    const child = spawn('node', [path.join(rootDir, 'src/cli/simple-cli.js'), ...cmdArgs], {\n      stdio: ['pipe', 'pipe', 'pipe'],\n      env: { ...process.env, CLAUDE_FLOW_WEB_MODE: 'true' },\n    });\n\n    // Handle stdout\n    child.stdout.on('data', (data) => {\n      const output = data.toString();\n      outputHistory.push(output);\n\n      // Convert ANSI colors to HTML spans\n      const htmlOutput = convertAnsiToHtml(output);\n\n      broadcastToClients({\n        type: 'output',\n        data: htmlOutput,\n      });\n    });\n\n    // Handle stderr\n    child.stderr.on('data', (data) => {\n      const error = data.toString();\n      outputHistory.push(error);\n\n      broadcastToClients({\n        type: 'error',\n        data: convertAnsiToHtml(error),\n      });\n    });\n\n    // Handle process exit\n    child.on('close', (code) => {\n      const exitMsg =\n        code === 0\n          ? `<span class=\"success\">Command completed successfully</span>`\n          : `<span class=\"error\">Command failed with exit code ${code}</span>`;\n\n      broadcastToClients({\n        type: 'output',\n        data: `\\\\n${exitMsg}\\\\n`,\n      });\n\n      sendResponse(ws, { type: 'command_complete' });\n    });\n\n    child.on('error', (error) => {\n      const errorMsg = `<span class=\"error\">Failed to execute command: ${error instanceof Error ? error.message : String(error)}</span>`;\n      outputHistory.push(errorMsg);\n\n      sendResponse(ws, {\n        type: 'error',\n        data: errorMsg,\n      });\n\n      sendResponse(ws, { type: 'command_complete' });\n    });\n  }\n\n  // Broadcast message to all connected clients\n  function broadcastToClients(message: any) {\n    const messageStr = JSON.stringify(message);\n    activeConnections.forEach((client) => {\n      if (client.readyState === 1) {\n        // WebSocket.OPEN\n        client.send(messageStr);\n      }\n    });\n  }\n\n  // Convert ANSI escape codes to HTML\n  function convertAnsiToHtml(text: string): string {\n    return text\n      .replace(/\\x1b\\[0m/g, '</span>')\n      .replace(/\\x1b\\[1m/g, '<span style=\"font-weight: bold;\">')\n      .replace(/\\x1b\\[31m/g, '<span class=\"error\">')\n      .replace(/\\x1b\\[32m/g, '<span class=\"success\">')\n      .replace(/\\x1b\\[33m/g, '<span class=\"warning\">')\n      .replace(/\\x1b\\[34m/g, '<span class=\"info\">')\n      .replace(/\\x1b\\[35m/g, '<span style=\"color: #d946ef;\">')\n      .replace(/\\x1b\\[36m/g, '<span style=\"color: #06b6d4;\">')\n      .replace(/\\x1b\\[37m/g, '<span class=\"dim\">')\n      .replace(/\\x1b\\[90m/g, '<span class=\"dim\">')\n      .replace(/\\x1b\\[[0-9;]*m/g, '') // Remove any remaining ANSI codes\n      .replace(/\\n/g, '\\\\n')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;')\n      .replace(/&lt;span/g, '<span')\n      .replace(/span&gt;/g, 'span>');\n  }\n\n  return new Promise((resolve, reject) => {\n    server.on('error', (err: any) => {\n      if (err.code === 'EADDRINUSE') {\n        console.error(`\\n\u274C Port ${port} is already in use`);\n        console.log(`\uD83D\uDCA1 Try a different port: claude-flow start --ui --port ${port + 1}`);\n        console.log(`\uD83D\uDCA1 Or stop the process using port ${port}: lsof -ti:${port} | xargs kill -9`);\n        componentStatus.webUI = false;\n        reject(err);\n      } else {\n        console.error('\u274C Web UI server error:', err.message, err.stack);\n        reject(err);\n      }\n    });\n\n    server.listen(port, host, () => {\n      console.log(`\uD83C\uDF10 Web UI available at http://${host}:${port}`);\n      componentStatus.webUI = true;\n      resolve(server);\n    });\n  });\n}\n\n// Start all components\nexport async function startOrchestrator(options: any) {\n  console.log('\\n\uD83D\uDE80 Starting orchestration components...\\n');\n\n  // Start Event Bus\n  console.log('\u26A1 Starting Event Bus...');\n  componentStatus.eventBus = true;\n  eventBus.emit('system:start');\n  console.log('\u2705 Event Bus started');\n\n  // Start Orchestrator Engine\n  console.log('\uD83E\uDDE0 Starting Orchestrator Engine...');\n  componentStatus.orchestrator = true;\n  console.log('\u2705 Orchestrator Engine started');\n\n  // Start Memory Manager\n  console.log('\uD83D\uDCBE Starting Memory Manager...');\n  componentStatus.memoryManager = true;\n  console.log('\u2705 Memory Manager started');\n\n  // Start Terminal Pool\n  console.log('\uD83D\uDDA5\uFE0F  Starting Terminal Pool...');\n  componentStatus.terminalPool = true;\n  console.log('\u2705 Terminal Pool started');\n\n  // Start MCP Server\n  const mcpPort = options.mcpPort || 3001;\n  startMCPServer(mcpPort);\n  console.log('\u2705 MCP Server started');\n\n  // Start Coordination Manager\n  console.log('\uD83D\uDD04 Starting Coordination Manager...');\n  componentStatus.coordinationManager = true;\n  console.log('\u2705 Coordination Manager started');\n\n  // Start Web UI if requested\n  if (options.ui && !options.noUi) {\n    const host = options.host || 'localhost';\n    const port = options.port || 3000;\n    try {\n      await startWebUI(host, port);\n    } catch (err: any) {\n      if (err.code === 'EADDRINUSE') {\n        console.log('\\n\u26A0\uFE0F  Web UI could not start due to port conflict');\n        console.log('   Orchestrator is running without Web UI');\n      } else {\n        console.error('\\n\u26A0\uFE0F  Web UI failed to start:', err.message);\n      }\n    }\n  }\n\n  console.log('\\n\u2705 All components started successfully!');\n  console.log('\\n\uD83D\uDCCA System Status:');\n  console.log('   \u2022 Event Bus: Active');\n  console.log('   \u2022 Orchestrator: Active');\n  console.log('   \u2022 Memory Manager: Active');\n  console.log('   \u2022 Terminal Pool: Active');\n  console.log('   \u2022 MCP Server: Active');\n  console.log('   \u2022 Coordination Manager: Active');\n  if (options.ui && !options.noUi) {\n    console.log(\n      `   \u2022 Web UI: Active at http://${options.host || 'localhost'}:${options.port || 3000}`,\n    );\n  }\n\n  console.log('\\n\uD83D\uDCA1 Use \"claude-flow status\" to check system status');\n  console.log('\uD83D\uDCA1 Use \"claude-flow stop\" to stop the orchestrator');\n\n  // Keep the process running\n  if (!options.daemon) {\n    console.log('\\n\uD83D\uDCCC Press Ctrl+C to stop the orchestrator...\\n');\n\n    // Handle graceful shutdown\n    process.on('SIGINT', () => {\n      console.log('\\n\\n\uD83D\uDED1 Shutting down orchestrator...');\n      process.exit(0);\n    });\n  }\n}\n\n// Export component status for other commands\nexport function getComponentStatus() {\n  return componentStatus;\n}\n\n// Export stores for other commands\nexport function getStores() {\n  return { agents, tasks, memory };\n}\n"],
  "mappings": "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",
  "names": ["path", "express", "cors"]
}
