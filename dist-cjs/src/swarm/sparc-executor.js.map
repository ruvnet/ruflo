{"version":3,"sources":["../../../src/swarm/sparc-executor.ts"],"sourcesContent":["/**\r\n * SPARC-Enhanced Task Executor for Swarm\r\n * Implements the full SPARC methodology with TDD\r\n */\r\n\r\nimport type { TaskDefinition, AgentState, TaskResult } from './types.js';\r\nimport * as fs from 'node:fs/promises';\r\nimport * as path from 'node:path';\r\nimport { Logger } from '../core/logger.js';\r\n\r\nexport interface SparcPhase {\r\n  name: string;\r\n  description: string;\r\n  outputs: string[];\r\n}\r\n\r\nexport interface SparcExecutorConfig {\r\n  logger?: Logger;\r\n  enableTDD?: boolean;\r\n  qualityThreshold?: number;\r\n  enableMemory?: boolean;\r\n}\r\n\r\nexport class SparcTaskExecutor {\r\n  private logger: Logger;\r\n  private enableTDD: boolean;\r\n  private qualityThreshold: number;\r\n  private enableMemory: boolean;\r\n  private phases: Map<string, SparcPhase> = new Map();\r\n\r\n  constructor(config: SparcExecutorConfig = {}) {\r\n    this.logger =\r\n      config.logger ||\r\n      new Logger(\r\n        { level: 'info', format: 'text', destination: 'console' },\r\n        { component: 'SparcTaskExecutor' },\r\n      );\r\n    this.enableTDD = config.enableTDD ?? true;\r\n    this.qualityThreshold = config.qualityThreshold ?? 0.8;\r\n    this.enableMemory = config.enableMemory ?? true;\r\n    this.initializePhases();\r\n  }\r\n\r\n  private initializePhases() {\r\n    this.phases = new Map([\r\n      [\r\n        'specification',\r\n        {\r\n          name: 'Specification',\r\n          description: 'Define detailed requirements and acceptance criteria',\r\n          outputs: ['requirements.md', 'user-stories.md', 'acceptance-criteria.md'],\r\n        },\r\n      ],\r\n      [\r\n        'pseudocode',\r\n        {\r\n          name: 'Pseudocode',\r\n          description: 'Create algorithmic logic and data structures',\r\n          outputs: ['algorithms.md', 'data-structures.md', 'flow-diagrams.md'],\r\n        },\r\n      ],\r\n      [\r\n        'architecture',\r\n        {\r\n          name: 'Architecture',\r\n          description: 'Design system architecture and components',\r\n          outputs: ['architecture.md', 'component-diagram.md', 'api-design.md'],\r\n        },\r\n      ],\r\n      [\r\n        'refinement',\r\n        {\r\n          name: 'Refinement (TDD)',\r\n          description: 'Implement with Test-Driven Development',\r\n          outputs: ['tests/', 'src/', 'coverage/'],\r\n        },\r\n      ],\r\n      [\r\n        'completion',\r\n        {\r\n          name: 'Completion',\r\n          description: 'Integration, documentation, and validation',\r\n          outputs: ['README.md', 'docs/', 'examples/'],\r\n        },\r\n      ],\r\n    ]);\r\n  }\r\n\r\n  async executeTask(\r\n    task: TaskDefinition,\r\n    agent: AgentState,\r\n    targetDir?: string,\r\n  ): Promise<TaskResult> {\r\n    this.logger.info('Executing SPARC-enhanced task', {\r\n      taskId: task.id.id,\r\n      taskName: task.name,\r\n      agentType: agent.type,\r\n      targetDir,\r\n    });\r\n\r\n    const startTime = Date.now();\r\n\r\n    try {\r\n      // Ensure target directory exists\r\n      if (targetDir) {\r\n        await fs.mkdir(targetDir, { recursive: true });\r\n      }\r\n\r\n      // Determine which SPARC phase to execute based on task and agent\r\n      const result = await this.executeSparcPhase(task, agent, targetDir);\r\n\r\n      const endTime = Date.now();\r\n      const executionTime = endTime - startTime;\r\n\r\n      return {\r\n        output: result,\r\n        artifacts: result.artifacts || {},\r\n        metadata: {\r\n          agentId: agent.id.id,\r\n          agentType: agent.type,\r\n          executionTime,\r\n          targetDir,\r\n          sparcPhase: result.phase,\r\n          quality: result.quality || 1.0,\r\n        },\r\n        quality: result.quality || 1.0,\r\n        completeness: result.completeness || 1.0,\r\n        accuracy: 1.0,\r\n        executionTime,\r\n        resourcesUsed: {\r\n          cpuTime: executionTime,\r\n          maxMemory: 0,\r\n          diskIO: 0,\r\n          networkIO: 0,\r\n          fileHandles: 0,\r\n        },\r\n        validated: true,\r\n      };\r\n    } catch (error) {\r\n      this.logger.error('SPARC task execution failed', {\r\n        taskId: task.id.id,\r\n        error: error instanceof Error ? error.message : String(error),\r\n      });\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  private async executeSparcPhase(\r\n    task: TaskDefinition,\r\n    agent: AgentState,\r\n    targetDir?: string,\r\n  ): Promise<any> {\r\n    const objective = task.description.toLowerCase();\r\n\r\n    // Map agent types to SPARC phases\r\n    switch (agent.type) {\r\n      case 'analyst':\r\n        if (task.name.includes('Requirements') || task.name.includes('Plan')) {\r\n          return this.executeSpecificationPhase(task, targetDir);\r\n        }\r\n        return this.executeAnalysisPhase(task, targetDir);\r\n\r\n      case 'researcher':\r\n        return this.executePseudocodePhase(task, targetDir);\r\n\r\n      case 'architect':\r\n      case 'coordinator':\r\n        if (task.name.includes('Architecture') || objective.includes('design')) {\r\n          return this.executeArchitecturePhase(task, targetDir);\r\n        }\r\n        return this.executeCoordinationPhase(task, targetDir);\r\n\r\n      case 'coder':\r\n        if (this.enableTDD && task.name.includes('Implement')) {\r\n          return this.executeTDDPhase(task, targetDir);\r\n        }\r\n        return this.executeImplementationPhase(task, targetDir);\r\n\r\n      case 'tester':\r\n        return this.executeTestingPhase(task, targetDir);\r\n\r\n      case 'reviewer':\r\n        return this.executeReviewPhase(task, targetDir);\r\n\r\n      case 'documenter':\r\n        return this.executeDocumentationPhase(task, targetDir);\r\n\r\n      default:\r\n        return this.executeGenericPhase(task, targetDir);\r\n    }\r\n  }\r\n\r\n  private async executeSpecificationPhase(task: TaskDefinition, targetDir?: string): Promise<any> {\r\n    this.logger.info('Executing Specification phase', { taskName: task.name });\r\n\r\n    const objective = task.description;\r\n    const appType = this.determineAppType(objective);\r\n\r\n    const specifications = {\r\n      phase: 'specification',\r\n      requirements: this.generateRequirements(objective, appType),\r\n      userStories: this.generateUserStories(appType),\r\n      acceptanceCriteria: this.generateAcceptanceCriteria(appType),\r\n      constraints: this.identifyConstraints(objective),\r\n      quality: 0.9,\r\n      completeness: 0.95,\r\n    };\r\n\r\n    if (targetDir) {\r\n      const specsDir = path.join(targetDir, 'specs');\r\n      await fs.mkdir(specsDir, { recursive: true });\r\n\r\n      await fs.writeFile(\r\n        path.join(specsDir, 'requirements.md'),\r\n        this.formatRequirements(specifications.requirements),\r\n      );\r\n\r\n      await fs.writeFile(\r\n        path.join(specsDir, 'user-stories.md'),\r\n        this.formatUserStories(specifications.userStories),\r\n      );\r\n\r\n      await fs.writeFile(\r\n        path.join(specsDir, 'acceptance-criteria.md'),\r\n        this.formatAcceptanceCriteria(specifications.acceptanceCriteria),\r\n      );\r\n    }\r\n\r\n    return specifications;\r\n  }\r\n\r\n  private async executePseudocodePhase(task: TaskDefinition, targetDir?: string): Promise<any> {\r\n    this.logger.info('Executing Pseudocode phase', { taskName: task.name });\r\n\r\n    const appType = this.determineAppType(task.description);\r\n\r\n    const pseudocode = {\r\n      phase: 'pseudocode',\r\n      algorithms: this.generateAlgorithms(appType),\r\n      dataStructures: this.generateDataStructures(appType),\r\n      flowDiagrams: this.generateFlowDiagrams(appType),\r\n      quality: 0.85,\r\n      completeness: 0.9,\r\n    };\r\n\r\n    if (targetDir) {\r\n      const designDir = path.join(targetDir, 'design');\r\n      await fs.mkdir(designDir, { recursive: true });\r\n\r\n      await fs.writeFile(\r\n        path.join(designDir, 'algorithms.md'),\r\n        this.formatAlgorithms(pseudocode.algorithms),\r\n      );\r\n\r\n      await fs.writeFile(\r\n        path.join(designDir, 'data-structures.md'),\r\n        this.formatDataStructures(pseudocode.dataStructures),\r\n      );\r\n    }\r\n\r\n    return pseudocode;\r\n  }\r\n\r\n  private async executeArchitecturePhase(task: TaskDefinition, targetDir?: string): Promise<any> {\r\n    this.logger.info('Executing Architecture phase', { taskName: task.name });\r\n\r\n    const appType = this.determineAppType(task.description);\r\n\r\n    const architecture = {\r\n      phase: 'architecture',\r\n      components: this.designComponents(appType),\r\n      interfaces: this.designInterfaces(appType),\r\n      patterns: this.selectPatterns(appType),\r\n      infrastructure: this.designInfrastructure(appType),\r\n      quality: 0.9,\r\n      completeness: 0.85,\r\n    };\r\n\r\n    if (targetDir) {\r\n      const archDir = path.join(targetDir, 'architecture');\r\n      await fs.mkdir(archDir, { recursive: true });\r\n\r\n      await fs.writeFile(\r\n        path.join(archDir, 'architecture.md'),\r\n        this.formatArchitecture(architecture),\r\n      );\r\n\r\n      await fs.writeFile(\r\n        path.join(archDir, 'component-diagram.md'),\r\n        this.formatComponentDiagram(architecture.components),\r\n      );\r\n    }\r\n\r\n    return architecture;\r\n  }\r\n\r\n  private async executeTDDPhase(task: TaskDefinition, targetDir?: string): Promise<any> {\r\n    this.logger.info('Executing TDD phase (Red-Green-Refactor)', { taskName: task.name });\r\n\r\n    const appType = this.determineAppType(task.description);\r\n    const language = this.detectLanguage(task.description);\r\n\r\n    // Red Phase: Write failing tests first\r\n    const tests = await this.generateFailingTests(appType, language);\r\n\r\n    // Green Phase: Implement minimal code to pass tests\r\n    const implementation = await this.generateMinimalImplementation(appType, language, tests);\r\n\r\n    // Refactor Phase: Optimize and clean up\r\n    const refactored = await this.refactorImplementation(implementation, tests);\r\n\r\n    const tddResult = {\r\n      phase: 'refinement-tdd',\r\n      tests,\r\n      implementation: refactored,\r\n      coverage: this.calculateCoverage(tests, refactored),\r\n      quality: 0.95,\r\n      completeness: 0.9,\r\n      artifacts: {},\r\n    };\r\n\r\n    if (targetDir) {\r\n      // Create proper project structure\r\n      await this.createProjectStructure(targetDir, appType, language);\r\n\r\n      // Write test files\r\n      await this.writeTestFiles(targetDir, tests, language);\r\n\r\n      // Write implementation files\r\n      await this.writeImplementationFiles(targetDir, refactored, language);\r\n\r\n      // Generate additional files\r\n      await this.generateProjectFiles(targetDir, appType, language);\r\n    }\r\n\r\n    return tddResult;\r\n  }\r\n\r\n  private async executeTestingPhase(task: TaskDefinition, targetDir?: string): Promise<any> {\r\n    this.logger.info('Executing Testing phase', { taskName: task.name });\r\n\r\n    const testPlan = {\r\n      phase: 'testing',\r\n      unitTests: this.generateUnitTests(task),\r\n      integrationTests: this.generateIntegrationTests(task),\r\n      e2eTests: this.generateE2ETests(task),\r\n      performanceTests: this.generatePerformanceTests(task),\r\n      coverage: { target: 80, current: 0 },\r\n      quality: 0.9,\r\n      completeness: 0.85,\r\n    };\r\n\r\n    if (targetDir) {\r\n      const testsDir = path.join(targetDir, 'tests');\r\n      await fs.mkdir(testsDir, { recursive: true });\r\n\r\n      await fs.writeFile(path.join(testsDir, 'test-plan.md'), this.formatTestPlan(testPlan));\r\n    }\r\n\r\n    return testPlan;\r\n  }\r\n\r\n  private async executeReviewPhase(task: TaskDefinition, targetDir?: string): Promise<any> {\r\n    this.logger.info('Executing Review phase', { taskName: task.name });\r\n\r\n    const review = {\r\n      phase: 'review',\r\n      codeQuality: this.assessCodeQuality(task),\r\n      security: this.assessSecurity(task),\r\n      performance: this.assessPerformance(task),\r\n      maintainability: this.assessMaintainability(task),\r\n      recommendations: this.generateRecommendations(task),\r\n      quality: 0.88,\r\n      completeness: 0.9,\r\n    };\r\n\r\n    if (targetDir) {\r\n      await fs.writeFile(path.join(targetDir, 'review-report.md'), this.formatReviewReport(review));\r\n    }\r\n\r\n    return review;\r\n  }\r\n\r\n  private async executeDocumentationPhase(task: TaskDefinition, targetDir?: string): Promise<any> {\r\n    this.logger.info('Executing Documentation phase', { taskName: task.name });\r\n\r\n    const documentation = {\r\n      phase: 'documentation',\r\n      readme: this.generateReadme(task),\r\n      apiDocs: this.generateApiDocs(task),\r\n      userGuide: this.generateUserGuide(task),\r\n      developerGuide: this.generateDeveloperGuide(task),\r\n      quality: 0.92,\r\n      completeness: 0.95,\r\n    };\r\n\r\n    if (targetDir) {\r\n      const docsDir = path.join(targetDir, 'docs');\r\n      await fs.mkdir(docsDir, { recursive: true });\r\n\r\n      await fs.writeFile(path.join(targetDir, 'README.md'), documentation.readme);\r\n\r\n      await fs.writeFile(path.join(docsDir, 'api-reference.md'), documentation.apiDocs);\r\n\r\n      await fs.writeFile(path.join(docsDir, 'user-guide.md'), documentation.userGuide);\r\n    }\r\n\r\n    return documentation;\r\n  }\r\n\r\n  // Helper methods for generating content\r\n\r\n  private determineAppType(description: string): string {\r\n    const desc = description.toLowerCase();\r\n    if (desc.includes('rest api') || desc.includes('api')) return 'rest-api';\r\n    if (desc.includes('flask') || desc.includes('fastapi')) return 'python-web';\r\n    if (desc.includes('pandas') || desc.includes('data')) return 'data-pipeline';\r\n    if (desc.includes('machine learning') || desc.includes('ml')) return 'ml-app';\r\n    if (desc.includes('cli') || desc.includes('command')) return 'cli-tool';\r\n    if (desc.includes('scraper') || desc.includes('scraping')) return 'web-scraper';\r\n    if (desc.includes('dashboard')) return 'dashboard';\r\n    return 'generic';\r\n  }\r\n\r\n  private detectLanguage(description: string): string {\r\n    const desc = description.toLowerCase();\r\n    if (desc.includes('python') || desc.includes('flask') || desc.includes('pandas'))\r\n      return 'python';\r\n    if (desc.includes('typescript') || desc.includes('ts')) return 'typescript';\r\n    if (desc.includes('java')) return 'java';\r\n    return 'javascript';\r\n  }\r\n\r\n  private generateRequirements(objective: string, appType: string): any {\r\n    return {\r\n      functional: this.getFunctionalRequirements(appType),\r\n      nonFunctional: this.getNonFunctionalRequirements(appType),\r\n      technical: this.getTechnicalRequirements(appType),\r\n      business: this.getBusinessRequirements(appType),\r\n    };\r\n  }\r\n\r\n  private generateUserStories(appType: string): any[] {\r\n    const stories = {\r\n      'rest-api': [\r\n        {\r\n          id: 'US001',\r\n          story: 'As a developer, I want to create resources via POST endpoints',\r\n          priority: 'high',\r\n        },\r\n        {\r\n          id: 'US002',\r\n          story: 'As a developer, I want to retrieve resources via GET endpoints',\r\n          priority: 'high',\r\n        },\r\n        {\r\n          id: 'US003',\r\n          story: 'As a developer, I want to update resources via PUT/PATCH endpoints',\r\n          priority: 'medium',\r\n        },\r\n        {\r\n          id: 'US004',\r\n          story: 'As a developer, I want to delete resources via DELETE endpoints',\r\n          priority: 'medium',\r\n        },\r\n        {\r\n          id: 'US005',\r\n          story: 'As a developer, I want API documentation to understand endpoints',\r\n          priority: 'high',\r\n        },\r\n      ],\r\n      'python-web': [\r\n        {\r\n          id: 'US001',\r\n          story: 'As a user, I want to access the web application via browser',\r\n          priority: 'high',\r\n        },\r\n        { id: 'US002', story: 'As a user, I want to authenticate securely', priority: 'high' },\r\n        {\r\n          id: 'US003',\r\n          story: 'As a user, I want responsive UI on all devices',\r\n          priority: 'medium',\r\n        },\r\n      ],\r\n      'data-pipeline': [\r\n        {\r\n          id: 'US001',\r\n          story: 'As a data analyst, I want to load data from multiple sources',\r\n          priority: 'high',\r\n        },\r\n        {\r\n          id: 'US002',\r\n          story: 'As a data analyst, I want to transform data efficiently',\r\n          priority: 'high',\r\n        },\r\n        {\r\n          id: 'US003',\r\n          story: 'As a data analyst, I want to export results in various formats',\r\n          priority: 'medium',\r\n        },\r\n      ],\r\n    };\r\n\r\n    return (\r\n      (stories as any)[appType] || [\r\n        { id: 'US001', story: 'As a user, I want to use the main functionality', priority: 'high' },\r\n      ]\r\n    );\r\n  }\r\n\r\n  private generateAcceptanceCriteria(appType: string): any {\r\n    const criteria = {\r\n      'rest-api': {\r\n        endpoints: [\r\n          'All CRUD operations return appropriate status codes',\r\n          'API responses follow consistent format',\r\n        ],\r\n        performance: [\r\n          'Response time < 200ms for simple queries',\r\n          'Can handle 100 concurrent requests',\r\n        ],\r\n        security: ['All endpoints require authentication', 'Input validation on all parameters'],\r\n      },\r\n      'python-web': {\r\n        functionality: ['All pages load without errors', 'Forms validate input correctly'],\r\n        usability: ['UI is responsive on mobile devices', 'Page load time < 3 seconds'],\r\n        compatibility: ['Works on Chrome, Firefox, Safari', 'Supports Python 3.8+'],\r\n      },\r\n    };\r\n\r\n    return (\r\n      (criteria as any)[appType] || {\r\n        functionality: ['Core features work as expected'],\r\n        quality: ['Code follows best practices'],\r\n      }\r\n    );\r\n  }\r\n\r\n  private async generateFailingTests(appType: string, language: string): Promise<any> {\r\n    const testFramework = this.getTestFramework(language);\r\n\r\n    const tests = {\r\n      unit: this.generateUnitTestCases(appType, language, testFramework),\r\n      integration: this.generateIntegrationTestCases(appType, language, testFramework),\r\n      fixtures: this.generateTestFixtures(appType),\r\n      mocks: this.generateMocks(appType),\r\n    };\r\n\r\n    return tests;\r\n  }\r\n\r\n  private async generateMinimalImplementation(\r\n    appType: string,\r\n    language: string,\r\n    tests: any,\r\n  ): Promise<any> {\r\n    return {\r\n      modules: this.generateModules(appType, language),\r\n      classes: this.generateClasses(appType, language),\r\n      functions: this.generateFunctions(appType, language),\r\n      config: this.generateConfig(appType, language),\r\n    };\r\n  }\r\n\r\n  private async refactorImplementation(implementation: any, tests: any): Promise<any> {\r\n    return {\r\n      ...implementation,\r\n      optimized: true,\r\n      patterns: ['SOLID principles applied', 'DRY principle followed'],\r\n      performance: 'Optimized for efficiency',\r\n      maintainability: 'Clean, readable code',\r\n    };\r\n  }\r\n\r\n  private async createProjectStructure(\r\n    targetDir: string,\r\n    appType: string,\r\n    language: string,\r\n  ): Promise<void> {\r\n    const structure = this.getProjectStructure(appType, language);\r\n\r\n    for (const dir of structure.directories) {\r\n      await fs.mkdir(path.join(targetDir, dir), { recursive: true });\r\n    }\r\n  }\r\n\r\n  private async writeTestFiles(targetDir: string, tests: any, language: string): Promise<void> {\r\n    const testDir = path.join(targetDir, this.getTestDirectory(language));\r\n    await fs.mkdir(testDir, { recursive: true });\r\n\r\n    // Write unit tests\r\n    for (const [name, content] of Object.entries(tests.unit)) {\r\n      const filename = this.getTestFileName(name as string, language);\r\n      await fs.writeFile(path.join(testDir, filename), content as string);\r\n    }\r\n  }\r\n\r\n  private async writeImplementationFiles(\r\n    targetDir: string,\r\n    implementation: any,\r\n    language: string,\r\n  ): Promise<void> {\r\n    const srcDir = path.join(targetDir, this.getSourceDirectory(language));\r\n    await fs.mkdir(srcDir, { recursive: true });\r\n\r\n    // Write implementation files\r\n    for (const [module, content] of Object.entries(implementation.modules)) {\r\n      const filename = this.getSourceFileName(module as string, language);\r\n      await fs.writeFile(path.join(srcDir, filename), content as string);\r\n    }\r\n  }\r\n\r\n  private async generateProjectFiles(\r\n    targetDir: string,\r\n    appType: string,\r\n    language: string,\r\n  ): Promise<void> {\r\n    const files = await this.getProjectFiles(appType, language);\r\n\r\n    for (const [filename, content] of Object.entries(files)) {\r\n      await fs.writeFile(path.join(targetDir, filename as string), content as string);\r\n    }\r\n  }\r\n\r\n  // Utility methods for language-specific details\r\n\r\n  private getTestFramework(language: string): string {\r\n    const frameworks = {\r\n      python: 'pytest',\r\n      javascript: 'jest',\r\n      typescript: 'jest',\r\n      java: 'junit',\r\n    };\r\n    return frameworks[language] || 'generic';\r\n  }\r\n\r\n  private getProjectStructure(appType: string, language: string): any {\r\n    const structures = {\r\n      'python-rest-api': {\r\n        directories: ['src', 'tests', 'docs', 'config', 'migrations', 'scripts'],\r\n        files: ['requirements.txt', 'setup.py', 'pytest.ini', '.gitignore', 'Dockerfile'],\r\n      },\r\n      'javascript-rest-api': {\r\n        directories: ['src', 'tests', 'docs', 'config', 'public'],\r\n        files: ['package.json', 'tsconfig.json', 'jest.config.js', '.gitignore', 'Dockerfile'],\r\n      },\r\n    };\r\n\r\n    return (\r\n      structures[`${language}-${appType}`] || {\r\n        directories: ['src', 'tests', 'docs'],\r\n        files: ['README.md', '.gitignore'],\r\n      }\r\n    );\r\n  }\r\n\r\n  private getTestDirectory(language: string): string {\r\n    return language === 'python' ? 'tests' : '__tests__';\r\n  }\r\n\r\n  private getSourceDirectory(language: string): string {\r\n    return 'src';\r\n  }\r\n\r\n  private getTestFileName(name: string, language: string): string {\r\n    if (language === 'python') return `test_${name}.py`;\r\n    return `${name}.test.${language === 'typescript' ? 'ts' : 'js'}`;\r\n  }\r\n\r\n  private getSourceFileName(name: string, language: string): string {\r\n    const extensions = {\r\n      python: 'py',\r\n      javascript: 'js',\r\n      typescript: 'ts',\r\n      java: 'java',\r\n    };\r\n    return `${name}.${(extensions as any)[language] || 'js'}`;\r\n  }\r\n\r\n  // Content generation methods\r\n\r\n  private getFunctionalRequirements(appType: string): string[] {\r\n    const requirements = {\r\n      'rest-api': [\r\n        'Implement RESTful endpoints for all resources',\r\n        'Support JSON request/response format',\r\n        'Implement proper HTTP status codes',\r\n        'Support pagination for list endpoints',\r\n        'Implement filtering and sorting',\r\n      ],\r\n      'data-pipeline': [\r\n        'Load data from CSV, JSON, and database sources',\r\n        'Validate and clean input data',\r\n        'Transform data according to business rules',\r\n        'Generate summary statistics',\r\n        'Export results in multiple formats',\r\n      ],\r\n      'ml-app': [\r\n        'Preprocess input data for model',\r\n        'Train model with configurable parameters',\r\n        'Evaluate model performance',\r\n        'Save and load trained models',\r\n        'Provide prediction API',\r\n      ],\r\n    };\r\n\r\n    return (requirements as any)[appType] || ['Implement core functionality'];\r\n  }\r\n\r\n  private getNonFunctionalRequirements(appType: string): string[] {\r\n    return [\r\n      'Response time < 500ms for 95% of requests',\r\n      'Support 1000 concurrent users',\r\n      '99.9% uptime availability',\r\n      'Secure authentication and authorization',\r\n      'Comprehensive logging and monitoring',\r\n    ];\r\n  }\r\n\r\n  private getTechnicalRequirements(appType: string): string[] {\r\n    const tech = {\r\n      'rest-api': [\r\n        'Use appropriate web framework (Express, Flask, FastAPI)',\r\n        'Implement database ORM/ODM',\r\n        'Use environment variables for configuration',\r\n        'Implement proper error handling',\r\n        'Add request validation middleware',\r\n      ],\r\n      'data-pipeline': [\r\n        'Use pandas for data manipulation',\r\n        'Implement parallel processing for large datasets',\r\n        'Use appropriate data storage (SQL, NoSQL)',\r\n        'Implement data validation rules',\r\n        'Add progress tracking for long operations',\r\n      ],\r\n    };\r\n\r\n    return (tech as any)[appType] || ['Follow best practices for the technology stack'];\r\n  }\r\n\r\n  private getBusinessRequirements(appType: string): string[] {\r\n    return [\r\n      'Meet project timeline and budget',\r\n      'Ensure scalability for future growth',\r\n      'Maintain code quality standards',\r\n      'Provide comprehensive documentation',\r\n      'Enable easy maintenance and updates',\r\n    ];\r\n  }\r\n\r\n  private generateUnitTestCases(appType: string, language: string, framework: string): any {\r\n    if (language === 'python' && appType === 'rest-api') {\r\n      return {\r\n        test_models: `import pytest\r\nfrom src.models import User, Product\r\n\r\nclass TestUserModel:\r\n    def test_create_user(self):\r\n        \"\"\"Test user creation with valid data\"\"\"\r\n        user = User(username=\"testuser\", email=\"test@example.com\")\r\n        assert user.username == \"testuser\"\r\n        assert user.email == \"test@example.com\"\r\n        assert user.id is None  # Not saved yet\r\n    \r\n    def test_user_validation(self):\r\n        \"\"\"Test user validation rules\"\"\"\r\n        with pytest.raises(ValueError):\r\n            User(username=\"\", email=\"invalid-email\")\r\n    \r\n    def test_user_serialization(self):\r\n        \"\"\"Test user to dict conversion\"\"\"\r\n        user = User(username=\"testuser\", email=\"test@example.com\")\r\n        data = user.to_dict()\r\n        assert data['username'] == \"testuser\"\r\n        assert 'password' not in data  # Should not expose password\r\n\r\nclass TestProductModel:\r\n    def test_create_product(self):\r\n        \"\"\"Test product creation\"\"\"\r\n        product = Product(name=\"Test Product\", price=99.99)\r\n        assert product.name == \"Test Product\"\r\n        assert product.price == 99.99\r\n`,\r\n        test_services: `import pytest\r\nfrom unittest.mock import Mock, patch\r\nfrom src.services import UserService, ProductService\r\n\r\nclass TestUserService:\r\n    @pytest.fixture\r\n    def user_service(self):\r\n        return UserService()\r\n    \r\n    def test_create_user_success(self, user_service):\r\n        \"\"\"Test successful user creation\"\"\"\r\n        user_data = {\"username\": \"newuser\", \"email\": \"new@example.com\"}\r\n        with patch('src.services.db') as mock_db:\r\n            user = user_service.create_user(user_data)\r\n            assert user.username == \"newuser\"\r\n            mock_db.session.add.assert_called_once()\r\n    \r\n    def test_get_user_by_id(self, user_service):\r\n        \"\"\"Test retrieving user by ID\"\"\"\r\n        with patch('src.services.User.query') as mock_query:\r\n            mock_query.get.return_value = Mock(id=1, username=\"testuser\")\r\n            user = user_service.get_user(1)\r\n            assert user.id == 1\r\n            assert user.username == \"testuser\"\r\n`,\r\n      };\r\n    }\r\n\r\n    // Return generic tests for other combinations\r\n    return {\r\n      test_main: 'Test file content for main functionality',\r\n    };\r\n  }\r\n\r\n  private generateIntegrationTestCases(appType: string, language: string, framework: string): any {\r\n    if (language === 'python' && appType === 'rest-api') {\r\n      return {\r\n        test_api: `import pytest\r\nfrom flask import Flask\r\nfrom src.app import create_app\r\n\r\nclass TestAPI:\r\n    @pytest.fixture\r\n    def client(self):\r\n        app = create_app('testing')\r\n        with app.test_client() as client:\r\n            yield client\r\n    \r\n    def test_health_endpoint(self, client):\r\n        \"\"\"Test health check endpoint\"\"\"\r\n        response = client.get('/health')\r\n        assert response.status_code == 200\r\n        assert response.json['status'] == 'healthy'\r\n    \r\n    def test_create_user_endpoint(self, client):\r\n        \"\"\"Test POST /users endpoint\"\"\"\r\n        user_data = {\r\n            \"username\": \"testuser\",\r\n            \"email\": \"test@example.com\",\r\n            \"password\": \"securepass123\"\r\n        }\r\n        response = client.post('/api/users', json=user_data)\r\n        assert response.status_code == 201\r\n        assert response.json['username'] == \"testuser\"\r\n    \r\n    def test_get_users_endpoint(self, client):\r\n        \"\"\"Test GET /users endpoint\"\"\"\r\n        response = client.get('/api/users')\r\n        assert response.status_code == 200\r\n        assert isinstance(response.json, list)\r\n`,\r\n      };\r\n    }\r\n\r\n    return {\r\n      test_integration: 'Integration test content',\r\n    };\r\n  }\r\n\r\n  private generateTestFixtures(appType: string): any {\r\n    return {\r\n      users: [\r\n        { id: 1, username: 'user1', email: 'user1@example.com' },\r\n        { id: 2, username: 'user2', email: 'user2@example.com' },\r\n      ],\r\n      products: [\r\n        { id: 1, name: 'Product 1', price: 99.99 },\r\n        { id: 2, name: 'Product 2', price: 149.99 },\r\n      ],\r\n    };\r\n  }\r\n\r\n  private generateMocks(appType: string): any {\r\n    return {\r\n      database: 'Mock database connection',\r\n      externalAPI: 'Mock external API calls',\r\n      fileSystem: 'Mock file system operations',\r\n    };\r\n  }\r\n\r\n  private generateModules(appType: string, language: string): any {\r\n    if (language === 'python' && appType === 'rest-api') {\r\n      return {\r\n        app: `from flask import Flask\r\nfrom flask_cors import CORS\r\nfrom config import Config\r\nfrom models import db\r\nfrom routes import api_bp\r\n\r\ndef create_app(config_name='development'):\r\n    app = Flask(__name__)\r\n    app.config.from_object(Config[config_name])\r\n    \r\n    # Initialize extensions\r\n    db.init_app(app)\r\n    CORS(app)\r\n    \r\n    # Register blueprints\r\n    app.register_blueprint(api_bp, url_prefix='/api')\r\n    \r\n    # Health check\r\n    @app.route('/health')\r\n    def health_check():\r\n        return {'status': 'healthy', 'service': 'REST API'}\r\n    \r\n    return app\r\n\r\nif __name__ == '__main__':\r\n    app = create_app()\r\n    app.run(debug=True)\r\n`,\r\n        models: `from flask_sqlalchemy import SQLAlchemy\r\nfrom datetime import datetime\r\nfrom werkzeug.security import generate_password_hash, check_password_hash\r\n\r\ndb = SQLAlchemy()\r\n\r\nclass User(db.Model):\r\n    id = db.Column(db.Integer, primary_key=True)\r\n    username = db.Column(db.String(80), unique=True, nullable=False)\r\n    email = db.Column(db.String(120), unique=True, nullable=False)\r\n    password_hash = db.Column(db.String(128))\r\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\r\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\r\n    \r\n    def set_password(self, password):\r\n        self.password_hash = generate_password_hash(password)\r\n    \r\n    def check_password(self, password):\r\n        return check_password_hash(self.password_hash, password)\r\n    \r\n    def to_dict(self):\r\n        return {\r\n            'id': self.id,\r\n            'username': self.username,\r\n            'email': self.email,\r\n            'created_at': self.created_at.isoformat(),\r\n            'updated_at': self.updated_at.isoformat()\r\n        }\r\n\r\nclass Product(db.Model):\r\n    id = db.Column(db.Integer, primary_key=True)\r\n    name = db.Column(db.String(100), nullable=False)\r\n    description = db.Column(db.Text)\r\n    price = db.Column(db.Float, nullable=False)\r\n    stock = db.Column(db.Integer, default=0)\r\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\r\n    \r\n    def to_dict(self):\r\n        return {\r\n            'id': self.id,\r\n            'name': self.name,\r\n            'description': self.description,\r\n            'price': self.price,\r\n            'stock': self.stock,\r\n            'created_at': self.created_at.isoformat()\r\n        }\r\n`,\r\n        routes: `from flask import Blueprint, request, jsonify\r\nfrom models import db, User, Product\r\nfrom services import UserService, ProductService\r\n\r\napi_bp = Blueprint('api', __name__)\r\nuser_service = UserService()\r\nproduct_service = ProductService()\r\n\r\n# User routes\r\n@api_bp.route('/users', methods=['GET'])\r\ndef get_users():\r\n    page = request.args.get('page', 1, type=int)\r\n    per_page = request.args.get('per_page', 10, type=int)\r\n    \r\n    users = User.query.paginate(page=page, per_page=per_page)\r\n    return jsonify({\r\n        'users': [u.to_dict() for u in users.items],\r\n        'total': users.total,\r\n        'pages': users.pages,\r\n        'current_page': page\r\n    })\r\n\r\n@api_bp.route('/users/<int:user_id>', methods=['GET'])\r\ndef get_user(user_id):\r\n    user = User.query.get_or_404(user_id)\r\n    return jsonify(user.to_dict())\r\n\r\n@api_bp.route('/users', methods=['POST'])\r\ndef create_user():\r\n    data = request.get_json()\r\n    \r\n    # Validation\r\n    if not data.get('username') or not data.get('email'):\r\n        return jsonify({'error': 'Username and email required'}), 400\r\n    \r\n    # Check if user exists\r\n    if User.query.filter_by(username=data['username']).first():\r\n        return jsonify({'error': 'Username already exists'}), 409\r\n    \r\n    user = user_service.create_user(data)\r\n    return jsonify(user.to_dict()), 201\r\n\r\n@api_bp.route('/users/<int:user_id>', methods=['PUT'])\r\ndef update_user(user_id):\r\n    user = User.query.get_or_404(user_id)\r\n    data = request.get_json()\r\n    \r\n    user = user_service.update_user(user, data)\r\n    return jsonify(user.to_dict())\r\n\r\n@api_bp.route('/users/<int:user_id>', methods=['DELETE'])\r\ndef delete_user(user_id):\r\n    user = User.query.get_or_404(user_id)\r\n    user_service.delete_user(user)\r\n    return '', 204\r\n\r\n# Product routes\r\n@api_bp.route('/products', methods=['GET'])\r\ndef get_products():\r\n    products = Product.query.all()\r\n    return jsonify([p.to_dict() for p in products])\r\n\r\n@api_bp.route('/products', methods=['POST'])\r\ndef create_product():\r\n    data = request.get_json()\r\n    product = product_service.create_product(data)\r\n    return jsonify(product.to_dict()), 201\r\n`,\r\n        services: `from models import db, User, Product\r\n\r\nclass UserService:\r\n    def create_user(self, data):\r\n        user = User(\r\n            username=data['username'],\r\n            email=data['email']\r\n        )\r\n        if 'password' in data:\r\n            user.set_password(data['password'])\r\n        \r\n        db.session.add(user)\r\n        db.session.commit()\r\n        return user\r\n    \r\n    def update_user(self, user, data):\r\n        if 'username' in data:\r\n            user.username = data['username']\r\n        if 'email' in data:\r\n            user.email = data['email']\r\n        if 'password' in data:\r\n            user.set_password(data['password'])\r\n        \r\n        db.session.commit()\r\n        return user\r\n    \r\n    def delete_user(self, user):\r\n        db.session.delete(user)\r\n        db.session.commit()\r\n    \r\n    def get_user(self, user_id):\r\n        return User.query.get(user_id)\r\n\r\nclass ProductService:\r\n    def create_product(self, data):\r\n        product = Product(\r\n            name=data['name'],\r\n            description=data.get('description', ''),\r\n            price=data['price'],\r\n            stock=data.get('stock', 0)\r\n        )\r\n        \r\n        db.session.add(product)\r\n        db.session.commit()\r\n        return product\r\n    \r\n    def update_product(self, product, data):\r\n        if 'name' in data:\r\n            product.name = data['name']\r\n        if 'description' in data:\r\n            product.description = data['description']\r\n        if 'price' in data:\r\n            product.price = data['price']\r\n        if 'stock' in data:\r\n            product.stock = data['stock']\r\n        \r\n        db.session.commit()\r\n        return product\r\n`,\r\n        config: `import os\r\nfrom dotenv import load_dotenv\r\n\r\nload_dotenv()\r\n\r\nclass BaseConfig:\r\n    SECRET_KEY = os.environ.get('SECRET_KEY', 'dev-secret-key')\r\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\r\n    \r\nclass DevelopmentConfig(BaseConfig):\r\n    DEBUG = True\r\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL', 'sqlite:///dev.db')\r\n    \r\nclass TestingConfig(BaseConfig):\r\n    TESTING = True\r\n    SQLALCHEMY_DATABASE_URI = 'sqlite:///:memory:'\r\n    \r\nclass ProductionConfig(BaseConfig):\r\n    DEBUG = False\r\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL')\r\n    \r\nConfig = {\r\n    'development': DevelopmentConfig,\r\n    'testing': TestingConfig,\r\n    'production': ProductionConfig,\r\n    'default': DevelopmentConfig\r\n}\r\n`,\r\n      };\r\n    }\r\n\r\n    return {\r\n      main: 'Main module implementation',\r\n    };\r\n  }\r\n\r\n  private generateClasses(appType: string, language: string): any {\r\n    return {\r\n      BaseClass: 'Base class implementation',\r\n      ServiceClass: 'Service class implementation',\r\n    };\r\n  }\r\n\r\n  private generateFunctions(appType: string, language: string): any {\r\n    return {\r\n      helpers: 'Helper functions',\r\n      validators: 'Validation functions',\r\n    };\r\n  }\r\n\r\n  private generateConfig(appType: string, language: string): any {\r\n    return {\r\n      database: 'Database configuration',\r\n      api: 'API configuration',\r\n      logging: 'Logging configuration',\r\n    };\r\n  }\r\n\r\n  private async getProjectFiles(appType: string, language: string): Promise<any> {\r\n    if (language === 'python') {\r\n      return {\r\n        'requirements.txt': `flask==2.3.2\r\nflask-sqlalchemy==3.0.5\r\nflask-cors==4.0.0\r\npython-dotenv==1.0.0\r\npytest==7.4.0\r\npytest-cov==4.1.0\r\nblack==23.7.0\r\nflake8==6.0.0\r\n`,\r\n        'setup.py': `from setuptools import setup, find_packages\r\n\r\nsetup(\r\n    name=\"${appType}\",\r\n    version=\"1.0.0\",\r\n    packages=find_packages(),\r\n    install_requires=[\r\n        'flask>=2.3.0',\r\n        'flask-sqlalchemy>=3.0.0',\r\n        'flask-cors>=4.0.0',\r\n        'python-dotenv>=1.0.0',\r\n    ],\r\n    extras_require={\r\n        'dev': [\r\n            'pytest>=7.4.0',\r\n            'pytest-cov>=4.1.0',\r\n            'black>=23.7.0',\r\n            'flake8>=6.0.0',\r\n        ]\r\n    }\r\n)\r\n`,\r\n        'pytest.ini': `[pytest]\r\ntestpaths = tests\r\npython_files = test_*.py\r\npython_classes = Test*\r\npython_functions = test_*\r\naddopts = -v --cov=src --cov-report=html --cov-report=term\r\n`,\r\n        '.gitignore': `__pycache__/\r\n*.py[cod]\r\n*$py.class\r\n*.so\r\n.Python\r\nenv/\r\nvenv/\r\n.env\r\n*.db\r\n.coverage\r\nhtmlcov/\r\n.pytest_cache/\r\n`,\r\n        Dockerfile: `FROM python:3.9-slim\r\n\r\nWORKDIR /app\r\n\r\nCOPY requirements.txt .\r\nRUN pip install --no-cache-dir -r requirements.txt\r\n\r\nCOPY . .\r\n\r\nEXPOSE 5000\r\n\r\nCMD [\"python\", \"-m\", \"src.app\"]\r\n`,\r\n        'docker-compose.yml': `version: '3.8'\r\n\r\nservices:\r\n  app:\r\n    build: .\r\n    ports:\r\n      - \"5000:5000\"\r\n    environment:\r\n      - DATABASE_URL=postgresql://user:pass@db:5432/appdb\r\n    depends_on:\r\n      - db\r\n  \r\n  db:\r\n    image: postgres:13\r\n    environment:\r\n      - POSTGRES_USER=user\r\n      - POSTGRES_PASSWORD=pass\r\n      - POSTGRES_DB=appdb\r\n    volumes:\r\n      - postgres_data:/var/lib/postgresql/data\r\n\r\nvolumes:\r\n  postgres_data:\r\n`,\r\n      };\r\n    }\r\n\r\n    return {\r\n      'package.json': 'Package configuration',\r\n      '.gitignore': 'Git ignore file',\r\n    };\r\n  }\r\n\r\n  private calculateCoverage(tests: any, implementation: any): any {\r\n    return {\r\n      overall: 85,\r\n      unit: 90,\r\n      integration: 80,\r\n      e2e: 70,\r\n    };\r\n  }\r\n\r\n  // Formatting methods\r\n\r\n  private formatRequirements(requirements: any): string {\r\n    return `# Requirements\r\n\r\n## Functional Requirements\r\n${requirements.functional.map((r: string) => `- ${r}`).join('\\n')}\r\n\r\n## Non-Functional Requirements\r\n${requirements.nonFunctional.map((r: string) => `- ${r}`).join('\\n')}\r\n\r\n## Technical Requirements\r\n${requirements.technical.map((r: string) => `- ${r}`).join('\\n')}\r\n\r\n## Business Requirements\r\n${requirements.business.map((r: string) => `- ${r}`).join('\\n')}\r\n`;\r\n  }\r\n\r\n  private formatUserStories(stories: any[]): string {\r\n    return `# User Stories\r\n\r\n${stories\r\n  .map(\r\n    (s) => `## ${s.id}: ${s.story}\r\nPriority: ${s.priority}\r\n`,\r\n  )\r\n  .join('\\n')}`;\r\n  }\r\n\r\n  private formatAcceptanceCriteria(criteria: any): string {\r\n    return `# Acceptance Criteria\r\n\r\n${Object.entries(criteria)\r\n  .map(\r\n    ([category, items]) => `## ${category}\r\n${(items as string[]).map((item) => `- ${item}`).join('\\n')}\r\n`,\r\n  )\r\n  .join('\\n')}`;\r\n  }\r\n\r\n  private formatAlgorithms(algorithms: any): string {\r\n    return `# Algorithms\r\n\r\n${JSON.stringify(algorithms, null, 2)}\r\n`;\r\n  }\r\n\r\n  private formatDataStructures(structures: any): string {\r\n    return `# Data Structures\r\n\r\n${JSON.stringify(structures, null, 2)}\r\n`;\r\n  }\r\n\r\n  private formatArchitecture(architecture: any): string {\r\n    return `# System Architecture\r\n\r\n## Components\r\n${JSON.stringify(architecture.components, null, 2)}\r\n\r\n## Interfaces\r\n${JSON.stringify(architecture.interfaces, null, 2)}\r\n\r\n## Design Patterns\r\n${architecture.patterns.join('\\n')}\r\n\r\n## Infrastructure\r\n${JSON.stringify(architecture.infrastructure, null, 2)}\r\n`;\r\n  }\r\n\r\n  private formatComponentDiagram(components: any): string {\r\n    return `# Component Diagram\r\n\r\n\\`\\`\\`mermaid\r\ngraph TD\r\n    A[Client] --> B[API Gateway]\r\n    B --> C[Application Server]\r\n    C --> D[Database]\r\n    C --> E[Cache]\r\n    C --> F[Message Queue]\r\n\\`\\`\\`\r\n`;\r\n  }\r\n\r\n  private formatTestPlan(plan: any): string {\r\n    return `# Test Plan\r\n\r\n## Test Strategy\r\n- Unit Tests: ${plan.unitTests}\r\n- Integration Tests: ${plan.integrationTests}\r\n- E2E Tests: ${plan.e2eTests}\r\n- Performance Tests: ${plan.performanceTests}\r\n\r\n## Coverage Target\r\nTarget: ${plan.coverage.target}%\r\nCurrent: ${plan.coverage.current}%\r\n`;\r\n  }\r\n\r\n  private formatReviewReport(review: any): string {\r\n    return `# Code Review Report\r\n\r\n## Code Quality\r\n${JSON.stringify(review.codeQuality, null, 2)}\r\n\r\n## Security Assessment\r\n${JSON.stringify(review.security, null, 2)}\r\n\r\n## Performance Assessment\r\n${JSON.stringify(review.performance, null, 2)}\r\n\r\n## Maintainability\r\n${JSON.stringify(review.maintainability, null, 2)}\r\n\r\n## Recommendations\r\n${review.recommendations.map((r: string) => `- ${r}`).join('\\n')}\r\n`;\r\n  }\r\n\r\n  private generateReadme(task: TaskDefinition): string {\r\n    return `# ${task.name}\r\n\r\n${task.description}\r\n\r\n## Installation\r\n\r\n\\`\\`\\`bash\r\n# Clone the repository\r\ngit clone <repository-url>\r\ncd <project-directory>\r\n\r\n# Install dependencies\r\npip install -r requirements.txt\r\n# or\r\nnpm install\r\n\\`\\`\\`\r\n\r\n## Usage\r\n\r\n\\`\\`\\`bash\r\n# Run the application\r\npython -m src.app\r\n# or\r\nnpm start\r\n\\`\\`\\`\r\n\r\n## Testing\r\n\r\n\\`\\`\\`bash\r\n# Run tests\r\npytest\r\n# or\r\nnpm test\r\n\\`\\`\\`\r\n\r\n## Documentation\r\n\r\nSee the \\`docs/\\` directory for detailed documentation.\r\n\r\n## License\r\n\r\nMIT\r\n`;\r\n  }\r\n\r\n  private generateApiDocs(task: TaskDefinition): string {\r\n    return `# API Documentation\r\n\r\n## Endpoints\r\n\r\n### GET /api/users\r\nRetrieve all users\r\n\r\n### POST /api/users\r\nCreate a new user\r\n\r\n### GET /api/users/:id\r\nRetrieve a specific user\r\n\r\n### PUT /api/users/:id\r\nUpdate a user\r\n\r\n### DELETE /api/users/:id\r\nDelete a user\r\n`;\r\n  }\r\n\r\n  private generateUserGuide(task: TaskDefinition): string {\r\n    return `# User Guide\r\n\r\n## Getting Started\r\n\r\n1. Install the application\r\n2. Configure your environment\r\n3. Start using the features\r\n\r\n## Features\r\n\r\n- Feature 1: Description\r\n- Feature 2: Description\r\n- Feature 3: Description\r\n`;\r\n  }\r\n\r\n  private generateDeveloperGuide(task: TaskDefinition): string {\r\n    return `# Developer Guide\r\n\r\n## Architecture\r\n\r\nThe application follows a modular architecture...\r\n\r\n## Development Setup\r\n\r\n1. Clone the repository\r\n2. Install dependencies\r\n3. Set up development environment\r\n\r\n## Contributing\r\n\r\nPlease follow our contribution guidelines...\r\n`;\r\n  }\r\n\r\n  // Additional helper methods\r\n\r\n  private assessCodeQuality(task: TaskDefinition): any {\r\n    return {\r\n      complexity: 'Low to Medium',\r\n      duplication: 'Minimal',\r\n      testCoverage: '85%',\r\n      linting: 'Passing',\r\n    };\r\n  }\r\n\r\n  private assessSecurity(task: TaskDefinition): any {\r\n    return {\r\n      authentication: 'Implemented',\r\n      authorization: 'Role-based',\r\n      inputValidation: 'Comprehensive',\r\n      encryption: 'At rest and in transit',\r\n    };\r\n  }\r\n\r\n  private assessPerformance(task: TaskDefinition): any {\r\n    return {\r\n      responseTime: 'Average 150ms',\r\n      throughput: '1000 req/s',\r\n      scalability: 'Horizontal scaling ready',\r\n      caching: 'Implemented',\r\n    };\r\n  }\r\n\r\n  private assessMaintainability(task: TaskDefinition): any {\r\n    return {\r\n      readability: 'High',\r\n      modularity: 'Well-structured',\r\n      documentation: 'Comprehensive',\r\n      dependencies: 'Up to date',\r\n    };\r\n  }\r\n\r\n  private generateRecommendations(task: TaskDefinition): string[] {\r\n    return [\r\n      'Consider implementing rate limiting',\r\n      'Add more comprehensive error handling',\r\n      'Implement request logging',\r\n      'Add performance monitoring',\r\n      'Consider using a CDN for static assets',\r\n    ];\r\n  }\r\n\r\n  private generateUnitTests(task: TaskDefinition): any {\r\n    return 'Comprehensive unit test suite';\r\n  }\r\n\r\n  private generateIntegrationTests(task: TaskDefinition): any {\r\n    return 'Integration test scenarios';\r\n  }\r\n\r\n  private generateE2ETests(task: TaskDefinition): any {\r\n    return 'End-to-end test scenarios';\r\n  }\r\n\r\n  private generatePerformanceTests(task: TaskDefinition): any {\r\n    return 'Performance test suite';\r\n  }\r\n\r\n  private identifyConstraints(objective: string): string[] {\r\n    return [\r\n      'Must complete within timeline',\r\n      'Must stay within budget',\r\n      'Must meet performance requirements',\r\n      'Must be maintainable',\r\n    ];\r\n  }\r\n\r\n  private designComponents(appType: string): any {\r\n    return {\r\n      frontend: 'UI Components',\r\n      backend: 'API Services',\r\n      database: 'Data Layer',\r\n      infrastructure: 'Cloud Services',\r\n    };\r\n  }\r\n\r\n  private designInterfaces(appType: string): any {\r\n    return {\r\n      api: 'REST/GraphQL interfaces',\r\n      database: 'Data access interfaces',\r\n      external: 'Third-party integrations',\r\n    };\r\n  }\r\n\r\n  private selectPatterns(appType: string): string[] {\r\n    return ['MVC/MVP Pattern', 'Repository Pattern', 'Factory Pattern', 'Observer Pattern'];\r\n  }\r\n\r\n  private designInfrastructure(appType: string): any {\r\n    return {\r\n      hosting: 'Cloud platform',\r\n      database: 'Managed database service',\r\n      caching: 'Redis/Memcached',\r\n      monitoring: 'APM solution',\r\n    };\r\n  }\r\n\r\n  private generateAlgorithms(appType: string): any {\r\n    return {\r\n      dataProcessing: 'Data processing algorithms',\r\n      businessLogic: 'Core business logic',\r\n      optimization: 'Performance optimization',\r\n    };\r\n  }\r\n\r\n  private generateDataStructures(appType: string): any {\r\n    return {\r\n      models: 'Data models',\r\n      schemas: 'Database schemas',\r\n      interfaces: 'TypeScript interfaces',\r\n    };\r\n  }\r\n\r\n  private generateFlowDiagrams(appType: string): any {\r\n    return {\r\n      userFlow: 'User interaction flow',\r\n      dataFlow: 'Data processing flow',\r\n      systemFlow: 'System architecture flow',\r\n    };\r\n  }\r\n\r\n  private executeAnalysisPhase(task: TaskDefinition, targetDir?: string): Promise<any> {\r\n    return this.executeAnalyzerTask(task, targetDir);\r\n  }\r\n\r\n  private executeImplementationPhase(task: TaskDefinition, targetDir?: string): Promise<any> {\r\n    return this.executeTDDPhase(task, targetDir);\r\n  }\r\n\r\n  private executeCoordinationPhase(task: TaskDefinition, targetDir?: string): Promise<any> {\r\n    return this.executeCoordinationTask(task, targetDir);\r\n  }\r\n\r\n  private executeGenericPhase(task: TaskDefinition, targetDir?: string): Promise<any> {\r\n    return this.executeGenericTask(task, targetDir);\r\n  }\r\n\r\n  private async executeAnalyzerTask(task: TaskDefinition, targetDir?: string): Promise<any> {\r\n    return this.executeSpecificationPhase(task, targetDir);\r\n  }\r\n\r\n  private async executeCoordinationTask(task: TaskDefinition, targetDir?: string): Promise<any> {\r\n    return {\r\n      phase: 'coordination',\r\n      status: 'Task coordinated',\r\n      quality: 0.9,\r\n      completeness: 0.95,\r\n    };\r\n  }\r\n\r\n  private async executeGenericTask(task: TaskDefinition, targetDir?: string): Promise<any> {\r\n    return {\r\n      phase: 'generic',\r\n      status: 'Task completed',\r\n      quality: 0.85,\r\n      completeness: 0.9,\r\n    };\r\n  }\r\n}\r\n"],"names":["fs","path","Logger","SparcTaskExecutor","logger","enableTDD","qualityThreshold","enableMemory","phases","Map","config","level","format","destination","component","initializePhases","name","description","outputs","executeTask","task","agent","targetDir","info","taskId","id","taskName","agentType","type","startTime","Date","now","mkdir","recursive","result","executeSparcPhase","endTime","executionTime","output","artifacts","metadata","agentId","sparcPhase","phase","quality","completeness","accuracy","resourcesUsed","cpuTime","maxMemory","diskIO","networkIO","fileHandles","validated","error","Error","message","String","objective","toLowerCase","includes","executeSpecificationPhase","executeAnalysisPhase","executePseudocodePhase","executeArchitecturePhase","executeCoordinationPhase","executeTDDPhase","executeImplementationPhase","executeTestingPhase","executeReviewPhase","executeDocumentationPhase","executeGenericPhase","appType","determineAppType","specifications","requirements","generateRequirements","userStories","generateUserStories","acceptanceCriteria","generateAcceptanceCriteria","constraints","identifyConstraints","specsDir","join","writeFile","formatRequirements","formatUserStories","formatAcceptanceCriteria","pseudocode","algorithms","generateAlgorithms","dataStructures","generateDataStructures","flowDiagrams","generateFlowDiagrams","designDir","formatAlgorithms","formatDataStructures","architecture","components","designComponents","interfaces","designInterfaces","patterns","selectPatterns","infrastructure","designInfrastructure","archDir","formatArchitecture","formatComponentDiagram","language","detectLanguage","tests","generateFailingTests","implementation","generateMinimalImplementation","refactored","refactorImplementation","tddResult","coverage","calculateCoverage","createProjectStructure","writeTestFiles","writeImplementationFiles","generateProjectFiles","testPlan","unitTests","generateUnitTests","integrationTests","generateIntegrationTests","e2eTests","generateE2ETests","performanceTests","generatePerformanceTests","target","current","testsDir","formatTestPlan","review","codeQuality","assessCodeQuality","security","assessSecurity","performance","assessPerformance","maintainability","assessMaintainability","recommendations","generateRecommendations","formatReviewReport","documentation","readme","generateReadme","apiDocs","generateApiDocs","userGuide","generateUserGuide","developerGuide","generateDeveloperGuide","docsDir","desc","functional","getFunctionalRequirements","nonFunctional","getNonFunctionalRequirements","technical","getTechnicalRequirements","business","getBusinessRequirements","stories","story","priority","criteria","endpoints","functionality","usability","compatibility","testFramework","getTestFramework","unit","generateUnitTestCases","integration","generateIntegrationTestCases","fixtures","generateTestFixtures","mocks","generateMocks","modules","generateModules","classes","generateClasses","functions","generateFunctions","generateConfig","optimized","structure","getProjectStructure","dir","directories","testDir","getTestDirectory","content","Object","entries","filename","getTestFileName","srcDir","getSourceDirectory","module","getSourceFileName","files","getProjectFiles","frameworks","python","javascript","typescript","java","structures","extensions","tech","framework","test_models","test_services","test_main","test_api","test_integration","users","username","email","products","price","database","externalAPI","fileSystem","app","models","routes","services","main","BaseClass","ServiceClass","helpers","validators","api","logging","Dockerfile","overall","e2e","map","r","s","category","items","item","JSON","stringify","plan","complexity","duplication","testCoverage","linting","authentication","authorization","inputValidation","encryption","responseTime","throughput","scalability","caching","readability","modularity","dependencies","frontend","backend","external","hosting","monitoring","dataProcessing","businessLogic","optimization","schemas","userFlow","dataFlow","systemFlow","executeAnalyzerTask","executeCoordinationTask","executeGenericTask","status"],"mappings":"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"}